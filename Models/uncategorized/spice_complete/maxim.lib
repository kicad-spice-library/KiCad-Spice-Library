* MAX402 FAMILY MACROMODELS
*
*
* FEATURES:
* High gain-bandwidth at low supply current (>10MHz/mA)
* Supply Voltage ---------------  +- 3V to +-5V
* Offset Voltage ---------------  2.0mV max.
* Input Bias Current -----------  +/- 5nA max. (MAX402/403)
*                                 +/- 25nA max. (MAX438/439)
*
* PART NUMBER    DESCRIPTION
* __________     ______________________________________________
*  MAX402        2MHz GBW,   75uA Idd, Av=1 stable,  7V/uS slew
*  MAX403        10MHz GBW, 375uA Idd, Av=1 stable, 40V/uS slew
*  MAX438        6MHz GBW,   75uA Idd, Av>=5 min.,  10V/uS slew
*  MAX439        25MHz GBW, 375uA Idd, Av>=5 min.,  48V/uS slew
*
*
*  ////////////// MAX402 MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX402_MX 1 2 99 50 97
****************INPUT STAGE**********************
*IOS 2 1 0N
I1 4 50 50E-6
GIN 2 1 2 1 1E-9
R1 5 99 9000
R2 6 99 9000
EOS 1 9 POLY(1) 98 30  0.5M 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 103 QX
Q2 6 9 104 QX
REE1 104 4 9000
REE2 103 4 9000
* Second Pole
C4 5 6 6PF
***************SECOND STAGE******************
*IS 99 50 -2M
*  SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.81
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.81
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 0.0018
R4 12 98 5.57E+6
C3 98 12 1.14E-10
*
****COMMON-MODE STAGE****
G11 98 30 104 98 17.8E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 -0.6V
V4 36 35 -0.6V
R16 34 35 200
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 4
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=12500)
.ENDS
*
*  ////////////// MAX403 MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX403_MX 1 2 99 50 97
****************INPUT STAGE**********************
*IOS 2 1 0N
* NO OFFSET CURRENT
I1 4 50 250E-6
GIN 2 1 2 1 .55E-9
R1 5 99 2608
R2 6 99 2608
EOS 1 9 POLY(1) 98 30  0.5MV 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 103 QX
Q2 6 9 104 QX
REE1 104 4 2608
REE2 103 4 2608
* Second Pole
C4 5 6 4.5PF
*IS 99 50 .5m
*  SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.81
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.81
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 0.0003932
R4 12 98 2.5465E+7
C3 98 12 6.25PF
****COMMON-MODE STAGE****
G11 98 30 104 98 1E-7
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 -0.3V
V4 36 35 -0.3V
R16 34 35 200
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.5U
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=12500)
.ENDS
*
*  ////////////// MAX438 MACROMODEL //////////////////
*
*  ====> MAX438 MUST BE OPERATED CLOSED-LOOP GAIN
*        OF 5V/V OR GREATER TO INSURE STABILITY   <====
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX438_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 0N
I1 4 50 50E-6
GIN 2 1 2 1 1E-9
R1 5 99 4k
R2 6 99 4k
EOS 1 9 POLY(1) 98 30  0.5M 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 103 QX
Q2 6 9 104 QX
REE1 104 4 4k
REE2 103 4 4k
* Second Pole
C4 5 6 3PF
***************SECOND STAGE******************
*IS 99 50 .5m
*  SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.61
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.61
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 1.184E-4
R4 12 98 4.75E+7
C3 98 12 1.2PF
****COMMON-MODE STAGE****
G11 98 30 104 98 17.8E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 -0.6V
V4 36 35 -0.6V
R16 34 35 200
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.5U
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=12500)
.ENDS
*
*  ////////////// MAX439 MACROMODEL //////////////////
*
*  ====> MAX439 MUST BE OPERATED CLOSED-LOOP GAIN
*        OF 5V/V OR GREATER TO INSURE STABILITY   <====
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX439_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 0N
I1 4 50 250E-6
GIN 2 1 2 1 1E-9
R1 5 99 500
R2 6 99 500
EOS 1 9 POLY(1) 98 30  0.5M 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 103 QX
Q2 6 9 104 QX
REE1 104 4 500
REE2 103 4 500
* Second Pole
C4 5 6 13PF
***************SECOND STAGE******************
*IS 99 50 .5m
*  SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.61
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.61
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 9.16e-4
R4 12 98 10.9E+6
C3 98 12 2.1PF
****COMMON-MODE STAGE****
G11 98 30 104 98 1E-7
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 -0.3V
V4 36 35 -0.3V
R16 34 35 200
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.5U
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=25000)
.ENDS
* MAX406 FAMILY MACROMODELS
* -------------------------
** FEATURES:
* 1.2uA Max Quiescent Current per Amplifier
* Low Supply Voltage Operation ------   +2.5V to +10V
* Low Input Current          --------   0.1pA typ.
* Input Voltage Range Includes Negative Rail
* Output Swings Rail-to-Rail
* Available in 8-Pin DIP/SO
* Choice of: 8kHz   GBW unity-gain stable
*            40kHz  GBW (Av=2 min.)
*            150kHz GBW (Av=10 min.)
*
* SUBCIRCUIT    PART NUMBER    DESCRIPTION
* __________    ___________    ___________________________________
* MAX406Ac      MAX406A        comp.(AV=1) 8kHz GBW, 0.25mV VOS
* MAX406Ad      MAX406A        decomp.(AV=2 min) 40kHz, 0.25mV VOS
* MAX406Bc      MAX406B        comp.(AV=1) 8kHz GBW, 0.75mV VOS
* MAX406Bd      MAX406B        decomp.(AV=2 min) 40kHz GBW, 0.75mV
* MAX407        MAX407         DUAL, UNITY-GAIN STABLE, 1mV VOS
* MAX409A       MAX409A        AV=10 min., 0.5mV VOS
* MAX409B       MAX409B        AV=10 min., 2.0mV VOS
* MAX417        MAX417         DUAL, AV=10 min., 3.0mV VOS
* MAX418        MAX418         QUAD, UNITY-GAIN STABLE, 4.0mV VOS
* MAX419        MAX419         QUAD, AV=10 min., 4.0mV VOS
*
* Note: MAX406 can operate in COMPENSATED mode (unity gain stable)
*       or DECOMPENSATED mode (stable for Av=>2).  Pin 'BW' is tied
*       to V+, V-, or left open to set mode on actual part.
*       For simulations, use subcircuit MAX406Xc for COMPENSATED
*       mode and subcircuit MAX406Xd for DECOMPENSATED mode.
*
*
*   ////////////// MAX406Ac MACROMODEL //////////////////
*
*   ====>        "c" DENOTES COMPENSATED MODE         <====
*   ====>   REFER TO MAX406/MAX407/MAX409 DATA SHEET  <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX406Ac_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 19UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 .25E-3 1
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 14.5N
*
CCOMP 97 100 20000nf
RCOMP 100 9 100000
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 97 1K
E1 99 33 99 32 1
VA8 33 34 0V
RCON 35 97 15K
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
*   ////////////// MAX406Bc MACROMODEL //////////////////
*
*   ====>        "c" DENOTES COMPENSATED MODE         <====
*   ====>   REFER TO MAX406/MAX407/MAX409 DATA SHEET  <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX406Bc_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************ GSUP CREATES AVOL VS VSUPPLY ********
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
EH 99 98 99 50 0.5
VS 9 10 0V
R0  98  9 1E6
C3 10 98 19UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 0.75E-3 1
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 14.5N
*
CCOMP 97 100 20000nf
RCOMP 100 9 100000
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 97 1K
E1 99 33 99 32 1
VA8 33 34 0V
RCON 35 97 15K
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
*   ////////////// MAX406Ad MACROMODEL //////////////////
*
*   ====>        "d" DENOTES DECOMPENSATED MODE         <====
*   ====>   REFER TO MAX406/MAX407/MAX409 DATA SHEET  <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX406Ad_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DX
DP3  2 99 DX
DP4 50  2 DB
C4  5 6 .6N
*POLE AT 25KHZ
************ GSUP CREATES AVOL VS VSUPPLY ********
EH 99 98 99 50 0.5
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 3.9UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 .25M 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 5.3N
*            POLE AT 30KH
******** POLE / ZERO STAGE ******
G5 98 18 15 98 1E-3
R14 98 18 1K
C6 18 19 2.6UF
R19 19 98 5K
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 18 98 1E-6
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.2
RCON 35 97 15K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
*   ////////////// MAX406Bd MACROMODEL //////////////////
*
*   ====>        "d" DENOTES DECOMPENSATED MODE         <====
*   ====>   REFER TO MAX406/MAX407/MAX409 DATA SHEET  <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX406Bd_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DX
DP3  2 99 DX
DP4 50  2 DB
C4  5 6 .6N
*POLE AT 25KHZ
************ GSUP CREATES AVOL VS VSUPPLY ********
EH 99 98 99 50 0.5
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 3.9UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 0.75M 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 5.3N
*            POLE AT 30KH
******** POLE / ZERO STAGE ******
G5 98 18 15 98 1E-3
R14 98 18 1K
C6 18 19 2.6UF
R19 19 98 5K
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 18 98 1E-6
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.2
RCON 35 97 15K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=0.5K)
.MODEL DB D(IS=100E-14 RS=0.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
*   ////////////// MAX407 MACROMODEL //////////////////
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX407_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DX
DP3  2 99 DX
DP4 50  2 DB
************ GSUP CREATES AVOL VS VSUPPLY ********
EH 99 98 99 50 0.5
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 19UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -18U
* TYPICAL SUPPLY CURRENT 2UA
EOS 7 1 POLY(1) 16 98 1M 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 14.5N
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.2
RCON 35 97 15K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=0.5K)
.MODEL DB D(IS=100E-14 RS=0.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
* ////////////// MAX409A MACROMODEL //////////////////
*
*  ===>  MAX409A MUST BE OPERATED WITH CLOSED-LOOP
*        GAIN OF 10V/V OR GREATER TO INSURE STABILITY  <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX409A_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
C4  5 6 .07N
*POLE AT 25KHZ
************ GSUP CREATES AVOL VS VSUPPLY ********
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 1.3UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 .25M 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 1.77N
*            POLE AT 30KH
******** POLE / ZERO STAGE ******
G5 98 18 15 98 1E-3
R14 98 18 1K
C6 18 19 4.42NF
R19 19 98 800
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 18 98 1E-6
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2
V4 36 35 -.2
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.5
RCON 35 97 30K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
*RS=0.5K SOFTENS KNEE CURVE SO THAT CONVERGENCE IS IMPROVED.
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
* ////////////// MAX409B MACROMODEL //////////////////
*
*  ===>  MAX409B MUST BE OPERATED WITH CLOSED-LOOP
*        GAIN OF 10V/V OR GREATER TO INSURE STABILITY  <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX409B_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DX
DP3  2 99 DX
DP4 50  2 DB
C4  5 6 .07N
*POLE AT 25KHZ
************ GSUP CREATES AVOL VS VSUPPLY ********
EH 99 98 99 50 0.5
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 1.3UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 .75E-3 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 1.77N
*            POLE AT 30KH
******** POLE / ZERO STAGE ******
G5 98 18 15 98 1E-3
R14 98 18 1K
C6 18 19 4.42NF
R19 19 98 800
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 18 98 1E-6
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.5
RCON 35 97 30K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=0.5K)
.MODEL DB D(IS=100E-14 RS=0.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
* ////////////// MAX417 MACROMODEL //////////////////
*
*  ===>  MAX417 MUST BE OPERATED WITH CLOSED-LOOP
*        GAIN OF 10V/V OR GREATER TO INSURE STABILITY  <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX417_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DX
DP3  2 99 DX
DP4 50  2 DB
C4  5 6 .07N
*POLE AT 25KHZ
************ GSUP CREATES AVOL VS VSUPPLY ********
EH 99 98 99 50 0.5
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 1.3UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 1.0E-3 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 1.77N
*            POLE AT 30KH
******** POLE / ZERO STAGE ******
G5 98 18 15 98 1E-3
R14 98 18 1K
C6 18 19 4.42NF
R19 19 98 800
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 18 98 1E-6
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.5
RCON 35 97 30K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=0.5K)
.MODEL DB D(IS=100E-14 RS=0.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
* ////////////// MAX418 MACROMODEL //////////////////
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX418_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DX
DP3  2 99 DX
DP4 50  2 DB
************ GSUP CREATES AVOL VS VSUPPLY ********
EH 99 98 99 50 0.5
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 19UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -18U
* TYPICAL SUPPLY CURRENT 2UA
EOS 7 1 POLY(1) 16 98 1M 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 14.5N
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.2
RCON 35 97 15K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=0.5K)
.MODEL DB D(IS=100E-14 RS=0.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS
*
* ////////////// MAX419 MACROMODEL //////////////////
*
*  ===>  MAX419 MUST BE OPERATED WITH CLOSED-LOOP
*        GAIN OF 10V/V OR GREATER TO INSURE STABILITY  <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX419_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 20U
M1   5  2 4 99 MOSFET
R3   5 50 5.2696K
M2   6  7 4 99 MOSFET
R4   6 50 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DX
DP3  2 99 DX
DP4 50  2 DB
C4  5 6 .07N
*POLE AT 25KHZ
************ GSUP CREATES AVOL VS VSUPPLY ********
EH 99 98 99 50 0.5
GSUP 0 106 POLY(1) 99 50 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E6
C3 10 98 1.3UF
D1 9 111 DX
D2 112 9 DX
V11 99 111 .5V
V12 112 50 .5V
I2 99 50 -19U
EOS 7 1 POLY(1) 16 98 1.0E-3 1
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 500
******* POLE AND STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
C5 98 15 1.77N
*            POLE AT 30KH
******** POLE / ZERO STAGE ******
G5 98 18 15 98 1E-3
R14 98 18 1K
C6 18 19 4.42NF
R19 19 98 800
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 18 98 1E-6
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 35 1K
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 0.5
RCON 35 97 30K
*RCON ALSO  ENHANCES CONVERGENCE FEATURES
******************************************
.MODEL DA D(IS=100E-14 RS=0.5K)
.MODEL DB D(IS=100E-14 RS=0.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
.ENDS

* MAX410 FAMILY MACROMODELS
* -------------------------
* * FEATURES:
* 100% tested low voltage noise ------  1.8nv/root Hz typ.
* Low Supply Voltage Operation ------   +-2.4V to +-5V
* Low Offset Voltage ----------------   250uV max.
* High Voltage Gain -----------------   115dB min.
* Available as single/dual/quad -----   MAX410/412/414
*
* SUBCIRCUIT      PART NUMBER     DESCRIPTION
* __________      ___________     ___________
* MAX410          MAX410          SINGLE, 1.8nV/rt.Hz typ.
* MAX410B         MAX410B         SINGLE, 2.4nV/rt.Hz typ.
* MAX412          MAX412          DUAL,  1.8nV/rt.Hz typ.
* MAX412B         MAX412B         DUAL,  2.4nV/rt.Hz typ.
* MAX414          MAX414          QUAD,  1.8nV/rt.Hz typ.
* MAX414B         MAX414B         QUAD,  2.4nV/rt.Hz typ.
*
*////////////// MAX410 MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX410_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
EOS 1 3 POLY(1) 98 30 .25M 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
*Fp2=65MHz, Second Pole
C4 5 6 23.5PF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=4E-15 RS=300)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=3.1E-16 RS=300)
*
***************SECOND STAGE******************
IS 99 50 .5m
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.7
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.7
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 29.3E-3
*1ST POLE 21HZ,AVOL 1E6
G4 12 98 12 98 29.3E-9
C3 98 12 215E-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 20
RD2 17 18 20
RD3 18 19 20
CD1 17 98 18PF
CD2 18 98 18PF
CD3 19 98 18PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0.3V
V4 36 35 0.3V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 40
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
*////////////// MAX410B MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX410B_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
EOS 1 3 POLY(1) 98 30 .12M 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
*Fp2=65MHz, Second Pole
C4 5 6 23.5PF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=4E-15 RS=580)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=3.1E-16 RS=300)
*
***************SECOND STAGE******************
IS 99 50 .5m
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.7
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.7
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 29.3E-3
*1ST POLE 21HZ,AVOL 1E6
G4 12 98 12 98 29.3E-9
C3 98 12 195E-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 20
RD2 17 18 20
RD3 18 19 20
CD1 17 98 18PF
CD2 18 98 18PF
CD3 19 98 18PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0.3V
V4 36 35 0.3V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 40
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
*////////////// MAX412 MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX412_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
EOS 1 3 POLY(1) 98 30 .12M 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
*Fp2=65MHz, Second Pole
C4 5 6 23.5PF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=4E-15 RS=300)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=3.1E-16 RS=300)
*
***************SECOND STAGE******************
IS 99 50 .5m
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.7
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.7
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 29.3E-3
*1ST POLE 21HZ,AVOL 1E6
G4 12 98 12 98 29.3E-9
C3 98 12 195E-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 20
RD2 17 18 20
RD3 18 19 20
CD1 17 98 18PF
CD2 18 98 18PF
CD3 19 98 18PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0.3V
V4 36 35 0.3V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 40
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
*////////////// MAX412B MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX412B_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
EOS 1 3 POLY(1) 98 30 .12M 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
*Fp2=65MHz, Second Pole
C4 5 6 23.5PF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=4E-15 RS=580)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=3.1E-16 RS=300)
*
***************SECOND STAGE******************
IS 99 50 .5m
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.7
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.7
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 29.3E-3
*1ST POLE 21HZ,AVOL 1E6
G4 12 98 12 98 29.3E-9
C3 98 12 195E-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 20
RD2 17 18 20
RD3 18 19 20
CD1 17 98 18PF
CD2 18 98 18PF
CD3 19 98 18PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0.3V
V4 36 35 0.3V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 40
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
*////////////// MAX414 MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX414_MX 1 2  99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
EOS 1 3 POLY(1) 98 30 .15M 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
*Fp2=65MHz, Second Pole
C4 5 6 23.5PF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=4E-15 RS=300)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=3.1E-16 RS=300)
*
***************SECOND STAGE******************
IS 99 50 .5m
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.7
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.7
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 29.3E-3
*1ST POLE 21HZ,AVOL 1E6
G4 12 98 12 98 29.3E-9
C3 98 12 195E-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 20
RD2 17 18 20
RD3 18 19 20
CD1 17 98 18PF
CD2 18 98 18PF
CD3 19 98 18PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0.3V
V4 36 35 0.3V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 40
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
*////////////// MAX414B MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |      inverting input
*                       |      |      positive power-supply
*                       |      |      |    negative power-supply
*                       |      |      |      |       output
*                       |      |      |      |       |
* NODE CONNECTIONS:     1      2      99     50      97
*
.SUBCKT MAX414B_MX 1 2  99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
EOS 1 3 POLY(1) 98 30 .15M 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
*Fp2=65MHz, Second Pole
C4 5 6 23.5PF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=4E-15 RS=580)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=3.1E-16 RS=300)
*
***************SECOND STAGE******************
IS 99 50 .5m
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.7
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.7
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 29.3E-3
*1ST POLE 21HZ,AVOL 1E6
G4 12 98 12 98 29.3E-9
C3 98 12 195E-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 20
RD2 17 18 20
RD3 18 19 20
CD1 17 98 18PF
CD2 18 98 18PF
CD3 19 98 18PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0.3V
V4 36 35 0.3V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 40
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS

* MAX4100 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 500MHz Unity-Gain Bandwidth
* 5mA Typical Supply Current
* 80mA Output Drive
* 250V/uS Slew Rate
* Available in 8-Pin SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________
* MAX4100        500MHz, Low-Power Op Amp
*
*
*   ////////////// MAX4100 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4100 DATA SHEET       <====
*
* connections:          non-inverting input
*                       |       inverting input
*                       |       |       positive power-supply
*                       |       |       |       negative power-supply
*                       |       |       |       |       output
*                       |       |       |       |       |
* OUTPUT CONNECTS:      1       2       99      50      97
*
* FEATURES:
.SUBCKT MAX4100_MX 1 2 99 50 97
****************INPUT STAGE**********************
Isy 99 50 -9MA
*fixes supply current
IOS 2 1 50N
I1 4 50 14MA
GIN 2 1 2 1 50E-9
*CIN 1 2 .5PF
R1 5 99 7.4
*3.7
R2 6  99 7.4
VOS 1 9 0V
*EOS 1 9 POLY(1) 98 30 0 1
*               ^       OFFSET VOLTAGE
Q1 5 2 400 QX
Q2 6 9 401 QX
RD1 400 4 7.4
RD2 401 4 7.4
Dsub 50 99 DX
****OUTPUT VOLTAGE LIMITING****
V2 99 11 2.03
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
*G3 98 12 5 6 0.0352
G3 98 12 5 6 0.0176
R4 12 98 40K
*40K
*C3 98 12 1.4E-11
C3 98 12 .5E-11
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
*D13 50 15 DX
R5 98 15 1E3
*                  ^ POLE AT 130MEGHZ
*c5 98 15 .15E-13
c5 98 15 .15E-12
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 15 98 1E-3
*************  ******************************
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0v
V4 36 35 0V
R16 34 35 8
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ends
* MAX4101 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 200MHz -3dB Bandwidth AVCL=2
* 5mA Typical Supply Current
* 80mA Output Drive
* 250V/uS Slew Rate
* Available in 8-Pin SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________
* MAX4101        500MHz, Low-Power Op Amp
*
*
*   ////////////// MAX4101 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4101 DATA SHEET       <====
*
* connections:          non-inverting input
*                       |       inverting input
*                       |       |       positive power-supply
*                       |       |       |       negative power-supply
*                       |       |       |       |       output
*                       |       |       |       |       |
* OUTPUT CONNECTS:      1       2       99      50      97
*
* FEATURES:
.SUBCKT MAX4101_MX 1 2 99 50 97
****************INPUT STAGE**********************
Isy 99 50 -9MA
*fixes supply current
IOS 2 1 50N
I1 4 50 14MA
GIN 2 1 2 1 50E-9
*CIN 1 2 2PF
R1 5 99 7.4
R2 6  99 7.4
VOS 1 9 0V
*EOS 1 9 POLY(1) 98 30 0 1
*               ^       OFFSET VOLTAGE
Q1 5 2 400 QX
Q2 6 9 401 QX
RD1 400 4 7.4
RD2 401 4 7.4
Dsub 50 99 DX
****OUTPUT VOLTAGE LIMITING****
V2 99 11 2.03
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
*G3 98 12 5 6 0.0352
G3 98 12 5 6 0.0176
R4 12 98 40K
*40K
*C3 98 12 1.4E-11
C3 98 12 .4E-11
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
*D13 50 15 DX
R5 98 15 1E3
*                  ^ POLE AT 130MEGHZ
*c5 98 15 .15E-13
c5 98 15 .104E-12
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 15 98 1E-3
*************  ******************************
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0v
V4 36 35 0V
R16 34 35 8
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ends
* MAX4106 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 350MHz -3dB Bandwidth
* 15mA Typical Supply Current
* 80mA Output Drive
* 275V/uS Slew Rate
* Available in 8-Pin SO
*
* PART NUMBER    DESCRIPTION
* ___________    ______________________________
* MAX4106        350MHz, Ultra-Low-Noise Op Amp
*
*
*   ////////////// MAX4106 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4106 DATA SHEET       <====
*
* connections:          non-inverting input
*                       |       inverting input
*                       |       |       positive power-supply
*                       |       |       |       negative power-supply
*                       |       |       |       |       output
*                       |       |       |       |       |
* OUTPUT CONNECTS:      1       2       99      50      97
*
* NOTE OFFSET HAS NOT BEEN ADDED TO THIS MODEL
*
.SUBCKT MAX4106_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 50N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
*CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
vos 1 3 0v
*EOS 1 3 POLY(1) 98 30 0 .63
*               ^       OFFSET VOLTAGE

*****OFFSET VOLTAGE MUST BE 0V TO PERFORM SMALL-SIGNAL ANALYSIS*****
*Vn 3 9 0v
EN 3 9 POLY(1) 103 0 0 .70
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
C4 5 6 6PF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=10E-15 RS=33)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=30E-16 RS=20)
*
***************SECOND STAGE******************
IS 99 50 13mA
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .5
D1 12 11 DX
D2 10 12 DX
V3 10 50 .5
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 27.1E-3
*27.1
*1ST POLE 21HZ,AVOL 1E6
r4 12 98 6254E3
C3 98 12 2.1E-12
*1.78
*    2.32
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
*G5 98 15 12 98 1E-3
*G6 98 15 98 15 1E-3
*D13 50 15 DX
*R5 98 15 1E3
*C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 4V
V4 36 35 4V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 20
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=55.5)
*BF IS SET FOR FOR INPUT BIAS
.ends
* MAX4107 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 300MHz -3dB Bandwidth
* 15mA Typical Supply Current
* 80mA Output Drive
* 500V/uS Slew Rate
* Available in 8-Pin SO
*
* PART NUMBER    DESCRIPTION
* ___________    ______________________________
* MAX4107        300MHz, Ultra-Low-Noise Op Amp
*
*
*   ////////////// MAX4107 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4107 DATA SHEET       <====
*
* connections:          non-inverting input
*                       |       inverting input
*                       |       |       positive power-supply
*                       |       |       |       negative power-supply
*                       |       |       |       |       output
*                       |       |       |       |       |
* OUTPUT CONNECTS:      1       2       99      50      97
*
* NOTE OFFSET HAS NOT BEEN ADDED TO THIS MODEL
*
.SUBCKT MAX4107_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 50N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
*CIN 1 2 4PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
vos 1 3 0v
*EOS 1 3 POLY(1) 98 30 0 .63
*               ^       OFFSET VOLTAGE

*****OFFSET VOLTAGE MUST BE 0V TO PERFORM SMALL-SIGNAL ANALYSIS*****
*Vn 3 9 0v
EN 3 9 POLY(1) 103 0 0 .7
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
C4 5 6 6.5pF
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=10E-15 RS=33)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=30E-16 RS=20)
*
***************SECOND STAGE******************
IS 99 50 13mA
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .5
D1 12 11 DX
D2 10 12 DX
V3 10 50 .5
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 27.1E-3
*27.1
*1ST POLE 21HZ,AVOL 1E6
r4 12 98 6254E3
C3 98 12 1.65e-12
* 1.3
* 2.6
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
*G5 98 15 12 98 1E-3
*G6 98 15 98 15 1E-3
*D13 50 15 DX
*R5 98 15 1E3
*C5 98 15 2.45E-12
*                  ^ POLE AT 65MEGHZ
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 4V
V4 36 35 4V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 20
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=55.5)
*BF IS SET FOR FOR INPUT BIAS
.ends
* MAX4108 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 400MHz -3dB Bandwidth
* 20mA Typical Supply Current
* 90mA Output Drive
* 1200V/uS Slew Rate
* Available in 8-Pin SO
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX4108        400MHz, Ultra-Low-Distortion Op Amp
*
*
*   ////////////// MAX4108 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4108 DATA SHEET       <====
*
* connections:          non-inverting input
*                       |       inverting input
*                       |       |       positive power-supply
*                       |       |       |       negative power-supply
*                       |       |       |       |       output
*                       |       |       |       |       |
* OUTPUT CONNECTS:      1       2       99      50      97
*
* NOTE OFFSET HAS NOT BEEN ADDED TO THIS MODEL
*
.SUBCKT MAX4108_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 50N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
vos 1 3 0v
*EOS 1 3 POLY(1) 98 30 0 .63
*               ^       OFFSET VOLTAGE

*****OFFSET VOLTAGE MUST BE 0V TO PERFORM SMALL-SIGNAL ANALYSIS*****
Vn 3 9 0v
*EN 3 9 POLY(1) 103 0 0 .70
Q1 5 2 401 QX
Q2 6 9 402 QX
RDEG1 401 4 208
RDEG2 402 4 208
Dsub 50 99 DX
*C4 5 6 7PF
*
***************SECOND STAGE******************
IS 99 50 18mA
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .5
D1 12 11 DX
D2 10 12 DX
V3 10 50 .5
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 .0042
*27.1
*1ST POLE 21HZ,AVOL 1E6
R4 12 98 2.387E7
C3 98 12 1.72E-13
* 1.667e-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
R5 98 15 1E3
C5 98 15 3.3E-13
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 15 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 4V
V4 36 35 4V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 20
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=83.3)
*BF IS SET FOR FOR INPUT BIAS
.ends
* MAX4109 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 225MHz -3dB Bandwidth AVCL=2V/V
* 20mA Typical Supply Current
* 90mA Output Drive
* 1200V/uS Slew Rate
* Available in 8-Pin SO
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX4109        225MHz, Ultra-Low-Distortion Op Amp
*
*
*   ////////////// MAX4109 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4109 DATA SHEET       <====
*
* connections:          non-inverting input
*                       |       inverting input
*                       |       |       positive power-supply
*                       |       |       |       negative power-supply
*                       |       |       |       |       output
*                       |       |       |       |       |
* OUTPUT CONNECTS:      1       2       99      50      97
*
* NOTE OFFSET HAS NOT BEEN ADDED TO THIS MODEL
*
.SUBCKT MAX4109_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 50N
I1 4 50 2MA
GIN 2 1 2 1 50E-9
G1 5 99 5 99 38.5E-3
G2 6 99 6 99 38.5E-3
vos 1 3 0v
*EOS 1 3 POLY(1) 98 30 0 .63
*               ^       OFFSET VOLTAGE

*****OFFSET VOLTAGE MUST BE 0V TO PERFORM SMALL-SIGNAL ANALYSIS*****
Vn 3 9 0v
*EN 3 9 POLY(1) 103 0 0 .70
Q1 5 2 401 QX
Q2 6 9 402 QX
RDEG1 401 4 208
RDEG2 402 4 208
Dsub 50 99 DX
*C4 5 6 7PF
*
***************SECOND STAGE******************
IS 99 50 13mA
*         SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .5
D1 12 11 DX
D2 10 12 DX
V3 10 50 .5
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 .0042
*27.1
*1ST POLE 21HZ,AVOL 1E6
R4 12 98 2.387E7
C3 98 12 1.36E-13
* 1.667e-12
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
R5 98 15 1E3
C5 98 15 3.3E-13
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 15 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 4V
V4 36 35 4V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 50P
R17 96 97 20
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=83.3)
*BF IS SET FOR FOR INPUT BIAS
.ends
* MAX4112 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 500MHz -3dB Bandwidth
* 300MHz Full-Power Bandwidth
* 5mA Typical Supply Current
* 80mA Output Drive
* 1200V/uS Slew Rate
* Available in 8-Pin SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    _____________________________
* MAX4112        500MHz, Low-Power Current-Mode
*                Feedback Amplifiers
*
*
*   ////////////// MAX4112 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4112 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4112_MX     1   2  99  50  40
ISUPP 99 0 3.73MA
ISUPPN 50 0 -1.73MA
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .63P
R2  4  7 633
C2   7 50 .63P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
VOS 3 1 0V
CIN1 1  0 2.5P
CIN2 2  0 2.5P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .25P
C3 98 15 .176P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 7V
D5  23 33 DX
V6  40 34 7V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX4113 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 275MHz -3dB Bandwidth
* 250MHz Full-Power Bandwidth
* 5mA Typical Supply Current
* 80mA Output Drive
* 1800V/uS Slew Rate
* Available in 8-Pin SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    _____________________________
* MAX4113        500MHz, Low-Power Current-Mode
*                Feedback Amplifiers
*
*
*   ////////////// MAX4113 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4113 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4113_MX     1   2  99  50  40
*
* NOTE:  MAX4113 MACROMODEL AC ACCURACY DEGRADES AS AVCL EXCEEDS
*        GAINS OF +11.  FOR CRITICAL HIGH GAIN APPLICATIONS CONTACT
*        AL NEVES 408-263-6423, OR MAXIM APPLICATIONS GROUP.
*        ESSENTIALLY, CAPACITORS C1,C2, C3, AND C7 NEED TO BE SCALED
*        TO MATCH EITHER AV=+20, OR AV=+50 DATA SHEET CURVES FOR
*        MAX4113 CLOSED-LOOP GAIN VS. FREQUENCY.  ALSO NOTE THAT
*        ANY CAPACITIVE LOADS WILL RESULT IN SOME PEAKING WHICH MAY
*        EFFECT THE RESULTS ACCORDINGLY.
*
*        MOST OF THE AVAILABLE MODELS HAVE THIS LIMITATION - WE
*        ARE NICE ENOUGH TO INFORM YOU.
*** INPUT STAGE
ISUPP 99 0 3.73MA
ISUPN 50 0 -1.73MA
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .276P
R2  4  7 633
C2   7 50 .276P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
VOS 3 1 0V
CIN1 1  0 1P
CIN2 2  0 1P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3  98 15 .174P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .632P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .3P
*
***************POLE STAGE***************
*
*Fp=125 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
C7  98 23 .99P

*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 1.7V
*7V
D5  23 33 DX
V6  40 34 1.7V
D6  34 23 DX
CF1 40  2 1.19P
*** was 1.8pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX4122 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 5MHz Gain Bandwidth Product
* 650uA Typical Supply Current
* Drive 250 Ohm Loads
* Unity-Gain Stable
* Rail-to-Rail I/O
* Available in 5-Pin SOT23-5 (MAX4122)
*              8-Pin SO/uMAX (MAX4126)
*             14-Pin SO (MAX4129)
*
* PART NUMBER    DESCRIPTION
* ___________    ______________________________
* MAX4122        Single 5MHz, Unity-Gain Stable
* MAX4126        Dual 5MHz, Unity-Gain Stable
* MAX4129        Quad 5MHz, Unity-Gain Stable
*
*
*   ////////////// MAX4122 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4122 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4122_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 6.5e-10
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dp
D103 10 100 Dp
D104 100 99 Dp
F100 100 99 POLY(1) VB -1.2MA 1
***
D108 50 10 Dp
D105 101 10 Dp
D106 50 101 Dp
F2 50 101 POLY(1) VB -1.2MA -1
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 12p
* was 8pf
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
*
*   ////////////// MAX4126 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4126 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4126_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 6.5e-10
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dp
D103 10 100 Dp
D104 100 99 Dp
F100 100 99 POLY(1) VB -1.2MA 1
***
D108 50 10 Dp
D105 101 10 Dp
D106 50 101 Dp
F2 50 101 POLY(1) VB -1.2MA -1
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 12p
* was 8pf
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
*
*   ////////////// MAX4129 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4129 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4129_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 6.5e-10
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dp
D103 10 100 Dp
D104 100 99 Dp
F100 100 99 POLY(1) VB -1.2MA 1
***
D108 50 10 Dp
D105 101 10 Dp
D106 50 101 Dp
F2 50 101 POLY(1) VB -1.2MA -1
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 12p
* was 8pf
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
* MAX4124 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 25MHz Gain Bandwidth Product
* 650uA Typical Supply Current
* Drive 250 Ohm Loads
* Stable at Gains >=10V/V
* Rail-to-Rail I/O
* Available in 5-Pin SOT23-5 (MAX4124)
*              8-Pin SO/uMAX (MAX4128)
*
* PART NUMBER    DESCRIPTION
* ___________    ______________________________
* MAX4124        Single 25MHz, Stable Av=10V/V
* MAX4128        Dual 25MHz, Stable Av=10V/V
*
*
*   ////////////// MAX4124 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4124 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4124_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
*C3 10 98 1.3e-10E5
C3 10 98 1.3E-10
*** ***********
D107 10 99 Dp
D103 10 100 Dp
D104 100 99 Dp
F100 100 99 POLY(1) VB -1.2MA 1
***
D108 50 10 Dp
D105 101 10 Dp
D106 50 101 Dp
F2 50 101 POLY(1) VB -1.2MA -1
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 8P
* was 2.4pf
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
*
*   ////////////// MAX4128 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4128 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4128_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
*C3 10 98 1.3e-10E5
C3 10 98 1.3E-10
*** ***********
D107 10 99 Dp
D103 10 100 Dp
D104 100 99 Dp
F100 100 99 POLY(1) VB -1.2MA 1
***
D108 50 10 Dp
D105 101 10 Dp
D106 50 101 Dp
F2 50 101 POLY(1) VB -1.2MA -1
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 8P
* was 2.4pf
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
* MAX4130 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 10MHz Gain Bandwidth Product
* 900uA Typical Supply Current
* Drive 250 Ohm Loads
* Unity-Gain Stable
* Rail-to-Rail I/O
* Available in 5-Pin SOT23-5 (MAX4130)
*              8-Pin SO/uMAX (MAX4132)
*             14-Pin SO (MAX4134)
*
* PART NUMBER    DESCRIPTION
* ___________    ______________________________
* MAX4130        Single 10MHz, Unity-Gain Stable
* MAX4132        Dual 10MHz, Unity-Gain Stable
* MAX4134        Quad 10MHz, Unity-Gain Stable
*
*
*   ////////////// MAX4130 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4130 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX4130_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 3e-10

*C3 10 98 1.3E-10
*** **************
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.2E-3 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.2E-3 -1
***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 6p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=.25 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
*
*
*   ////////////// MAX4132 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4132 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX4132_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 3e-10

*C3 10 98 1.3E-10
*** **************
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.2E-3 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.2E-3 -1
***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 6p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=.25 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
*
*
*   ////////////// MAX4134 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4134 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT MAX4134_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 50NA
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 3e-10

*C3 10 98 1.3E-10
*** **************
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.2E-3 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.2E-3 -1
***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 300U
VOS 7 1 0v
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 6p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 10
E1 99 33 99 32 1
VA8 33 34 0V
*RCON 35 97 15k
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=.25 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.ENDS
* MAX4144 FAMILY MACROMODEL
* -------------------------
* FEATURES:
* 130MHz -3dB Bandwidth (MAX4144)
* 70MHz -3dB Bandwidth (MAX4146)
* 11mA Typical Supply Current
* 100mA Typical Output Current Drive
* 2V/V Fixed Gain (MAX4144)
* External Gain Selection (MAX4146)
* 1000V/uS Slew Rate
* Available in 14-Pin SO (MAX4144 & MAX4146)
*
* PART NUMBER         DESCRIPTION
* ___________         ________________________________________
* MAX4144             130MHz, Av=1, Differential Line Receiver
* MAX4146             70MHz, Av=10, Differential Line Receiver
*
*   ///////////////// MAX4144 MACROMODEL /////////////////////
*
*   ====>       REFER TO MAX4144 DATA SHEET          <====
*
* connections:      IN+
*                   |    IN-
*                   |    |    positive power supply
*                   |    |    |    negative power supply
*                   |    |    |    |   OUT  SENSE
*                   |    |    |    |   |     |      Ref
*                   |    |    |    |   |     |      |
.SUBCKT  MAX4144_MX    501  201  99  50   3021  3999  3041
VFAKE2 340 1200  0V
RFAKE 1000 0 1E9
VSHORT44 1000 40 0V
*vshort44 1000 3021 0v
ISUPP 99 0 5.25MA
ISUPPN 50 0 -5.25MA
RF1001 301 1200 100
RG1000 301 1 200
RF1002 1 1000 100
*** INPUT STAGE
I401 99  505 430U
I502  504 50 430U
Q501  50  503 505 QPN
Q502  99  503 504 QNN
R501   505 506 633
R502  504  507 633
R503 99  508 633
V501  99 510 .3
RE501 510 530 130
D501  530  508 DX
R504 50  509 633
V502  511 50 .3
RE502 511 531 150
D502  509 531 DX
Q503   508  506 502 QNI
Q504   509  507 502 QPI
R506  501 99 20meg
R507  501 50 20meg
IB501 501 99 9UA
IB502 99  502 9UA
VOS500 503 501 0V
*
****************RGM300 302 520 380
RGM300 302 520 380
VGM300 502 520 0V
*** VGM300 SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I301 99  305 430U
I302  304 50 430U
Q301  50  303 305 QPN
Q302  99  303 304 QNN
R301   305 306 633
R302  304  307 633
R303 99  308 633
V301  99 310 .3
RE301 310 330 130
D301  330  308 DX
R304 50  309 633
V302  311 50 .3
RE302 311 331 150
D302   309 331 DX
Q303   308  306 302 QNI
Q304   309  307 302 QPI
R306  301 99 20meg
R307 301 50 20meg
IB301 301 99 9UA
IB302 99  302 9UA
VOS300 303 301 0V
**************SECOND STAGE**************
********************Isup  99 50 4.47M
R308  99 349 1meg
R309  349 50 1meg
V303  99 316 1.755
*pos swig
D303  315 316 DX
D304  317 315 DX
V304  317 50 1.755
*neg swing
EH300  99 398 99 349 1
F301 398 315 VGM300 .35
R305  398 315 2.372MEG
*** ***********************  1st pole here with r5, and c3
C301 398 315 .49P
*was .157
**************OUTPUT STAGE**************
*
E301  99 340 99 315 1
*** ***********************************************
*** ***********************************************
********** SECOND AMPLIFER AT THE BOTTOM, IN- SIDE.
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
R202  204  207 633
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 10UA
IB202 99  202 10UA
VOS200 203 201 0V
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
*C1   6 99 .3P
*was .63
R2  4  7 633
*C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 2UA
IB2 99  2 2UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .49P
*was .157p
**************OUTPUT STAGE**************
*
E1  99 40 99 15 1
************** Third amplifier**********
***
rin3 3000 3001 10k
ggain 3020 98 3000 3001 1e-2
rggain 3020 98 1e8
************************************************
GGAIN2 3100 98 98 3020 1E-6
RGAIN2 98 3100 1E6

egain 98 3090 98 3100 1
rout 3090 3021 50
DO1 3021 3091 Dx
***************************
vo1 3091 99  -2.6
vo2 3092 3021 -2.6
DO2 50 3092  Dx
***
R3000 1000 3000 700
R3001 3000 3999 700
*** 3000 IS PLUS INPUT, REF SIDE  3001 IS NEG. INPUT.
R3002 1200 3001 700
R3003 3001 3041 700
*** out 3021      sense 3020       ref 3041
***
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=11111 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=11111 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=11111 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=11111 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DP D(N=0.001 rs=30)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ///////////////// MAX4146 MACROMODEL /////////////////////
*
*   ====>       REFER TO MAX4144 DATA SHEET          <====
*
* connections:      IN+
*                   |    IN-
*                   |    |    positive power supply
*                   |    |    |    negative power supply
*                   |    |    |    |   OUT  SENSE
*                   |    |    |    |   |     |      Ref   RG(+)
*                   |    |    |    |   |     |      |     |     RG(-)
.SUBCKT  MAX4146_MX    501  201  99  50   3021   3020  3041  301   1
*** NOTE:       THE OUTPUT SWING HAS NOT BEEN CLAMPED DUE TO
***             CONVERGENCE ISSUES.  THE OUTPUT SWING SHOULD BE
***             CONSTRAINED TO SWING +-3.5V INTO 150 OHM LOAD, AND SWING
***             +-3.8V INTO RL=INFINITY.
***
VFAKE2 340 1200  0V
*RFAKE 1000 0 1E9
VSHORT44 1000 40 0V
ISUPP 99 0 5.25MA
ISUPPN 50 0 -5.25MA
RF1001 301 1200 1400
RF1002 1 1000 1400
*** INPUT STAGE
I401 99  505 430U
I502  504 50 430U
Q501  50  503 505 QPN
Q502  99  503 504 QNN
R501   505 506 633
R502  504  507 633
R503 99  508 633
V501  99 510 .3
RE501 510 530 130
D501  530  508 DX
R504 50  509 633
V502  511 50 .3
RE502 511 531 150
D502  509 531 DX
Q503   508  506 502 QNI
Q504   509  507 502 QPI
R506  501 99 20meg
R507  501 50 20meg
IB501 501 99 9UA
IB502 99  502 9UA
VOS500 503 501 0V
*
****************RGM300 302 520 380
RGM300 302 520 380
VGM300 502 520 0V
*** VGM300 SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I301 99  305 430U
I302  304 50 430U
Q301  50  303 305 QPN
Q302  99  303 304 QNN
R301   305 306 633
R302  304  307 633
R303 99  308 633
V301  99 310 .3
RE301 310 330 130
D301  330  308 DX
R304 50  309 633
V302  311 50 .3
RE302 311 331 150
D302   309 331 DX
Q303   308  306 302 QNI
Q304   309  307 302 QPI
R306  301 99 20meg
R307 301 50 20meg
*IB301 301 99 9UA
*IB302 99  302 9UA
VOS300 303 301 0V
**************SECOND STAGE**************
********************Isup  99 50 4.47M
R308  99 349 1meg
R309  349 50 1meg
V303  99 316 1.755
*pos swig
D303  315 316 DX
D304  317 315 DX
V304  317 50 1.755
*neg swing
EH300  99 398 99 349 1
F301 398 315 VGM300 .35
R305  398 315 2.372MEG
*** ***********************  1st pole here with r5, and c3
C301 398 315 1.76P
*was .157
**************OUTPUT STAGE**************
*
E301  99 340 99 315 1
*** ***********************************************
*** ***********************************************
********** SECOND AMPLIFER AT THE BOTTOM, IN- SIDE.
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
R202  204  207 633
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 9UA
IB202 99  202 9UA
VOS200 203 201 0V
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
*C1   6 99 .3P
*was .63
R2  4  7 633
*C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
*IB1 1 99 2UA
IB2 99  2 2UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 1.76P
*was .157p
**************OUTPUT STAGE**************
*
E1  99 40 99 15 1
************** Third amplifier**********

rin3 3000 3001 100k
GGAIN 98 3901 3000 3001 1E-6
RGGAIN 98 3901 1E11
Egain 99 3020 98 3901 1
routput 3020 3021 30
*DO1 3901 3091 DW
*vo1 3091 98  3
*Vo2 3092 3901 3
*DO2 98 3092  DW
***
R3000 1000 3000 70
R3001 3000 3021 700
*** 3000 IS PLUS INPUT, REF SIDE  3001 IS NEG. INPUT.
R3002 1200 3001 70
*** 1200 AND 1000 IS OUTPUT FROM FIRST TWO AMPS.
R3003 3001 3041 700
*** out 3021      sense 3020       ref 3041
***
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=11111 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=11111 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=11111 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=11111 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.model DW  D(RS=10K)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS


* MAX4147 FAMILY MACROMODEL
* -------------------------
* FEATURES:
* 300MHz -3dB Bandwidth
* 10mA Typical Supply Current
* 160mA Typical Output Current Drive
* 2V/V Fixed Gain
* 2000V/uS Slew Rate
* Available in 14-Pin SO (MAX4147)
*
* PART NUMBER    DESCRIPTION
* ___________    ______________________________
* MAX4147        300MHz Differential Line Driver
*
*
*   ////////////// MAX4147 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4147 DATA SHEET       <====
*
* connections:      IN+
*                   |    IN-
*                   |    |    positive power supply
*                   |    |    |    negative power supply
*                   |    |    |    |   OUT+  SENSE+
*                   |    |    |    |   |     |      OUT-  SENSE-
*                   |    |    |    |   |     |      |     |
.SUBCKT  MAX4147_MX    501  201  99  50   340   1200   40    1000
ISUPP 99 0 3.25MA
ISUPPN 50 0 -2.5MA
RF1001 301 1200 100
RG1000 301 1 100
RF1002 1 1000 100
*** INPUT STAGE
I401 99  505 430U
I502  504 50 430U
Q501  50  503 505 QPN
Q502  99  503 504 QNN
R501   505 506 633
R502  504  507 633
R503 99  508 633
V501  99 510 .3
RE501 510 530 130
D501  530  508 DX
R504 50  509 633
V502  511 50 .3
RE502 511 531 150
D502  509 531 DX
Q503   508  506 502 QNI
Q504   509  507 502 QPI
R506  501 99 20meg
R507  501 50 20meg
IB501 501 99 9UA
IB502 99  502 9UA
VOS500 503 501 0V
*
****************RGM300 302 520 380
RGM300 302 520 380
VGM300 502 520 0V
*** VGM300 SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I301 99  305 430U
I302  304 50 430U
Q301  50  303 305 QPN
Q302  99  303 304 QNN
R301   305 306 633
*C301   306 99 .3P
*was .63
R302  304  307 633
*C2   307 50 .3P
*was .63
R303 99  308 633
V301  99 310 .3
RE301 310 330 130
D301  330  308 DX
R304 50  309 633
V302  311 50 .3
RE302 311 331 150
D302   309 331 DX
Q303   308  306 302 QNI
Q304   309  307 302 QPI
R306  301 99 20meg
R307 301 50 20meg
IB301 301 99 9UA
IB302 99  302 9UA
VOS300 303 301 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R308  99 349 1meg
R309  349 50 1meg
V303  99 316 1.755
*pos swig
D303  315 316 DX
D304  317 315 DX
V304  317 50 1.755
*neg swing
EH300  99 398 99 349 1
*G301  398 315 POLY(2) 99 302 50 502 0 1.58E-3 1.58E-3
F301 398 315 VGM300 .35
R305  398 315 2.372MEG
*** ***********************  1st pole here with r5, and c3
C301 398 315 .157P
*was .188p
**************OUTPUT STAGE**************
*
F306  99 50 VA307 1
F305  99 335 VA308 1
D307  336 335 DX
VA307 99 336 0
D308  335 99 DX
E301  99 337 99 315 1
VA308 337 338 0
R335 338 340 10
L335 338 340 300U
*r335 was 12
V305  333 340 .8V
D305  323 333 DX
V306  340 334 .8V
D306  334 323 DX
*CF301 340  302 5P
*** was 2.1pf
*** ***********************************************
*** ***********************************************
********** SECOND AMPLIFER AT THE BOTTOM, IN- SIDE.
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
R202  204  207 633
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 10UA
IB202 99  202 10UA
VOS200 203 201 0V
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
*C1   6 99 .3P
*was .63
R2  4  7 633
*C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 2UA
IB2 99  2 2UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .157P
*was .188p
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 15 1
VA8 37 38 0
R35 38 40 10
L35 38 40 300U
*r35 was 12
V5  33 40 .8V
D5  23 33 DX
V6  40 34 .8V
D6  34 23 DX
*CF1 40  2 5P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=11111 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=11111 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=11111 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=11111 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX4158 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 350MHz -3dB BW, Av = +1 (MAX4158/9)
* 250MHz -3dB BW, Av = +2 (MAX4258/9)
* 700V/uS Slew Rate (MAX4158/9)
* 1000V/uS Slew Rate (MAX4258/9)
* Dual +/-5V Supply Operation
* High Output 70mA Current Drive
* Available in 8-Pin SO   (MAX4158/4258)
*              8-PIN uMAX (MAX4158/4258)
*             14-Pin SO   (MAX4159/4259)
*             16-Pin QSOP (MAX4159/4259)
*
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________________________
* MAX4158        Single Amplifier 350MHz -3dB BW, Gain=+1
* MAX4159        Single Amplifier 350MHz -3dB BW, Gain=+1
* MAX4258        Single Amplifier 250MHz -3dB BW, Gain=+2
* MAX4259        Single Amplifier 250MHz -3dB BW, Gain=+2
*
*
*   ////////////// MAX4158 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4158 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4158_MX    1   2  99  50  40
ISUPP 99 0 -10MA
ISUPPN 50 0 -10MA
*** INPUT STAGE
I1 99  5 330U
I2  4 50 330U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .5P
R2  4  7 633
C2   7 50 .5P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 2UA
IB2 2 99 2UA
VOS 3 1 0V
*CIN1 1  0 2.5P
*CIN2 2  0 2.5P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 .8
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 .8
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .7P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 20
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4159 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4159 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4159_MX    1   2  99  50  40
ISUPP 99 0 -10MA
ISUPPN 50 0 -10MA
*** INPUT STAGE
I1 99  5 330U
I2  4 50 330U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .5P
R2  4  7 633
C2   7 50 .5P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 2UA
IB2 2 99 2UA
VOS 3 1 0V
*CIN1 1  0 2.5P
*CIN2 2  0 2.5P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 .8
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 .8
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .7P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 20
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4258 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4258 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4258_MX     1   2  99  50  40
ISUPP 99 0 -10MA
ISUPPN 50 0 -10MA
*** INPUT STAGE
I1 99  5 160U
I2  4 50 160U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .27P
R2  4  7 633
C2   7 50 .27P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 2UA
IB2 2 99 2UA
VOS 3 1 0V
CIN1 1  0 .6P
CIN2 2  0 .6P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 .8
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 .8
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .7P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 20
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4259 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4259 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4259_MX    1   2  99  50  40
ISUPP 99 0 -10MA
ISUPPN 50 0 -10MA
*** INPUT STAGE
I1 99  5 160U
I2  4 50 160U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .27P
R2  4  7 633
C2   7 50 .27P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 2UA
IB2 2 99 2UA
VOS 3 1 0V
CIN1 1  0 .6P
CIN2 2  0 .6P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 .8
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 .8
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .7P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 20
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX4162 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 250kHz Gain Bandwidth Product
* 25uA Typical Supply Current
* Unity-Gain Stable
* Rail-to-Rail I/O
* Available in 5-Pin SOT23-5 (MAX4162)
*              8-Pin SO      (MAX4162)
*              8-Pin uMAX/SO (MAX4163)
*             14-Pin SO      (MAX4164)
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________________
* MAX4162        Single 250kHz, Unity-Gain Stable
* MAX4163        Dual 250kHz, Unity-Gain Stable
* MAX4164        Quad 250kHz, Unity-Gain Stable
*
*
*   ////////////// MAX4162 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4162 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4162_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 16.2e-7
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.6E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.6E-1 -1
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 -.5ma
Isupply 99 50 25ua
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.2V
V4 36 97 -.2v
*V5,V4 SET ISC
R16 34 97 13
*LOUT 197 97 4.0uh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends
*
*   ////////////// MAX4163 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4163 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4163_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 16.2e-7
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.6E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.6E-1 -1
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 -.5ma
Isupply 99 50 25ua
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.2V
V4 36 97 -.2v
*V5,V4 SET ISC
R16 34 97 13
*LOUT 197 97 4.0uh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends
*
*   ////////////// MAX4164 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4164 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4164_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 16.2e-7
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.6E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.6E-1 -1
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 -.5ma
Isupply 99 50 25ua
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.2V
V4 36 97 -.2v
*V5,V4 SET ISC
R16 34 97 13
*LOUT 197 97 4.0uh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends




* MAX4165 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 5MHz Gain Bandwidth Product
* 1.2mA Typical Supply Current
* 80mA Output Drive Capability
* Unity-Gain Stable
* Rail-to-Rail I/O
* Available in 5-Pin SOT23-5 (MAX4165)
*              8-Pin DIP/SO (MAX4167)
*             14-Pin DIP/SO (MAX4169)
*
* PART NUMBER    DESCRIPTION
* ___________    ______________________________
* MAX4165        Single 5MHz, Unity-Gain Stable
* MAX4167        Dual 5MHz, Unity-Gain Stable
* MAX4169        Quad 5MHz, Unity-Gain Stable
*
*
*   ////////////// MAX4165 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4165 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4165_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 50na
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E3
C3 10 98 6.5e-8
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.2E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.2E-1 -1
*** ***********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 .7ma
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.12V
V4 36 97 -.12V
*V5,V4 SET ISC
R16 34 97 2
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends
*
*   ////////////// MAX4167 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4165 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4167_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 50na
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E3
C3 10 98 6.5e-8
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.2E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.2E-1 -1
*** ***********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 .7ma
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.12V
V4 36 97 -.12V
*V5,V4 SET ISC
R16 34 97 2
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends
*
*   ////////////// MAX4169 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4165 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4169_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 50na
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E3
C3 10 98 6.5e-8
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.2E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.2E-1 -1
*** ***********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 .7ma
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.12V
V4 36 97 -.12V
*V5,V4 SET ISC
R16 34 97 2
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends





* MAX4178 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 330MHz -3dB Bandwidth
* 250MHz Full-Power Bandwidth
* 8mA Typical Supply Current
* 100mA Output Drive
* 1300V/uS Slew Rate
* Available in 8-Pin DIP/SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________
* MAX4178        330MHz, Gain = +1 Buffer
*
*
*   ////////////// MAX4178 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4178 DATA SHEET       <====
*
* connections:      input
*                   |   ground
*                   |   |     positive power supply
*                   |   |     |   negative power supply
*                   |   |     |   |   output
*                   |   |     |   |   |
*                   |   |     |   |   |
.SUBCKT  MAX4178_MX    201 1000  99  50 40
ISUPP 99 0 5.5MA
ISUPN 50 0 -5.5MA
rfeedback 40 1 500
rground 1000 0 .00001
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .3p
*was .63
R202  204  207 633
C202   207 50 .3P
*was .63
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V
*CIN201 201  0 1.5P
*CIN202 202  0 1.5P
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .3P
*was .63
R2  4  7 633
C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 99  2 1UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.4
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.4
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .471P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10
*r35 was 12
V5  33 40 .9V
D5  23 33 DX
V6  40 34 .9V
D6  34 23 DX
*CF1 40  2 5P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX4182 FAMILY MACROMODELS
* --------------------------
* FEATURES:
* 270MHz Gain Bandwidth Product (MAX4184/MAX4187)
* 240MHz Gain Bandwidth Product (MAX4182/MAX4186)
* 1mA Supply Current
* Stable Av=+2 (MAX4182/MAX4186)
* Unity-Gain Stable (MAX4184/MAX4187
* 400V/us Slew Rate
* Available in 8-Pin SO      (MAX4182/4)
*             14-Pin SO &    (MAX4186/7)
*             16-Pin QSOP
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________________
* MAX4182        Dual 240MHz, Stable Av=+2
* MAX4184        Dual 270MHz, Unity-Gain Stable
* MAX4186        Quad 240MHz, Stable Av=+2
* MAX4187        Quad 270MHz, Unity-Gain Stable
*
*
*   ////////////// MAX4182 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4182 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT  MAX4182_MX     1   2  99  50  40
ISUPP 99 0 3.73MA
ISUPPN 50 0 -1.73MA
*** INPUT STAGE
I1 99  5 130U
I2  4 50 130U
*i1,i2 was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .63P
R2  4  7 633
C2   7 50 .63P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 2 99 1UA
VOS 3 1 0V
*CIN1 1  0 2.5P
*CIN2 2  0 2.5P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.1
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.1
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .2P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
*CF1 40  2 2P
*** was 1.8pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4184 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4184 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT  MAX4184_MX     1   2  99  50  40
ISUPP 99 0 -1.7MA
ISUPPN 50 0 -.73MA
*** INPUT STAGE
I1 99  5 260U
I2  4 50 260U
*i1,i2 was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .63P
R2  4  7 633
C2   7 50 .63P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 2 99 1UA
VOS 3 1 0V
*CIN1 1  0 2.5P
*CIN2 2  0 2.5P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.1
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.1
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .7P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*
*   ////////////// MAX4186 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4186 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT  MAX4186_MX      1   2  99  50  40
ISUPP 99 0 3.73MA
ISUPPN 50 0 -1.73MA
*** INPUT STAGE
I1 99  5 130U
I2  4 50 130U
*i1,i2 was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .63P
R2  4  7 633
C2   7 50 .63P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 2 99 1UA
VOS 3 1 0V
*CIN1 1  0 2.5P
*CIN2 2  0 2.5P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.1
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.1
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .2P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
*CF1 40  2 2P
*** was 1.8pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4187 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4187 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
.SUBCKT  MAX4187_MX     1   2  99  50  40
ISUPP 99 0 -1.7MA
ISUPPN 50 0 -.73MA
*** INPUT STAGE
I1 99  5 260U
I2  4 50 260U
*i1,i2 was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .63P
R2  4  7 633
C2   7 50 .63P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 2 99 1UA
VOS 3 1 0V
*CIN1 1  0 2.5P
*CIN2 2  0 2.5P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.1
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.1
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .176P
C3 98 15 .43P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .7P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 .70V
D5  23 33 DX
V6  40 34 .70V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
* MAX4212 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 300MHz -3dB Bandwidth
* 600V/uS Slew Rate
* 5.5mA Typical Supply Current
* 120mA Typical Output Current
* Rail-to-Rail Outputs
* Available in 5-Pin SOT23-5 (MAX4212)
*
*
* PART NUMBER    DESCRIPTION
* ___________    _____________________________
* MAX4212        300MHz, Rail-to-Rail Op Amps
*
*
*   ////////////// MAX4212 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4212 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
*                   |   |   |   |   |
* OUTPUT CONNECTS:  1   2   99  50  97
*
*
.SUBCKT MAX4212_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 5.5ua
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
*DP1  1 99 DA
*DP2 50  1 DA
*DP3  2 99 DB
*DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 1.488e-11
*C3 10 98 1.166e-11
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 5.1mA
VOS 7 1 0v
******** POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 .48p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-3
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E3
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 7.55
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
**
.ENDS

* MAX4216 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 200MHz -3dB Bandwidth
* 600V/uS Slew Rate
* 5.5mA Typical Supply Current
* 120mA Typical Output Current
* Rail-to-Rail Outputs
* Available in 8-Pin uMAX/SO (MAX4216)
*              14-Pin SO or 16-Pin QSOP (MAX4220)
*
* PART NUMBER    DESCRIPTION
* ___________    _________________________________
* MAX4216        Dual 200MHz, Rail-to-Rail Op Amps
* MAX4220        Quad 200MHz, Rail-to-Rail Op Amps
*
*
*   ////////////// MAX4216 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4216 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
*                   |   |   |   |   |
* OUTPUT CONNECTS:  1   2   99  50  97
*
.SUBCKT MAX4216_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 5.5ua
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
*DP1  1 99 DA
*DP2 50  1 DA
*DP3  2 99 DB
*DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 2.43e-11
*C3 10 98 1.166e-11
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 5.1mA
VOS 7 1 0v
******** POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 .72p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-3
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E3
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 7.55
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
**
.ENDS
*
.SUBCKT MAX4220_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
IBIASE 1 2 5.5ua
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
CI1  1  0 2P
CI2  2  0 2P
*DP1  1 99 DA
*DP2 50  1 DA
*DP3  2 99 DB
*DP4 50  2 DB
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-3
VB 9 10 0V
R0  98  9 127E3
C3 10 98 2.43e-11
*C3 10 98 1.166e-11
*** ***********
D1 9 111 DP
D2 112 9 DP
V11 99 111 50MV
V12 112 50 50MV
************
I2 99 50 5.1mA
VOS 7 1 0v
******** POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
C5 98 15 .72p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-3
*          ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E3
*D3 32 36 Dx
*D4 37 32 Dx
*V5 34 37  .3V
*V4 36 34  -.3V
*** V5,V4 SET ISC
R16 34 97 7.55
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.05)
.MODEL MOSFET PMOS(VTO=0 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
**
.ENDS
*
* MAX4223 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 1GHz -3dB BW, Gain= +1 (MAX4223)
* 600MHz -3dB BW, Gain= +2 (MAX4224)
* 6mA Supply Current
* 80mA Output Current Drive Capability
* Dual +/-2.85V to +/-5.5V Supply Operation
* Available in 6-Pin SOT23 (MAX4223/4)
*              8-Pin SO    (MAX4223/4)
*              8-Pin SO    (MAX4225/7)
*              8-Pin uMAX  (MAX4226/8)
*             14-Pin SO    (MAX4226/8)
*
* Note: The SHDN feature is not modelled in theses devices.
*
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________________
* MAX4223        Single, 1GHz -3dB BW, Gain=+1
* MAX4224        Single, 600MHz -3dB BW, Gain=+2
* MAX4225        Dual, 1GHz -3dB BW, Gain= +1
* MAX4226        Dual, 1GHz -3dB BW, Gain= +1
* MAX4227        Dual, 600MHz -3dB BW, Gain= +2
* MAX4228        Dual, 600MHz -3dB BW, Gain= +2
*
*
*   ////////////// MAX4223 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4223 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4223_MX    1   2  99  50  40
ISUPP 99 0 3.73MA
ISUPPN 50 0 -1.73MA
*** INPUT STAGE
I1 99  5 330U
I2  4 50 330U
*was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .35P
R2  4  7 633
C2   7 50 .35P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
*was 3.5ua
VOS 3 1 0V
CIN1 1  0 .4P
CIN2 2  0 .4P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .25P
C3 98 15 .176P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 7V
D5  23 33 DX
V6  40 34 7V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4224 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4224 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4224_MX    1   2  99  50  40
ISUPP 99 0 6MA
ISUPPN 50 0 -6MA
*** INPUT STAGE
I1 99  5 180U
I2  4 50 180U
*330
*was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .2P
R2  4  7 633
C2   7 50 .2P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
*was 3.5ua
VOS 3 1 0V
CIN1 1  0 .6P
CIN2 2  0 .6P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
*R5  98 15 2.372MEG
r5 98 15 1e5
*** ***********************  1st pole here with r5, and c3
C3 98 15 .45P
*was .176
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 24
V5  33 40 7V
D5  23 33 DX
V6  40 34 7V
D6  34 23 DX
CF1 40  2 .001P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4225 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4225 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4225_MX    1   2  99  50  40
ISUPP 99 0 3.73MA
ISUPPN 50 0 -1.73MA
*** INPUT STAGE
I1 99  5 330U
I2  4 50 330U
*was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .35P
R2  4  7 633
C2   7 50 .35P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
*was 3.5ua
VOS 3 1 0V
CIN1 1  0 .4P
CIN2 2  0 .4P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .25P
C3 98 15 .176P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 7V
D5  23 33 DX
V6  40 34 7V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4226 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4226 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4226_MX    1   2  99  50  40
ISUPP 99 0 3.73MA
ISUPPN 50 0 -1.73MA
*** INPUT STAGE
I1 99  5 330U
I2  4 50 330U
*was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .35P
R2  4  7 633
C2   7 50 .35P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
*was 3.5ua
VOS 3 1 0V
CIN1 1  0 .4P
CIN2 2  0 .4P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
*C3 98 15 .25P
C3 98 15 .176P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 12
V5  33 40 7V
D5  23 33 DX
V6  40 34 7V
D6  34 23 DX
CF1 40  2 1.8P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4227 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4227 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4227_MX    1   2  99  50  40
ISUPP 99 0 6MA
ISUPPN 50 0 -6MA
*** INPUT STAGE
I1 99  5 180U
I2  4 50 180U
*330
*was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .2P
R2  4  7 633
C2   7 50 .2P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
*was 3.5ua
VOS 3 1 0V
CIN1 1  0 .6P
CIN2 2  0 .6P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
*R5  98 15 2.372MEG
r5 98 15 1e5
*** ***********************  1st pole here with r5, and c3
C3 98 15 .45P
*was .176
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 24
V5  33 40 7V
D5  23 33 DX
V6  40 34 7V
D6  34 23 DX
CF1 40  2 .001P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX4228 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4228 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX4228_MX    1   2  99  50  40
ISUPP 99 0 6MA
ISUPPN 50 0 -6MA
*** INPUT STAGE
I1 99  5 180U
I2  4 50 180U
*330
*was 430ua
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .2P
R2  4  7 633
C2   7 50 .2P
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 3.5UA
IB2 99  2 3.5UA
*was 3.5ua
VOS 3 1 0V
CIN1 1  0 .6P
CIN2 2  0 .6P
*
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
*R5  98 15 2.372MEG
r5 98 15 1e5
*** ***********************  1st pole here with r5, and c3
C3 98 15 .45P
*was .176
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 24
V5  33 40 7V
D5  23 33 DX
V6  40 34 7V
D6  34 23 DX
CF1 40  2 .001P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS


* MAX4278 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 310MHz -3dB Bandwidth
* 250MHz Full-Power Bandwidth
* 8mA Typical Supply Current
* 100mA Output Drive
* 1600V/uS Slew Rate
* Available in 8-Pin DIP/SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________
* MAX4278        310MHz, Gain = +2 Buffer
*
*
*   ////////////// MAX4278 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4278 DATA SHEET       <====
*
* connections:      input
*                   |   ground
*                   |   |     positive power supply
*                   |   |     |   negative power supply
*                   |   |     |   |   output
*                   |   |     |   |   |
*                   |   |     |   |   |
.SUBCKT  MAX4278_MX    201 1000  99  50 40
ISUPP 99 0 5.5MA
ISUPN 50 0 -5.5MA
rfeedback 40 1 500
RFEEDBACK2 1 0 500
rground 1000 0 .00001
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .3p
*was .63
R202  204  207 633
C202   207 50 .3P
*was .63
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V
*CIN201 201  0 1.5P
*CIN202 202  0 1.5P
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .3P
*was .63
R2  4  7 633
C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 99  2 1UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.4
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.4
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .272P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10
*r35 was 12
V5  33 40 .9V
D5  23 33 DX
V6  40 34 .9V
D6  34 23 DX
*CF1 40  2 5P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX427 FAMILY MACROMODELS
* -------------------------
** FEATURES:
* 15uV Max Offset Voltage
* 60MHz Gain-Bandwidth Product (MAX437)
* 117dB Min CMRR
* Low Noise Performance: 4.5nV/rt.Hz Max (20Hz)
*                        3.8nV/rt.Hz Max (1KHz)
* Available in 8-Pin DIP/SO
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX427         Low-noise, 2.5nV/rt.Hz, 8MHz GBP
* MAX437         Low-noise, 60MHz GBP, Av=5
*
*
*   ////////////// MAX427 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX427 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX427_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2.2MA
GIN 2 1 2 1 1.4E-10
CIN 1 2 1.5PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 42.6E-3
G2 6 99 6 99 42.6E-3
EOS 1 3 POLY(1) 98 30 5U 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
C4 5 6 1.42E-10
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=.1E-15 RS=703)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=60E-16 RS=18)
*
***************SECOND STAGE******************
*
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.93
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 0.0395
*1ST POLE .4HZ,AVOL 20E6
G4 12 98 12 98 1.9747E-9
C3 98 12 7.857E-10
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 2.45E-12
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 2.0
RD2 17 18 2.0
RD3 18 19 2.0
CD1 17 98 1.8PF
CD2 18 98 1.8PF
CD3 19 98 1.8PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 1.6v
V4 36 35 1.6V
R16 34 35 70
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=110E3)
*BF relates to 10nA Ib.
.ends
*
*////////////// MAX437 MACROMODEL //////////////////
*
* connections:          non-inverting input
*                       |       inverting input
*                       |       |       positive power-supply
*                       |       |       |       negative power-supply
*                       |       |       |       |       output
*                       |       |       |       |       |
* OUTPUT CONNECTS:      1       2       99      50      97
*
*
.SUBCKT MAX437_MX 1 2 99 50 97
****************INPUT STAGE**********************
*
IOS 2 1 40N
I1 4 50 2.2MA
GIN 2 1 2 1 50E-9
CIN 1 2 3PF
G16 0 1 106 0 .87E-3
G19 0 2 109 0 .87E-3
****VCCS NOISE INPUT CURRENTS****
G1 5 99 5 99 42.6E-3
G2 6 99 6 99 42.6E-3
EOS 1 3 POLY(1) 98 30 5U 1
*               ^       OFFSET VOLTAGE
EN 3 9 POLY(1) 103 0 0 1
Q1 5 2 4 QX
Q2 6 9 4 QX
Dsub 50 99 DX
C4 5 6 .6E-10
*
*****************NOISE GENERATORS**************
*
***VOLTAGE NOISE GENERATOR***
VN1 101 0 2V
VN2 0 102 2V
DN1 101 103 D1
DN2 103 102 D1
.MODEL D1 D(KF=.1E-15 RS=703)
****CURRENT NOISE GENERATOR + IN****
VN3 104 0 2V
VN4 0 105 2V
DN3 104 106 D2
DN4 106 105 D2
****CURRENT NOISE GENERATOR - IN****
VN5 107 0 2V
VN6 0 108 2V
DN5 107 109 D2
DN6 109 108 D2
.MODEL D2 D(KF=60E-16 RS=18)
*
***************SECOND STAGE******************
*
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.93
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 0.0395
*1ST POLE 2.4HZ,AVOL 20E6
G4 12 98 12 98 1.9747E-9
*C3 98 12 7.857E-10
C3 98 12 1.3E-10
*
**************FREQUENCY SHAPING STAGES********
*
****POLE STAGE****
G5 98 15 12 98 1E-3
G6 98 15 98 15 1E-3
D13 50 15 DX
*R5 98 15 1E3
C5 98 15 1.45E-12
****DELAY STAGE****
ED 16 98 15 98 1
RD1 16 17 2.0
RD2 17 18 2.0
RD3 18 19 2.0
CD1 17 98 1.8PF
CD2 18 98 1.8PF
CD3 19 98 1.8PF
****COMMON-MODE STAGE****
G11 98 30 4 98 316E-12
G13 30 98 30 98 1E-3
D11 50 30 DX
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 19 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 1.6v
V4 36 35 1.6V
R16 34 35 70
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=110E3)
*BF relates to 10nA Ib.
.ends
* MAX4330 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 3MHz Gain Bandwidth Product
* 245uA Typical Supply Current
* Unity-Gain Stable
* Rail-to-Rail I/O
* Available in 5-Pin SOT23-5 (MAX4330)
*              8-Pin SO      (MAX4332)
*             14-Pin SO      (MAX4334)
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________________
* MAX4330        Single 3MHz, Unity-Gain Stable
* MAX4332        Dual 3MHz, Unity-Gain Stable
* MAX4334        Quad 3MHz, Unity-Gain Stable
*
*
*   ////////////// MAX4330 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4330 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4330_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 25na
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E3
C3 10 98 10.8e-8
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.6E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.6E-1 -1
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 -.5ma
Isupply 99 50 275ua
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 3.5V
V4 36 97 3.5V
*V5,V4 SET ISC
R16 34 97 130
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends
*
*   ////////////// MAX4332 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4330 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4332_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 25na
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E3
C3 10 98 10.8e-8
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.6E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.6E-1 -1
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 -.5ma
Isupply 99 50 275ua
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 3.5V
V4 36 97 3.5V
*V5,V4 SET ISC
R16 34 97 130
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends
*
*   ////////////// MAX4334 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX4330 DATA SHEET       <====
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* OUTPUT CONNECTS:    1   2   99  50  97
*
*
.SUBCKT MAX4334_MX 1 2 99 50 97
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 25na
************************
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E3
C3 10 98 10.8e-8
*C3 10 98 1.3E-10
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -1.6E-1 1
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -1.6E-1 -1
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .3V
V12 112 50 .3V
************
I2 99 50 -.5ma
Isupply 99 50 275ua
VOS 7 1 0v
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
***************************
*********** change for second pole
*C5 98 15 8p
*
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 3.5V
V4 36 97 3.5V
*V5,V4 SET ISC
R16 34 97 130
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7
*
.Ends
* MAX435 FAMILY MACROMODELS
* -------------------------
** FEATURES:
* 275MHz BW, 800V/uS SR, 300uV VOS (MAX435)
* 200MHZ BW, 850V/uS SR, 300uV VOS (MAX436)
* True Differential High-Impedance Inputs
* No Feedback
* Low Noise, 7nV/rt.Hz at 1KHz
* Available in 14-Pin DIP/SO
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX435         275MHz BW, 800V/uS SR, 300uV VOS
* MAX436         200MHz BW, 850V/uS SR, 300uV VOS
*
* NOTE THAT THE -3dB BANDWIDTH HAS BEEN OPTIMIZED FOR Zt=200OHMS,
* ZL+/-=25OHMS ACCORDINGLY. SIMULATIONS THAT VARY FROM THESE
* OPERATING POINTS MAY RESULT IN ERROR IN THE TRANSFER RESPONSE.
* THIS SHOULD NOT EFFECT APPLICATION CONDITIONS WHERE THE
* BANDWIDTH IS LIMITED BY EXTERNAL COMPONENTS.  FOR MORE
* INFORMATION CONTACT THE MAXIM APPLICATIONS GROUP.
*
*   ////////////// MAX435 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX435 DATA SHEET       <====
*
* SUBCIRCUIT CONNECTIONS +VIN -VIN -Z +Z +V -V +IOUT -IOUT  RSET
*
.SUBCKT MAX435_MX 9 29 14 34 99 50 16 36 51
***************************************
F10 99 16 POLY(1) VSET .003 6.383 -188.9
*POLY SOURCE FOR SETTING QUIESCENT CURRENTS VIA RSET.
F11 99 14 POLY(1) VSET  7.5E-4  1.596 -47.23
Q1 99 9 8 Q
Q2 12 8 14 QPNP
F1 8 50 VSENSE1 0.5
F2 16 50 VSENSE1 4
VSENSE1 12 50 0V
CBW1 16 50 23P
******OUTPUT CLAMPING
D1 40 99 DX
D2 50 41 DX
V1 40 16 2.26V
V2 16 41 2.26V
********************** 2nd Half of Circuit
F30 99 36 POLY(1) VSET 0.003 6.383 -188.9
F31 99 34 POLY(1) VSET  7.5E-4  1.596 -47.23
Q21 99 29 28 Q
Q22 32 28 34 QPNP
F21 28 50 VSENSE21 0.5
F22 36 50 VSENSE21 4
VSENSE21 32 50 0V
CBW2 36 50 23P
******OUTPUT CLAMPING
D21 60 99 DX
D22 50 61 DX
V21 60 36 2.26V
V22 36 61 2.26V
***********
VSET 0 51 -3.7V
.MODEL QPNP PNP (Bf=10E5)
.MODEL QNPN NPN (Bf=10E5)
.MODEL Q   NPN (Bf=15E5)
.MODEL DX D(IS=1E-15)
.ENDS
*
*   ////////////// MAX436 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX436 DATA SHEET       <====
*
* SUBCIRCUIT CONNECTIONS +VIN -VIN -Z +Z +V -V +IOUT  RSET
*
.SUBCKT MAX436_MX 9 29 14 34 99 50 16 51
***************************************
F10 99 16 POLY(1) VSET .003 6.383 -188.9
*POLY SOURCE FOR SETTING QUIESCENT CURRENTS VIA RSET.
F11 99 14 POLY(1) VSET  7.5E-4  1.596 -47.23
Q1 99 9 8 Q
Q2 12 8 14 QPNP
F1 8 50 VSENSE1 0.5
F2 16 50 VSENSE1 8
VSENSE1 12 50 0V
CBW1 16 50 23P
******OUTPUT CLAMPING
D1 40 99 DX
D2 50 41 DX
V1 40 16 2.26V
V2 16 41 2.26V
********************** 2nd Half of Circuit
F30 99 16 POLY(1) VSET 0.003 6.383 -188.9
F31 99 34 POLY(1) VSET  7.5E-4  1.596 -47.23
Q21 99 29 28 Q
Q22 32 28 34 QPNP
F21 28 50 VSENSE21 0.5
VSENSE21 32 50 0V
***********
VSET 0 51 -3.7V
.MODEL QPNP PNP (Bf=10E5)
.MODEL QNPN NPN (Bf=10E5)
.MODEL Q   NPN (Bf=15E5)
.MODEL DX D(IS=1E-15)
.ENDS
* MAX473 FAMILY MACROMODELS
* -------------------------
** FEATURES:
* 15V/uS Min Slew Rate
* +3V Single-Supply Operation
* Guaranteed 10MHz Unity-Gain Bandwidth
* Input Voltage Range Includes Negative Rail
* Rail-to-Rail output Swing (to within +/-50mV)
* Available in 8-Pin DIP/SO/uMAX (Single MAX473)
*              8-Pin DIP/SO (Dual MAX474)
*             14-Pin DIP/SO (Quad MAX475)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX473         Single, unity-gain-stable,15V/uS SR
* MAX474         Dual, rail-to-rail output swing
* MAX475         Quad, unity-gain-stable, 10MHz GBP
*
*
*   ////////////// MAX473 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX473 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX473_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 20N
I1 99 4 2E-3
RIN1 2 104 .5E9
RIN2 104 1 .5E9
R1 5 50  134.96
R2 6 50  134.96
EOS 1 9 POLY(1) 98 30  .7M 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 109 QX
Q2 6 9 110 QX
RDEG1 110 4 134.96
RDEG2 109 4 134.96
* Second Pole
C4 5 6 8.8E-12
***************SECOND STAGE******************
IS 99 50 .1E-3
*  SETS IS ^
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 17
RD2 17 18 17
RD3 18 19 17
RD4 19 20 17
CD1 17 98 17PF
CD2 18 98 17PF
CD3 19 98 17PF
CD4 20 98 17PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .78
D1 12 11 DX
D2 10 12 DX
V3 10 50 .78
EH 99 98 99 50 0.5
****GAIN, 1ST POLE*************
G3 98 12 5 6 .0074
R4 12 98 7E6
*C3 98 12 1.11E-10
C3 98 12 .74E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 3.1623E-8
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 40
*R16 OPEN-LOOP OUTPUT IMP.
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 0.0002U
RL2 96 97 2
* RL2 IMPROVES CONVERGENCE
RL 35 97 .1MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=12500)
.ENDS
*
*   ////////////// MAX474 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX474 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX474_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 20N
I1 99 4 2E-3
RIN1 2 104 .5E9
RIN2 104 1 .5E9
R1 5 50  134.96
R2 6 50  134.96
EOS 1 9 POLY(1) 98 30  .7M 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 109 QX
Q2 6 9 110 QX
RDEG1 110 4 134.96
RDEG2 109 4 134.96
* Second Pole
C4 5 6 8.8E-12
***************SECOND STAGE******************
IS 99 50 .1E-3
*  SETS IS ^
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 17
RD2 17 18 17
RD3 18 19 17
RD4 19 20 17
CD1 17 98 17PF
CD2 18 98 17PF
CD3 19 98 17PF
CD4 20 98 17PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .78
D1 12 11 DX
D2 10 12 DX
V3 10 50 .78
EH 99 98 99 50 0.5
****GAIN, 1ST POLE*************
G3 98 12 5 6 .0074
R4 12 98 7E6
*C3 98 12 1.11E-10
C3 98 12 .74E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 3.1623E-8
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 40
*R16 OPEN-LOOP OUTPUT IMP.
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 0.0002U
RL2 96 97 2
* RL2 IMPROVES CONVERGENCE
RL 35 97 .1MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=12500)
.ENDS
*
*   ////////////// MAX475 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX475 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX475_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 20N
I1 99 4 2E-3
RIN1 2 104 .5E9
RIN2 104 1 .5E9
R1 5 50  134.96
R2 6 50  134.96
EOS 1 9 POLY(1) 98 30  .7M 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 109 QX
Q2 6 9 110 QX
RDEG1 110 4 134.96
RDEG2 109 4 134.96
* Second Pole
C4 5 6 8.8E-12
***************SECOND STAGE******************
IS 99 50 .1E-3
*  SETS IS ^
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 17
RD2 17 18 17
RD3 18 19 17
RD4 19 20 17
CD1 17 98 17PF
CD2 18 98 17PF
CD3 19 98 17PF
CD4 20 98 17PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .78
D1 12 11 DX
D2 10 12 DX
V3 10 50 .78
EH 99 98 99 50 0.5
****GAIN, 1ST POLE*************
G3 98 12 5 6 .0074
R4 12 98 7E6
*C3 98 12 1.11E-10
C3 98 12 .74E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 3.1623E-8
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 40
*R16 OPEN-LOOP OUTPUT IMP.
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 0.0002U
RL2 96 97 2
* RL2 IMPROVES CONVERGENCE
RL 35 97 .1MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=12500)
.ENDS
* MAX477 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 300MHz Unity-Gain Bandwidth
* 200MHz Full-Power Bandwidth
* 8mA Typical Supply Current
* 100mA Output Drive
* 1100V/uS Slew Rate
* Available in 8-Pin DIP/SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________
* MAX477         300MHz High-Speed Op Amp
*
*
*   ////////////// MAX477 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX477 DATA SHEET       <====
*
* connections:      non-inverting input
*                   |   inverting input
*                   |   |   positive power supply
*                   |   |   |   negative power supply
*                   |   |   |   |   output
*                   |   |   |   |   |
*                   |   |   |   |   |
.SUBCKT  MAX477_MX     201  1  99  50 40
ISUPP 99 0 5.5MA
ISUPPN 50 0 -5.5MA
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
*C201   206 99 .3p
*was .63
R202  204  207 633
*C202   207 50 .3P
*was .63
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 2UA
IB202 99  202 2UA
VOS200 203 201 0V
*CIN201 201  0 1.5P
*CIN202 202  0 1.5P
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
*C1   6 99 .3P
*was .63
R2  4  7 633
*C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 2UA
IB2 99  2 2UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.755
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.755
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .376P
*was .29p
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10
L35 38 40 300U
*r35 was 12
V5  33 40 .8V
D5  23 33 DX
V6  40 34 .8V
D6  34 23 DX
*CF1 40  2 5P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX478 FAMILY MACROMODELS
* -------------------------
** FEATURES:
* 17uA Max Supply Current
* 70uV Max Offset Voltage
* 250pA Max Input Offset Current
* Input Voltage Range Includes Ground
* Available in 8-Pin DIP/SO (Dual MAX478)
*             14-Pin DIP/SO (Quad MAX479)
*
* SUBCIRCUIT    PART NUMBER    DESCRIPTION
* __________    ___________    ___________________________________
* MAX47815      MAX478         Dual, Micropower Op Amps, 15V Supply
* MAX4785       MAX478         Dual, Micropower Op Amps, 5V Supply
* MAX4783       MAX478         Dual, Micropower Op Amps, 3V Supply
* MAX47915      MAX479         Quad, Micropower Op Amps, 15V Supply
* MAX4795       MAX479         Quad, Micropower Op Amps, 5V Supply
* MAX4793       MAX479         Quad, Micropower Op Amps, 3V Supply
*
*
*   ////////////// MAX47815 MACROMODEL //////////////////
*
*   ====>        "15" DENOTES +/-15V SUPPLY VOLTAGE   <====
*   ====>            REFER TO MAX478 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX47815_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 .05N
I1 99 4 17E-6
RIN1 104 2 .5E9
RIN2 104 1 .5E9
R1 5 50  3041
R2 6 50 3041
EOS 1 9 POLY(1) 98 30  30U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 4 QX
Q2 6 9 4 QX
* Second Pole
C4 5 6 2.7E-11
***************SECOND STAGE******************
IS 99 50 -1E-6
*  SETS IS ^   supply current -16uA, 15Vsupply.
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 300
RD2 17 18 300
RD3 18 19 300
RD4 19 20 300
CD1 17 98 300PF
CD2 18 98 300PF
CD3 19 98 300PF
CD4 20 98 300PF
*
***OUTPUT VOLTAGE LIMITING****
V2 99 11 1.4
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.4
* OUTPUT LEVEL +-14.2V.
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 3.34E-4
R4 12 98 7.49E9
C3 98 12 4.25E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 7.1E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 75
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 1U
RL2 96 97 5
* RL2 IMPROVES CONVERGENCE
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=3167)
.ENDS
*
*
*   ////////////// MAX4785 MACROMODEL //////////////////
*
*   ====>        "5" DENOTES +/-5V SUPPLY VOLTAGE   <====
*   ====>            REFER TO MAX478 DATA SHEET     <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX4785_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 .05N
I1 99 4 17E-6
RIN1 2 104 .5E9
RIN2 1 104 .5E9
R1 5 50  3041
R2 6 50 3041
EOS 1 9 POLY(1) 98 30  30U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 4 QX
Q2 6 9 4 QX
* Second Pole
C4 5 6 6.54E-11
***************SECOND STAGE******************
IS 99 50 -5E-6
*  SETS IS ^
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 500
RD2 17 18 500
RD3 18 19 500
RD4 19 20 500
CD1 17 98 500PF
CD2 18 98 500PF
CD3 19 98 500PF
CD4 20 98 500PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.20
D1 12 11 DX
D2 10 12 DX
V3 10 50 0.57
*V3 10 50 -.3
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 2.14E-4
R4 12 98 3.27E9
C3 98 12 6.8E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 7.1E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 75
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 0.5U
RL2 96 97 5
* RL2 IMPROVES CONVERGENCE
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=3167)
.ENDS
*
*   ////////////// MAX4783 MACROMODEL //////////////////
*
*   ====>        "3" DENOTES +/-3V SUPPLY VOLTAGE   <====
*   ====>            REFER TO MAX478 DATA SHEET     <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX4783_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 .05N
I1 99 4 17E-6
RIN1 2 104 .5E9
RIN2 104 1 .5E9
R1 5 50  3041
R2 6 50 3041
EOS 1 9 POLY(1) 98 30  30U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 4 QX
Q2 6 9 4 QX
* Second Pole
C4 5 6 2.38E-11
***************SECOND STAGE******************
IS 99 50 -5E-6
*  SETS IS ^
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 500
RD2 17 18 500
RD3 18 19 500
RD4 19 20 500
CD1 17 98 500PF
CD2 18 98 500PF
CD3 19 98 500PF
CD4 20 98 500PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.20
D1 12 11 DX
D2 10 12 DX
V3 10 50 0.558
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 2.14E-4
R4 12 98 2.81E9
C3 98 12 6.8E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 7.1E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 75
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 0.5U
RL2 96 97 5
* RL2 IMPROVES CONVERGENCE
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=3167)
.ENDS
*
*   ////////////// MAX47915 MACROMODEL //////////////////
*
*   ====>        "15" DENOTES +/-15V SUPPLY VOLTAGE   <====
*   ====>            REFER TO MAX479 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX47915_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 .05N
I1 99 4 17E-6
RIN1 104 2 .5E9
RIN2 104 1 .5E9
R1 5 50  3041
R2 6 50 3041
EOS 1 9 POLY(1) 98 30  30U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 4 QX
Q2 6 9 4 QX
* Second Pole
C4 5 6 2.7E-11
***************SECOND STAGE******************
IS 99 50 -1E-6
*  SETS IS ^   supply current -16uA, 15Vsupply.
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 300
RD2 17 18 300
RD3 18 19 300
RD4 19 20 300
CD1 17 98 300PF
CD2 18 98 300PF
CD3 19 98 300PF
CD4 20 98 300PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.4
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.4
* OUTPUT LEVEL +-14.2V.
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 3.34E-4
R4 12 98 7.49E9
C3 98 12 4.25E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 7.1E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 75
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 1U
RL2 96 97 5
* RL2 IMPROVES CONVERGENCE
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=3167)
.ENDS
*
*
*   ////////////// MAX4795 MACROMODEL //////////////////
*
*   ====>        "5" DENOTES +/-5V SUPPLY VOLTAGE   <====
*   ====>            REFER TO MAX479 DATA SHEET     <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX4795_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 .05N
I1 99 4 17E-6
RIN1 2 104 .5E9
RIN2 1 104 .5E9
R1 5 50  3041
R2 6 50 3041
EOS 1 9 POLY(1) 98 30  30U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 4 QX
Q2 6 9 4 QX
* Second Pole
C4 5 6 6.54E-11
***************SECOND STAGE******************
IS 99 50 -5E-6
*  SETS IS ^
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 500
RD2 17 18 500
RD3 18 19 500
RD4 19 20 500
CD1 17 98 500PF
CD2 18 98 500PF
CD3 19 98 500PF
CD4 20 98 500PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.20
D1 12 11 DX
D2 10 12 DX
V3 10 50 0.57
*V3 10 50 -.3
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 2.14E-4
R4 12 98 3.27E9
C3 98 12 6.8E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 7.1E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 75
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 0.5U
RL2 96 97 5
* RL2 IMPROVES CONVERGENCE
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=3167)
.ENDS
*
*   ////////////// MAX4793 MACROMODEL //////////////////
*
*   ====>        "3" DENOTES +/-3V SUPPLY VOLTAGE   <====
*   ====>            REFER TO MAX479 DATA SHEET     <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   99  50  97
*
.SUBCKT MAX4793_MX 1 2 99 50 97
****************INPUT STAGE**********************
IOS 2 1 .05N
I1 99 4 17E-6
RIN1 2 104 .5E9
RIN2 104 1 .5E9
R1 5 50  3041
R2 6 50 3041
EOS 1 9 POLY(1) 98 30  30U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 4 QX
Q2 6 9 4 QX
* Second Pole
C4 5 6 2.38E-11
***************SECOND STAGE******************
IS 99 50 -5E-6
*  SETS IS ^
****DELAY STAGE****
ED 16 98 12 98 1
RD1 16 17 500
RD2 17 18 500
RD3 18 19 500
RD4 19 20 500
CD1 17 98 500PF
CD2 18 98 500PF
CD3 19 98 500PF
CD4 20 98 500PF
****OUTPUT VOLTAGE LIMITING****
V2 99 11 1.20
D1 12 11 DX
D2 10 12 DX
V3 10 50 0.558
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 2.14E-4
R4 12 98 2.81E9
C3 98 12 6.8E-10
****COMMON-MODE STAGE****
G11 98 30 104 98 7.1E-9
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 20 98 .1E-3
*         ^ NODE WHERE OUTPUT STAGE TAKES CONTROL VOLT.
R15 98 32 10E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 .3V
V4 36 35 .3V
R16 34 35 75
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 0.5U
RL2 96 97 5
* RL2 IMPROVES CONVERGENCE
RL 35 97 10MEG
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX PNP(BF=3167)
.ENDS
* MAX492 FAMILY MACROMODELS
* -------------------------
** FEATURES:
* Low-Voltage Single-Supply Operation (+2.7V to +6V)
* Rail-to-Rail Output Swing
* 500kHz Gain-Bandwidth Product
* Unity-Gain Stable
* 200uV Offset Voltage
* High Voltage Gain (108dB)
* Available in 8-Pin DIP/SO/uMAX (Single MAX495)
*              8-Pin DIP/SO (Dual MAX492)
*             14-Pin DIP/SO (Quad MAX494)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX492         Dual, unity-gain-stable, 500kHz GBP
* MAX494         Quad, 150uA IDD, 500kHz GBP
* MAX495         Single, 2.7V to 6V supply, 150uA IDD
*
*
*   ////////////// MAX492 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX492 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:  111 112  99  50  97
*
*
.SUBCKT MAX492_MX 111 112 99 50 97
*
****************INPUT STAGE**********************
RCM1 111 1 5000
V12 99 113 .140
D11 1 113 DX
D12 114 1 DX
V13 114 50 .140
***********
V14 99 115 .140
D13 2 115 DX
D14 116 2 DX
V15 50 116 .140
***********
RCM2 112 2 5000
*IOS 2 1 5N
I1 4 50 75E-6
RIN1 1 104 1E9
RIN2 2 104 1E9
R1 5 99 689.3
R2 6 99 689.3
EOS 1 9 POLY(1) 98 30 200U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 103 QX
Q2 6 9 104 QX
REE1 104 4 1
REE2 103 4 1
* Second Pole
C4 5 6 68PF
***************SECOND STAGE******************
*IS 99 50 .5m
*  SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .70
D1 12 11 DX
D2 10 12 DX
V3 10 50 .70
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 0.0012
R4 12 98 1.6936E8
C3 98 12 3.75E-10
*
****COMMON-MODE STAGE****
G11 98 30 104 98 1E-8
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 3.5V
V4 36 35 3.5V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 .1U
R17 96 97 .01
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
*
*   ////////////// MAX494 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX494 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:  111 112  99  50  97
*
*
.SUBCKT MAX494_MX 111 112 99 50 97
*
****************INPUT STAGE**********************
RCM1 111 1 5000
V12 99 113 .140
D11 1 113 DX
D12 114 1 DX
V13 114 50 .140
***********
V14 99 115 .140
D13 2 115 DX
D14 116 2 DX
V15 50 116 .140
***********
RCM2 112 2 5000
*IOS 2 1 5N
I1 4 50 75E-6
RIN1 1 104 1E9
RIN2 2 104 1E9
R1 5 99 689.3
R2 6 99 689.3
EOS 1 9 POLY(1) 98 30 200U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 103 QX
Q2 6 9 104 QX
REE1 104 4 1
REE2 103 4 1
* Second Pole
C4 5 6 68PF
***************SECOND STAGE******************
*IS 99 50 .5m
*  SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .70
D1 12 11 DX
D2 10 12 DX
V3 10 50 .70
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 0.0012
R4 12 98 1.6936E8
C3 98 12 3.75E-10
*
****COMMON-MODE STAGE****
G11 98 30 104 98 1E-8
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 3.5V
V4 36 35 3.5V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 .1U
R17 96 97 .01
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
*
*   ////////////// MAX495 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX495 DATA SHEET       <====
*
*
* connections:        non-inverting input
*                     |   inverting input
*                     |   |   positive power-supply
*                     |   |   |   negative power-supply
*                     |   |   |   |   output
*                     |   |   |   |   |
* NODE CONNECTIONS:  111 112  99  50  97
*
*
.SUBCKT MAX495_MX 111 112 99 50 97
*
****************INPUT STAGE**********************
RCM1 111 1 5000
V12 99 113 .140
D11 1 113 DX
D12 114 1 DX
V13 114 50 .140
***********
V14 99 115 .140
D13 2 115 DX
D14 116 2 DX
V15 50 116 .140
***********
RCM2 112 2 5000
*IOS 2 1 5N
I1 4 50 75E-6
RIN1 1 104 1E9
RIN2 2 104 1E9
R1 5 99 689.3
R2 6 99 689.3
EOS 1 9 POLY(1) 98 30 200U 1
*               ^       OFFSET VOLTAGE, NODE 30 FROM COM. MODE STAGE.
Q1 5 2 103 QX
Q2 6 9 104 QX
REE1 104 4 1
REE2 103 4 1
* Second Pole
C4 5 6 68PF
***************SECOND STAGE******************
*IS 99 50 .5m
*  SETS IS ^
****OUTPUT VOLTAGE LIMITING****
V2 99 11 .70
D1 12 11 DX
D2 10 12 DX
V3 10 50 .70
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5
****GAIN, 1ST POLE****
G3 98 12 5 6 0.0012
R4 12 98 1.6936E8
C3 98 12 3.75E-10
*
****COMMON-MODE STAGE****
G11 98 30 104 98 1E-8
R13 30 98 1E3
*
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
****************
G12 98 32 12 98 1E-3
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 3.5V
V4 36 35 3.5V
R16 34 35 30
E1 99 33 99 32 1
VA8 33 34 0V
L 35 96 .1U
R17 96 97 .01
*
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=6.25E4)
.ENDS
* MAX496 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 375MHz -3dB Bandwidth
* 230MHz Full-Power Bandwidth
* 1600V/uS Slew Rate
* Available in 16-Pin DIP/SO
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________
* MAX496         375MHz, Quad Buffers, Av=+1
*
*
*   ////////////// MAX496 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX496 DATA SHEET       <====
*
* connections:      input
*                   |   ground
*                   |   |     positive power supply
*                   |   |     |   negative power supply
*                   |   |     |   |   output
*                   |   |     |   |   |
*                   |   |     |   |   |
.SUBCKT  MAX496_MX    201 1000  99  50 40
ISUPP 99 0 5.5MA
ISUPN 50 0 -5.5MA
rfeedback 40 1 500
rground 1000 0 .00001
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .3p
R202  204  207 633
C202   207 50 .3P
*was .63
********
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .3P
*was .63
R2  4  7 633
C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 99  2 1UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.1
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.1
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .3355P
***************POLE STAGE***************
*
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 15 1
VA8 37 38 0
R35 38 40 38
*r35 was 12
V5  33 40 4.5V
D5  23 33 DX
V6  40 34 4.5V
D6  34 23 DX
*CF1 40  2 2P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX497 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 275MHz -3dB Bandwidth
* 215MHz Full-Power Bandwidth
* 1500V/uS Slew Rate
* Available in 16-Pin DIP/SO
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________
* MAX497         275MHz, Quad Buffers, Av=+2
*
*
*   ////////////// MAX497 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX497 DATA SHEET       <====
*
* connections:      input
*                   |   ground
*                   |   |     positive power supply
*                   |   |     |   negative power supply
*                   |   |     |   |   output
*                   |   |     |   |   |
*                   |   |     |   |   |
.SUBCKT  MAX497_MX     201 1000  99  50 40
ISUPP 99 0 5.5MA
ISUPN 50 0 -5.5MA
rfeedback 40 1 500
rfeedback2 1 0 500
rground 1000 0 .00001
*** INPUT STAGE
I101 99  205 430U
I202  204 50 430U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .3p
*was .63
R202  204  207 633
C202   207 50 .3P
*was .63
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V
*CIN201 201  0 1.5P
*CIN202 202  0 1.5P
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .3P
*was .63
R2  4  7 633
C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 99  2 1UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.1
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.1
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .211P
***************POLE STAGE***************
*
G2  98 20 15 49 1E-3
R14 98 20 1K
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 15 1
VA8 37 38 0
R35 38 40 38
*r35 was 12
V5  33 40 4.5V
D5  23 33 DX
V6  40 34 4.5V
D6  34 23 DX
*CF1 40  2 2P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
* MAX498 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* 250MHz -3dB BW, Avcl= +2
* Drives 50 ohm or 75 ohm Load
* Dual +/-5V Supply Operation
* Available in 28-Pin SO  (MAX498)
*              24-Pin SO  (MAX499)
*
*
* PART NUMBER    DESCRIPTION
* ___________    ________________________________
* MAX498         Quad, 250MHz -3dB BW, Gain=+2
* MAX499         Triple, 250MHz -3dB BW, Gain=+2
*
*
*   ////////////// MAX498 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX498 DATA SHEET       <====
*
* connections:      input
*                   |   ground
*                   |   |     positive power supply
*                   |   |     |   negative power supply
*                   |   |     |   |   output
*                   |   |     |   |   |
*                   |   |     |   |   |
.SUBCKT  MAX498_MX    201 1000  99  50 40
ISUPP 99 0 38MA
ISUPN 50 0 -36MA
rfeedback 40 1 400
RFEEDBACK2 1 0 400
rground 1000 0 .00001
*** INPUT STAGE
I101 99  205 230U
I202  204 50 230U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .4p
*was .63
R202  204  207 633
C202   207 50 .4P
*was .63
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V
CIN201 201  0 .5P
CIN202 202  0 .5P
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .3P
*was .63
R2  4  7 633
C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 99  2 1UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.4
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.4
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .272P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10
*r35 was 12
V5  33 40 -.2V
D5  23 33 DX
V6  40 34 -.2V
D6  34 23 DX
*CF1 40  2 5P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS
*
*   ////////////// MAX499 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX499 DATA SHEET       <====
*
* connections:      input
*                   |   ground
*                   |   |     positive power supply
*                   |   |     |   negative power supply
*                   |   |     |   |   output
*                   |   |     |   |   |
*                   |   |     |   |   |
.SUBCKT  MAX499_MX    201 1000  99  50 40
ISUPP 99 0 38MA
ISUPN 50 0 -36MA
rfeedback 40 1 400
RFEEDBACK2 1 0 400
rground 1000 0 .00001
*** INPUT STAGE
I101 99  205 230U
I202  204 50 230U
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .4p
*was .63
R202  204  207 633
C202   207 50 .4P
*was .63
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V
CIN201 201  0 .5P
CIN202 202  0 .5P
*
RGM 2 220 380
VGM 202 220 0V
*** VGM SENSES THE CURRENT THROUGH VGM
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .3P
*was .63
R2  4  7 633
C2   7 50 .3P
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 1UA
IB2 99  2 1UA
VOS 3 1 0V
**************SECOND STAGE**************
*
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.4
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.4
*neg swing
EH  99 98 99 49 1
*G1  98 15 POLY(2) 99 2 50 202 0 1.58E-3 1.58E-3
F1 98 15 VGM .35
R5  98 15 2.372MEG
*** ***********************  1st pole here with r5, and c3
C3 98 15 .272P
***************POLE STAGE***************
*
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K
*C4  98 20 .692P
*C4 98 20 .5P
*
***************POLE STAGE***************
*
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K
*C5  98 21 .03P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K
*C6  98 22 .346P
*
***************POLE STAGE***************
*
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K
*C7  98 23 .246P
*
**************OUTPUT STAGE**************
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10
*r35 was 12
V5  33 40 -.2V
D5  23 33 DX
V6  40 34 -.2V
D6  34 23 DX
*CF1 40  2 5P
*** was 2.1pf
*
***************MODELS USED**************
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
*
.ENDS


* MAX907 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Fast, 40nS Propagation Delay (5mV overdrive)
* Wide Input Voltage Range Includes Ground
* Internal Hysteresis for Clean Switching
* Available in 8-Pin DIP/SO (Dual MAX907)
*             14-Pin DIP/SO (Quad MAX908)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX907         Dual, int HYST, 40nS delay
* MAX908         Quad, int HYST, 40nS delay
*
*
*   ////////////// MAX907 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX907 DATA SHEET       <====
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   negative power-supply, V-
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max907_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 .6ma
INSUP 0 4 -40ua
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=500)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=21.12E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -2E-9
*GENERATES 2MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 0
V5 34 36 0
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 150
R17 42 35 78
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=103.5 Cjc=1E-15 Tf=5.545E-9 Tr=7.28E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*
*   ////////////// MAX908 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX908 DATA SHEET       <====
*
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   negative power-supply, V-
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max908_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 .6ma
INSUP 0 4 -40ua
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=500)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=21.12E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -2E-9
*GENERATES 2MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 0
V5 34 36 0
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 150
R17 42 35 78
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=103.5 Cjc=1E-15 Tf=5.545E-9 Tr=7.28E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
* MAX909 FAMILY MACROMODEL
* ------------------------
* FEATURES:
* Fast, 40nS Propagation Delay (5mV overdrive)
* Wide Input Voltage Range Includes Ground
* Internal Hysteresis for Clean Switching
* Internal Latch
* Available in 8-Pin DIP/SO (Single MAX909)
*
* PART NUMBER    DESCRIPTION
* ___________    _______________________________________
* MAX909         Single, int HYST, 40nS delay, int latch
*
*   ////////////// MAX909 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX909 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |
*                | | | | LE
*                | | | | |   GND  QOUT QOUTCOMP
*                | | | | |   |    |    |
.subckt max909_MX   1 2 3 4 352 300  433  483
*
* NOTE1: QOUTCOMP IS ACTUALLY COMPLIMENTED QOUT.
* NOTE2: INCLUDE
*            .OPTION ITL4=50 RELTOL=0.001
*                                        TO ENHANCE CONVERGENCE.
***
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 .6ma
INSUP 0 4 -40ua
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=500)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=21.12E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 32 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -2E-9
*GENERATES 2MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
G12 98 32 5 0 7.04E-3
R15 98 32 140
*========================
.model qoc NPN(Is=800.0E-18 Bf=103.5 Cjc=1E-15 Tf=5.545E-9 Tr=7.28E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
***
VCONNECT 302 32 0V
* AND1
* 302, 312 is the input, output is 333.
RN1 302 303 1MEG
DA1 305 330 DP
DA2 300 305 DP
RA2 304 305 1MEG
EA1 304 300 POLY(1) 302 303 0 10
***
RN10 312 303 1MEG ;node 303 is 1.4volts.
DA10 315 330 DP
DA12A 300 315 DP
RA12 314 315 1MEG
EA11 314 300 POLY(1) 312 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
GAMULT 300 331 POLY(2) 305 300 315 300  0 0 0 0 1E-6
RAMULT 331 300 1G
DA5 331 330 DP
DA6 300 331 DP
EOA 332 300 331 300 1
ROA 332 333 100
***
* AND2
* 352, 362 is the input, output is 383.
RN12 352 303 1MEG
DA12 355 380 DP
DA22 300 355 DP
RA22 354 355 1MEG
EA12 354 300 POLY(1) 352 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
RN102 362 303 1MEG ;node 303 is 1.4volts.
DA102 365 380 DP
DA122 300 365 DP
RA122 364 365 1MEG
EA112 364 300 POLY(1) 362 303 0 10
***
GAMULT2 300 381 POLY(2) 355 300 365 300  0 0 0 0 1E-6
RAMULT2 381 300 1G
DA52 381 330 DP
DA62 300 381 DP
EOA2 382 300 381 300 1
ROA2 382 383 100
***
* OR1
* 402,412 are the inputs, output is 433
RO1 402 403 1MEG
VO14 403 300 1.4V
VO1 430 300 5V
DO1 405 430 DP
DO2 300 405 DP
RO2 404 405 1MEG ; WAS 1MEG
EO1 404 300 POLY(1) 402 403 0 10
***
RO10 412 403 1MEG ;node 403 is 1.4volts.
DO10 415 430 DP
DO12 300 415 DP
RO12O 414 415 300 ; WAS 1MEG
EO11 414 300 POLY(1) 412 403 0 10
***
GOADD1 300 431 POLY(2) 405 300 415 300 0 1E-6 1E-6
ROADD 431 300 1G
DO5 431 430 DP
DO6 300 431 DP
EOO 432 300 431 300 1
ROO 432 433 100 ; OUTPUT IS 433
* OR2
* 452,462 are the inputs, output is 488
RO12 452 403 1MEG
VO12 480 300 5V
DO12O 455 480 DP
DO22 300 455 DP
RO22 454 455 1MEG ; WAS 1MEG
EO12 454 300 POLY(1) 452 403 0 10
***
RO102 462 403 1MEG ;node 403 is 1.4volts.
DO102 465 480 DP
DO122 300 465 DP
RO122 464 465 300 ; WAS 1MEG
EO112 464 300 POLY(1) 462 403 0 10
***
GOADD12 300 481 POLY(2) 455 300 465 300 0 1E-6 1E-6
ROADD2 481 300 1G
DO52 481 480 DP
DO62 300 481 DP
EOO2 482 300 481 300 1
ROO2 482 483 100 ; OUTPUT IS 483
* INVERTER1
*INPUT 602, OUTPUT  605
RIN1 602 303 1MEG
DIA1 605 630 DP
DIA2 300 605 DP
vi1 630 300 5v
RIA2 604 605 10k
EIA1 604 300 POLY(1) 602 303 0 -10
* INVERTER2
*INPUT 612, OUTPUT 615
RIN12 612 303 1MEG
DIA12 615 640 DP
DIA22 300 615 DP
vi12 640 300 5v
RIA22 614 615 10k
EIA12 614 300 POLY(1) 612 303 0 -10
* INVERTER3
*INPUT 622, OUTPUT 625
RIN13 622 303 1MEG
DIA13 625 650 DP
DIA23 300 625 DP
vi13 650 300 5v
RIA23 624 625 10k
EIA13 624 300 POLY(1) 622 303 0 -10
*** ********BIASING****************
*** *******************************
VA14 303 300 1.4V
VA1 330 300 5V
*VDGND 300 0 0V ;           **** Will be brought out in subckt.
***
* CONNECTIONS *********************
VSH1 605 362 0V
VSH2 312 352 0V
VSH3 333 402 0V
VSH4 383 462 0V
VSH5 433 622 0V
VSH6 625 452 0V
VSH7 483 612 0V
VSH8 615 412 0V
VSH9 302 602 0V
.ENDS
*
* MAX912 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Fast, 10nS Propagation Delay (5mV overdrive)
* Input Voltage Range Extends Below Negative Supply
* Low Power: 6mA Per Comparator (+5V)
* Single +5V or Dual +/-5V Supply Operation
* Available in 8-Pin DIP/SO (Single MAX913)
*             16-Pin DIP/SO (Dual MAX912)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX912         Dual, int HYST, 40nS delay
* MAX913         Single, int HYST, 40nS delay
*
*
*   ////////////// MAX912 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX912 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |
*                | | | | LE
*                | | | | |   GND  QOUT QOUTCOMP
*                | | | | |   |    |    |
.subckt max912_MX   1 2 3 4 352 300  433  483
*
* NOTE1: QOUTCOMP IS ACTUALLY COMPLIMENTED QOUT.
* NOTE2: INCLUDE
*            .OPTION ITL4=50 RELTOL=0.001
*                                        TO ENHANCE CONVERGENCE.
***
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 6ma
INSUP 0 4 300ua
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=16.67)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.475E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 32 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -.2E-9
*GENERATES .2MV OF HYST. TO MIMIC SMOOTH TRANSITION.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
G12 98 32 5 0 7.04E-3
R15 98 32 140
*========================
.model qoc NPN(Is=800.0E-18 Bf=181 Cjc=1E-15 Tf=15.8e-12 Tr=4.172E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*** **********************************
*** **********************************
VCONNECT 302 32 0V
* AND1
* 302, 312 is the input, output is 333.
RN1 302 303 1MEG
DA1 305 330 DP
DA2 300 305 DP
RA2 304 305 1MEG
EA1 304 300 POLY(1) 302 303 0 10
***
RN10 312 303 1MEG ;node 303 is 1.4volts.
DA10 315 330 DP
DA12A 300 315 DP
RA12 314 315 1MEG
EA11 314 300 POLY(1) 312 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
GAMULT 300 331 POLY(2) 305 300 315 300  0 0 0 0 1E-6
RAMULT 331 300 1G
DA5 331 330 DP
DA6 300 331 DP
EOA 332 300 331 300 1
ROA 332 333 100
***
* AND2
* 352, 362 is the input, output is 383.
RN12 352 303 1MEG
ILE 352 300 -20UA
DA12 355 380 DP
DA22 300 355 DP
RA22 354 355 1MEG
EA12 354 300 POLY(1) 352 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
RN102 362 303 1MEG ;node 303 is 1.4volts.
DA102 365 380 DP
DA122 300 365 DP
RA122 364 365 1MEG
EA112 364 300 POLY(1) 362 303 0 10
***
GAMULT2 300 381 POLY(2) 355 300 365 300  0 0 0 0 1E-6
RAMULT2 381 300 1G
DA52 381 330 DP
DA62 300 381 DP
EOA2 382 300 381 300 1
ROA2 382 383 100
***
* OR1
* 402,412 are the inputs, output is 433
RO1 402 403 1MEG
VO14 403 300 1.4V
VO1 430 300 5V
DO1 405 430 DP
DO2 300 405 DP
RO2 404 405 1MEG ; WAS 1MEG
EO1 404 300 POLY(1) 402 403 0 10
***
RO10 412 403 1MEG ;node 403 is 1.4volts.
DO10 415 430 DP
DO12 300 415 DP
RO12O 414 415 300 ; WAS 1MEG
EO11 414 300 POLY(1) 412 403 0 10
***
GOADD1 300 431 POLY(2) 405 300 415 300 0 1E-6 1E-6
ROADD 431 300 1G
DO5 431 430 DP
DO6 300 431 DP
EOO 432 300 431 300 1
ROO 432 433 75 ; OUTPUT IS 433
* OR2
* 452,462 are the inputs, output is 488
RO12 452 403 1MEG
VO12 480 300 5V
DO12O 455 480 DP
DO22 300 455 DP
RO22 454 455 1MEG ; WAS 1MEG
EO12 454 300 POLY(1) 452 403 0 10
***
RO102 462 403 1MEG ;node 403 is 1.4volts.
DO102 465 480 DP
DO122 300 465 DP
RO122 464 465 300 ; WAS 1MEG
EO112 464 300 POLY(1) 462 403 0 10
***
GOADD12 300 481 POLY(2) 455 300 465 300 0 1E-6 1E-6
ROADD2 481 300 1G
DO52 481 480 DP
DO62 300 481 DP
EOO2 482 300 481 300 1
ROO2 482 483 75 ; OUTPUT IS 483
* INVERTER1
*INPUT 602, OUTPUT  605
RIN1 602 303 1MEG
DIA1 605 630 DP
DIA2 300 605 DP
vi1 630 300 5v
RIA2 604 605 10k
EIA1 604 300 POLY(1) 602 303 0 -10
* INVERTER2
*INPUT 612, OUTPUT 615
RIN12 612 303 1MEG
DIA12 615 640 DP
DIA22 300 615 DP
vi12 640 300 5v
RIA22 614 615 10k
EIA12 614 300 POLY(1) 612 303 0 -10
* INVERTER3
*INPUT 622, OUTPUT 625
RIN13 622 303 1MEG
DIA13 625 650 DP
DIA23 300 625 DP
vi13 650 300 5v
RIA23 624 625 10k
EIA13 624 300 POLY(1) 622 303 0 -10
*** ********BIASING****************
*** *******************************
VA14 303 300 1.4V
VA1 330 300 5V
*VDGND 300 0 0V ;           **** Will be brought out in subckt.
***
* CONNECTIONS *********************
VSH1 605 362 0V
VSH2 312 352 0V
VSH3 333 402 0V
VSH4 383 462 0V
VSH5 433 622 0V
VSH6 625 452 0V
VSH7 483 612 0V
VSH8 615 412 0V
VSH9 302 602 0V
.ENDS
*
*   ////////////// MAX913 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX913 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |
*                | | | | LE
*                | | | | |   GND  QOUT QOUTCOMP
*                | | | | |   |    |    |
.subckt max913_MX   1 2 3 4 352 300  433  483
*
* NOTE1: QOUTCOMP IS ACTUALLY COMPLIMENTED QOUT.
* NOTE2: INCLUDE
*            .OPTION ITL4=50 RELTOL=0.001
*                                        TO ENHANCE CONVERGENCE.
***
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 6ma
INSUP 0 4 300ua
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=16.67)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.475E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 32 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -.2E-9
*GENERATES .2MV OF HYST. TO MIMIC SMOOTH TRANSITION.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
G12 98 32 5 0 7.04E-3
R15 98 32 140
*========================
.model qoc NPN(Is=800.0E-18 Bf=181 Cjc=1E-15 Tf=15.8e-12 Tr=4.172E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*** **********************************
*** **********************************
VCONNECT 302 32 0V
* AND1
* 302, 312 is the input, output is 333.
RN1 302 303 1MEG
DA1 305 330 DP
DA2 300 305 DP
RA2 304 305 1MEG
EA1 304 300 POLY(1) 302 303 0 10
***
RN10 312 303 1MEG ;node 303 is 1.4volts.
DA10 315 330 DP
DA12A 300 315 DP
RA12 314 315 1MEG
EA11 314 300 POLY(1) 312 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
GAMULT 300 331 POLY(2) 305 300 315 300  0 0 0 0 1E-6
RAMULT 331 300 1G
DA5 331 330 DP
DA6 300 331 DP
EOA 332 300 331 300 1
ROA 332 333 100
***
* AND2
* 352, 362 is the input, output is 383.
RN12 352 303 1MEG
ILE 352 300 -20UA
DA12 355 380 DP
DA22 300 355 DP
RA22 354 355 1MEG
EA12 354 300 POLY(1) 352 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
RN102 362 303 1MEG ;node 303 is 1.4volts.
DA102 365 380 DP
DA122 300 365 DP
RA122 364 365 1MEG
EA112 364 300 POLY(1) 362 303 0 10
***
GAMULT2 300 381 POLY(2) 355 300 365 300  0 0 0 0 1E-6
RAMULT2 381 300 1G
DA52 381 330 DP
DA62 300 381 DP
EOA2 382 300 381 300 1
ROA2 382 383 100
***
* OR1
* 402,412 are the inputs, output is 433
RO1 402 403 1MEG
VO14 403 300 1.4V
VO1 430 300 5V
DO1 405 430 DP
DO2 300 405 DP
RO2 404 405 1MEG ; WAS 1MEG
EO1 404 300 POLY(1) 402 403 0 10
***
RO10 412 403 1MEG ;node 403 is 1.4volts.
DO10 415 430 DP
DO12 300 415 DP
RO12O 414 415 300 ; WAS 1MEG
EO11 414 300 POLY(1) 412 403 0 10
***
GOADD1 300 431 POLY(2) 405 300 415 300 0 1E-6 1E-6
ROADD 431 300 1G
DO5 431 430 DP
DO6 300 431 DP
EOO 432 300 431 300 1
ROO 432 433 75 ; OUTPUT IS 433
* OR2
* 452,462 are the inputs, output is 488
RO12 452 403 1MEG
VO12 480 300 5V
DO12O 455 480 DP
DO22 300 455 DP
RO22 454 455 1MEG ; WAS 1MEG
EO12 454 300 POLY(1) 452 403 0 10
***
RO102 462 403 1MEG ;node 403 is 1.4volts.
DO102 465 480 DP
DO122 300 465 DP
RO122 464 465 300 ; WAS 1MEG
EO112 464 300 POLY(1) 462 403 0 10
***
GOADD12 300 481 POLY(2) 455 300 465 300 0 1E-6 1E-6
ROADD2 481 300 1G
DO52 481 480 DP
DO62 300 481 DP
EOO2 482 300 481 300 1
ROO2 482 483 75 ; OUTPUT IS 483
* INVERTER1
*INPUT 602, OUTPUT  605
RIN1 602 303 1MEG
DIA1 605 630 DP
DIA2 300 605 DP
vi1 630 300 5v
RIA2 604 605 10k
EIA1 604 300 POLY(1) 602 303 0 -10
* INVERTER2
*INPUT 612, OUTPUT 615
RIN12 612 303 1MEG
DIA12 615 640 DP
DIA22 300 615 DP
vi12 640 300 5v
RIA22 614 615 10k
EIA12 614 300 POLY(1) 612 303 0 -10
* INVERTER3
*INPUT 622, OUTPUT 625
RIN13 622 303 1MEG
DIA13 625 650 DP
DIA23 300 625 DP
vi13 650 300 5v
RIA23 624 625 10k
EIA13 624 300 POLY(1) 622 303 0 -10
*** ********BIASING****************
*** *******************************
VA14 303 300 1.4V
VA1 330 300 5V
*VDGND 300 0 0V ;           **** Will be brought out in subckt.
***
* CONNECTIONS *********************
VSH1 605 362 0V
VSH2 312 352 0V
VSH3 333 402 0V
VSH4 383 462 0V
VSH5 433 622 0V
VSH6 625 452 0V
VSH7 483 612 0V
VSH8 615 412 0V
VSH9 302 602 0V
.ENDS
* MAX921 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low 4uA Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Internal 1.182V Reference
* Adjustable Hysteresis
* Available in 8-Pin DIP/SO/uMAX (Single MAX921)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX921         Single, adj HYST, 12uS delay
*
*
*   ////////////// MAX921 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX921 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | | HYST.
*                | | | | |  REF.
*                | | | | |  |   OUT.
*                | | | | |  |   |
.subckt max921_MX   1 2 3 4 49 235 97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
*M1 23 24 400 3 PMOS
*M2 25 26 400 3 PMOS
*I1 399 23 30U
*I2 399 25 30U
RIN1 2 23 2K
RIN2 1 25 2K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
RINH 49 50 200
I50 50 0 0.02NA
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
*=======================
* MAX921-924 VOLTAGE REF.
*
VREF 301 4 1.1832V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
* MAX922 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low 4uA Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Available in 8-Pin DIP/SO/uMAX (Dual MAX922)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX922         Dual Ultra Low-Power Comparators
*
*
*   ////////////// MAX922 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX922 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |  OUT.
*                | | | |  |
.subckt max922_MX   1 2 3 4  97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
RIN1 2 23 2K
RIN2 1 25 2K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA
***
VNOHYST 23 20 0V
*EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
* MAX923 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low 4uA Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Internal 1.182V Reference
* Adjustable Hysteresis
* Available in 8-Pin DIP/SO/uMAX (Dual MAX923)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX923         Dual, adj HYST, 12uS delay, 1.182V REF
*
*
*   ////////////// MAX923 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX923 DATA SHEET       <====
*
* connections:   +INA
*                |      -INB
                 |     |      +V -V  HYST.
*                |     |      |  |   |   REF.
*                |     |      |  |   |   |    OUT1
*                |     |      |  |   |   |    |   OUT2
.subckt max923_MX   1     102    3  4   49  235  97  197
*
VE1 2 101  0V
VE2 2 235 0V
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 0 0V
  VPB 399 3 0V
***================
RIN1 2 23 20K
RIN2 1 25 20K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
IMSUP 0 4 -2.552948MA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=5E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  1
  v1   10 11 dc 0
  q5    5 11  44 qoc
  VSHIFT  44 400 0V
  R55 399 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
RINH 49 50 200
I50 50 0 0.02NA
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
*=======================
* MAX921-924 VOLTAGE REF.
*
VREF 301 4 1.1832V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
***===============================
* SECOND COMPARATOR
*
  f201    3  109 v101 1
  iee200   107  500 dc 100.0E-6
  q201    109  120  107 qin
  q102    108  121  107 qin
  q103    109  108  499 qmo
  q104    108 108  499 qmi
  VMB100 500 0 0V
  VPB100 499 3 0V
***================
RIN101 102 123 20K
RIN102 101 125 20K
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP
***
IPSUP100 0 3 2.5523948MA
IMSUP100 0 4 -2.5523948MA
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V
***=================
  e101   110  4  3  109  1
  v101   110 111 dc 0
  q105    105 111  144 qoc
  VSHIFT100  144 500 0V
  R155 499 105 10K
  DP105 105 3 DP
  DP106 4 105 DP
***============= Hysterisis section
GH100 0 151 197 0 1E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V
***=================
GHYST100 155 0 50 0 1E-6
GREF100 0 155 235 4 1E-6
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV
*LOGIC OUTPUT, NODE 160 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 3  4 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65
****V104,V105 SET ISC
R116 141 135 107
R117 142 135 245
E111 3 133 3 132 1
VA108 133 134 0V
L100 135 197 10NH
*========================
  dp100    4  3 DX
  rp100    3  4 2.041E3
.ends
* MAX924 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Internal 1.182V Reference
* Available in 16-Pin DIP/SO/uMAX (Quad MAX924)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX924         Quad, 12uS delay, int 1.182V REF
*
*
*   ////////////// MAX924 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX924 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |  OUT.
*                | | | |  |
.subckt max924_MX   1 2 3 4  97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
RIN1 2 23 2K
RIN2 1 25 2K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA
***
VNOHYST 23 20 0V
*EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*
*   ////////////// REF MACROMODEL //////////////////
*
* connections:
*                V+
*                | V-
*                | |  OUT
*                | |   |
.subckt REF_MX      3 4   235
*
VREF 301 4 1.1832V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
**=== MODELS USED **====
.MODEL DX2 D(IS=1E-15 n=0.001)
.MODEL DX D(IS=1E-15)
.ends
* MAX931 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low 4uA Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Internal 1.182V Reference
* Adjustable Hysteresis
* Available in 8-Pin DIP/SO (Single MAX931)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX931         Single, adj HYST, 12uS delay
*
*
*   ////////////// MAX931 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX931 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | | HYST.
*                | | | | |  REF.
*                | | | | |  |   OUT.
*                | | | | |  |   |
.subckt max931_MX   1 2 3 4 49 235 97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
*M1 23 24 400 3 PMOS
*M2 25 26 400 3 PMOS
*I1 399 23 30U
*I2 399 25 30U
RIN1 2 23 2K
RIN2 1 25 2K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
RINH 49 50 200
I50 50 0 0.02NA
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
*=======================
* MAX931-934 VOLTAGE REF.
*
VREF 301 4 1.1832V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
* MAX932 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low 4uA Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Internal 1.182V Reference
* Adjustable Hysteresis
* Available in 8-Pin DIP/SO (Dual MAX932)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX932         Dual, adj HYST, 12uS delay, 1.182V REF
*
*
*   ////////////// MAX932 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX932 DATA SHEET       <====
*
* connections:   +INA
*                |      +INB
*                |     |      +V -V  HYST.
*                |     |      |  |   |   REF.
*                |     |      |  |   |   |    OUT1
*                |     |      |  |   |   |    |   OUT2
.subckt max932_MX   1     101    3  4   49  235  97  197
*
VE1 2 102  0V
VE2 2 235 0V
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 0 0V
  VPB 399 3 0V
***================
RIN1 2 23 20K
RIN2 1 25 20K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
IMSUP 0 4 -2.552948MA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=5E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  1
  v1   10 11 dc 0
  q5    5 11  44 qoc
  VSHIFT  44 400 0V
  R55 399 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
RINH 49 50 200
I50 50 0 0.02NA
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
*=======================
* MAX931-934 VOLTAGE REF.
*
VREF 301 4 1.1832V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
***===============================
* SECOND COMPARATOR
*
  f201    3  109 v101 1
  iee200   107  500 dc 100.0E-6
  q201    109  120  107 qin
  q102    108  121  107 qin
  q103    109  108  499 qmo
  q104    108 108  499 qmi
  VMB100 500 0 0V
  VPB100 499 3 0V
***================
RIN101 102 123 20K
RIN102 101 125 20K
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP
***
IPSUP100 0 3 2.5523948MA
IMSUP100 0 4 -2.5523948MA
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V
***=================
  e101   110  4  3  109  1
  v101   110 111 dc 0
  q105    105 111  144 qoc
  VSHIFT100  144 500 0V
  R155 499 105 10K
  DP105 105 3 DP
  DP106 4 105 DP
***============= Hysterisis section
GH100 0 151 197 0 1E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V
***=================
GHYST100 155 0 50 0 1E-6
GREF100 0 155 235 4 1E-6
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV
*LOGIC OUTPUT, NODE 160 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 3  4 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65
****V104,V105 SET ISC
R116 141 135 107
R117 142 135 245
E111 3 133 3 132 1
VA108 133 134 0V
L100 135 197 10NH
*========================
  dp100    4  3 DX
  rp100    3  4 2.041E3
.ends
* MAX933 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low 4uA Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Internal 1.182V Reference
* Adjustable Hysteresis
* Available in 8-Pin DIP/SO/uMAX (Dual MAX923)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX933         Dual, adj HYST, 12uS delay, 1.182V REF
*
*
*   ////////////// MAX933 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX933 DATA SHEET       <====
*
* connections:   +INA
*                |      -INB
                 |     |      +V -V  HYST.
*                |     |      |  |   |   REF.
*                |     |      |  |   |   |    OUT1
*                |     |      |  |   |   |    |   OUT2
.subckt max933_MX   1     102    3  4   49  235  97  197
*
VE1 2 101  0V
VE2 2 235 0V
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 0 0V
  VPB 399 3 0V
***================
RIN1 2 23 20K
RIN2 1 25 20K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
IMSUP 0 4 -2.552948MA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=5E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  1
  v1   10 11 dc 0
  q5    5 11  44 qoc
  VSHIFT  44 400 0V
  R55 399 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
RINH 49 50 200
I50 50 0 0.02NA
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
*=======================
* MAX931-934 VOLTAGE REF.
*
VREF 301 4 1.1832V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
***===============================
* SECOND COMPARATOR
*
  f201    3  109 v101 1
  iee200   107  500 dc 100.0E-6
  q201    109  120  107 qin
  q102    108  121  107 qin
  q103    109  108  499 qmo
  q104    108 108  499 qmi
  VMB100 500 0 0V
  VPB100 499 3 0V
***================
RIN101 102 123 20K
RIN102 101 125 20K
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP
***
IPSUP100 0 3 2.5523948MA
IMSUP100 0 4 -2.5523948MA
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V
***=================
  e101   110  4  3  109  1
  v101   110 111 dc 0
  q105    105 111  144 qoc
  VSHIFT100  144 500 0V
  R155 499 105 10K
  DP105 105 3 DP
  DP106 4 105 DP
***============= Hysterisis section
GH100 0 151 197 0 1E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V
***=================
GHYST100 155 0 50 0 1E-6
GREF100 0 155 235 4 1E-6
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV
*LOGIC OUTPUT, NODE 160 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 3  4 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65
****V104,V105 SET ISC
R116 141 135 107
R117 142 135 245
E111 3 133 3 132 1
VA108 133 134 0V
L100 135 197 10NH
*========================
  dp100    4  3 DX
  rp100    3  4 2.041E3
.ends
* MAX934 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Low Quiescent Current
* 12uS Propagation Delay (10mV Overdrive)
* Input Voltage Range Includes Negative Supply
* Internal 1.182V Reference
* Available in 16-Pin DIP/SO (Quad MAX934)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX934         Quad, 12uS delay, int 1.182V REF
*
*
*   ////////////// MAX934 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX934 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |  OUT.
*                | | | |  |
.subckt max934_MX   1 2 3 4  97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
RIN1 2 23 2K
RIN2 1 25 2K
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA
***
VNOHYST 23 20 0V
*EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 7
R17 42 35 145
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*
*   ////////////// REF MACROMODEL //////////////////
*
* connections:
*                V+
*                | V-
*                | |  OUT
*                | |   |
.subckt REF_MX      3 4   235
*
VREF 301 4 1.1832V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
**=== MODELS USED **====
.MODEL DX2 D(IS=1E-15 n=0.001)
.MODEL DX D(IS=1E-15)
.ends
* MAX941 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Optimized for +3V and +5V Operation
* Fast, 80nS Propagation Delay (5mV overdrive)
* Rail-to-Rail Input Voltage Range
* Internal Hysteresis for Clean Switching
* Outputs Swing 200mV of Power Rails
* Available in 8-Pin DIP/SO/uMAX (Single MAX941)
*              8-Pin DIP/SO (Dual MAX942)
*             14-Pin DIP/SO (Quad MAX944)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX941         Single, int HYST, 80nS delay
* MAX942         Dual, int HYST, 80nS delay
* MAX944         Quad, int HYST, 80nS
*
*
*   ////////////// MAX941 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX941 DATA SHEET       <====
*
* Note: The internal LATCH is not modeled for this MAX941
* macromodel. Work is in progress to include this LATCH
* in the future SPICE disk releases.
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   negative power-supply, V-
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max941_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 -.2V
DCM3 4 26 DP
VCM2 71 26 -.2V
DCM4 71 3 DP
***
IPSUP 3 0 330UA
INSUP 0 4 330UA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=333.3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=49.68E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -1E-9
*GENERATES 1MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .12
V5 34 36 .12
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 30
R17 42 35 30
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=314.2E-12 Tr=33.14E-9)
  dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*
*   ////////////// MAX942 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX942 DATA SHEET       <====
*
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   negative power-supply, V-
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max942_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 -.2V
DCM3 4 26 DP
VCM2 71 26 -.2V
DCM4 71 3 DP
***
IPSUP 3 0 330UA
INSUP 0 4 330UA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=333.3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=49.68E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -1E-9
*GENERATES 1MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .12
V5 34 36 .12
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 30
R17 42 35 30
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=314.2E-12 Tr=33.14E-9)
  dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*
*   ////////////// MAX944 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX944 DATA SHEET       <====
*
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   negative power-supply, V-
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max944_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  q2    8  21  7 qin
  q3    9  8  399 qmo
  q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 -.2V
DCM3 4 26 DP
VCM2 71 26 -.2V
DCM4 71 3 DP
***
IPSUP 3 0 330UA
INSUP 0 4 330UA
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=333.3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=49.68E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  R55 3 5 10K
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -1E-9
*GENERATES 1MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .12
V5 34 36 .12
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 30
R17 42 35 30
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=314.2E-12 Tr=33.14E-9)
  dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
* MAX951 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Op Amp + Comparator + Reference
* 7uA Typical Supply Current
* Comparator and Op Amp Input Range Includes Ground
* Internal 1.2V Reference
* Outputs Swing Rail to Rail
* Internal Comparator Hysteresis
* Op Amp Gain Stability 1V/V
* Available in 8-Pin DIP/SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX951         Ultra-Low-Power Op Amp + Comp + Ref
*
*
*   ////////////// MAX951 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX951 DATA SHEET       <====
*
* connections:   AMPIN+(3)
*                |  AMPIN-(2) COMPIN+(5)
*                |  |         |   +V(8) -V(4)
*                |  |         |    |    |    REF(6)
*                |  |         |    |    |    |    AMPOUT(1)
*                |  |         |    |    |    |    |   COMPOUT(7)
.subckt max951_MX   1  2         101  300  400  235  97  197
*
*=======================
VREFCOMP 235 102 0V
VSENSEP 300 3 0V
VSENSEN 400 4 0V
FSENSEP 300 0 VSENSEP -1
FSENSEN 400 0 VSENSEN -1
ISUPPLY 300 400 7UA
*** ********************* MAX951 AMPLIFIER
****************INPUT STAGE**********************
I1 3 41 50U
M1   5  2 41 3 MOSFET
R3   5 4 5.2696K
M2   6  7 41 3 MOSFET
R4   6 4 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB
************************
GSUP 0 106 POLY(1) 3 4 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 1
*G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E5
C3 10 98 20UF
D1 9 139 DX
D2 112 9 DX
V11 3 139 .5V
V12 112 4 .5V
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 40
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
*C5 98 15 14.5N
C5 98 15 3N
*
CCOMP 97 100 20000nf
RCOMP 100 9 100000
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 97 1K
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 15K
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
*** ****************** MAX951/2 VOLTAGE REF.
*
VREF 301 4 1.2V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
***===============================
*
*
.model qin NPN(Is=800.0E-18 Bf=5E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DP D(N=0.001)
*=======================
  dp100    4  3 DX
  rp100    3  4 2.041E3

  f201    3  109 v101 1
  iee200   107  500 dc 100.0E-6
  q201    109  120  107 qin
  q102    108  121  107 qin
  q103    109  108  499 qmo
  q104    108 108  499 qmi
  VMB100 500 0 0V
  VPB100 499 3 0V
***================
RIN101 102 123 20K
RIN102 101 125 20K
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP
***
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V
***=================
  e101   110  4  3  109  1
  v101   110 111 dc 0
  q105    105 111  144 qoc
  VSHIFT100  144 500 0V
  R155 499 105 10K
  DP105 105 3 DP
  DP106 4 105 DP
***============= Hysterisis section
GH100 0 151 197 0 1E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V
***=================
GHYST100 155 0 4 0 1E-6
GREF100 0 155 235 4 1E-6
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65
****V104,V105 SET ISC
R116 141 135 107
R117 142 135 245
E111 3 133 3 132 1
VA108 133 134 0V
L100 135 197 10NH
*========================
.ends

* MAX952 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Op Amp + Comparator + Reference
* 7uA Typical Supply Current
* Comparator and Op Amp Input Range Includes Ground
* Internal 1.2V Reference
* Outputs Swing Rail to Rail
* Internal Comparator Hysteresis
* Op Amp Gain Stability 10V/V
* Available in 8-Pin DIP/SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX952         Ultra-Low-Power Op Amp + Comp + Ref
*
*
*   ////////////// MAX952 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX952 DATA SHEET       <====
*
* connections:   AMPIN+(3)
*                |  AMPIN-(2) COMPIN+(5)
*                |  |         |   +V(8) -V(4)
*                |  |         |    |    |   REF(6)
*                |  |         |    |    |   |    AMPOUT(1)
*                |  |         |    |    |   |    |   COMPOUT(7)
.subckt max952_MX   1  2         101  300 400  235  97  197
*
*=======================
VREFCOMP 235 102 0V
vsensep 300 3 0v
vsensen 400 4 0v
fsensep 300 0 vsensep -1
fsensen 400 0 vsensen -1
isupply 300 400 7ua
*** ********************* MAX951 AMPLIFIER
****************INPUT STAGE**********************
I1 3 41 50U
*45u
M1   5  2 41 3 MOSFET
R3   5 4 5.2696K
M2   6  7 41 3 MOSFET
R4   6 4 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB
************************
GSUP 0 106 POLY(1) 3 4 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 1
VS 9 10 0V
R0  98  9 1E5
C3 10 98 3.3UF
D1 9 139 DX
D2 112 9 DX
V11 3 139 1V
V12 112 4 .56V
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 40
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
*C5 98 15 3N
C5 98 15 5N
*** SECOND POLE STAGE *******
G4S 98 20 15 98 1E-3
R12S 98 20 1E3
C6S 98 20 3N
*
CCOMP 97 100 20000nf
RCOMP 100 9 100000
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 20 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 97 1K
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 15K
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
*** ****************** MAX951/2 VOLTAGE REF.
*
VREF 301 4 1.2V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
***===============================
*
*
.model qin NPN(Is=800.0E-18 Bf=5E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DP D(N=0.001)
*=======================
  dp100    4  3 DX
  rp100    3  4 2.041E3

  f201    3  109 v101 1
  iee200   107  500 dc 100.0E-6
  q201    109  120  107 qin
  q102    108  121  107 qin
  q103    109  108  499 qmo
  q104    108 108  499 qmi
  VMB100 500 0 0V
  VPB100 499 3 0V
***================
RIN101 102 123 20K
RIN102 101 125 20K
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP
***
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V
***=================
  e101   110  4  3  109  1
  v101   110 111 dc 0
  q105    105 111  144 qoc
  VSHIFT100  144 500 0V
  R155 499 105 10K
  DP105 105 3 DP
  DP106 4 105 DP
***============= Hysterisis section
GH100 0 151 197 98 1E-6
RH101 3 151 1E9
RH102 4 151 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V
***=================
IHYST 155 0 -4E-9
*** GENERATES 4MV OF HYSTERISIS
RREF100 155 0 1E6
*LOGIC OUTPUT, NODE 160 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65
****V104,V105 SET ISC
R116 141 135 107
R117 142 135 245
E111 3 133 3 132 1
VA108 133 134 0V
L100 135 197 10NH
*========================
.ends

* MAX953 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Op Amp + Comparator
* 7uA Typical Supply Current
* Comparator and Op Amp Input Range Includes Ground
* Outputs Swing Rail to Rail
* Internal Comparator Hysteresis
* Op Amp Gain Stability 1V/V
* Available in 8-Pin DIP/SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX953         Ultra-Low-Power Op Amp + Comp
*
*
*   ////////////// MAX953 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX953 DATA SHEET       <====
*
* connections:   AMPIN+(3)
*                |  AMPIN-(2) COMPIN+(5)
*                |  |         |    IN-(6)  +V(8) -V(4)
*                |  |         |    |        |    |
*                |  |         |    |        |    |   AMPOUT(1)
*                |  |         |    |        |    |   |   COMPOUT(7)
.subckt max953_MX   1  2         101  102      300  400 97  197
*
*=======================
***
VSENSEP 300 3 0V
VSENSEN 400 4 0V
FSENSEP 300 0 VSENSEP -1
FSENSEN 400 0 VSENSEN -1
ISUPPLY 300 400 5UA
****************INPUT STAGE**********************
I1 3 41 50U
ISY 3 4 -45U
M1   5  2 41 3 MOSFET
R3   5 4 5.2696K
M2   6  7 41 3 MOSFET
R4   6 4 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB
************************
GSUP 0 106 POLY(1) 3 4 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 1
*G0 98 9 POLY(2) 5 6 106 0 0 0 0 0 1E-6
*GO MULTIPLIES NODE 106, AVOL VS SUPPLY, AND NODES 5,6 FROM INPUT STAGE.
VS 9 10 0V
R0  98  9 1E5
C3 10 98 20UF
D1 9 139 DX
D2 112 9 DX
V11 3 139 .5V
V12 112 4 .5V
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 40
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
*C5 98 15 14.5N
C5 98 15 3N
*
CCOMP 97 100 20000nf
RCOMP 100 9 100000
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 15 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 97 1K
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 15K
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
*** ****************** MAX951/2 VOLTAGE REF.
*
VREF 301 4 1.2V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
***===============================
*
*
.model qin NPN(Is=800.0E-18 Bf=5E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DP D(N=0.001)
*=======================
  dp100    4  3 DX
  rp100    3  4 2.041E3

  f201    3  109 v101 1
  iee200   107  500 dc 100.0E-6
  q201    109  120  107 qin
  q102    108  121  107 qin
  q103    109  108  499 qmo
  q104    108 108  499 qmi
  VMB100 500 0 0V
  VPB100 499 3 0V
***================
RIN101 102 123 20K
RIN102 101 125 20K
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP
***
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V
***=================
  e101   110  4  3  109  1
  v101   110 111 dc 0
  q105    105 111  144 qoc
  VSHIFT100  144 500 0V
  R155 499 105 10K
  DP105 105 3 DP
  DP106 4 105 DP
***============= Hysterisis section
GH100 0 151 197 0 1E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V
***=================
GHYST100 155 0 4 0 1E-6
GREF100 0 155 235 4 1E-6
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65
****V104,V105 SET ISC
R116 141 135 107
R117 142 135 245
E111 3 133 3 132 1
VA108 133 134 0V
L100 135 197 10NH
*========================
.ends

* MAX954 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Op Amp + Comparator
* 7uA Typical Supply Current
* Comparator and Op Amp Input Range Includes Ground
* Outputs Swing Rail to Rail
* Internal Comparator Hysteresis
* Op Amp Gain Stability 10V/V
* Available in 8-Pin DIP/SO/uMAX
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX954         Ultra-Low-Power Op Amp + Comp
*
*
*   ////////////// MAX954 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX954 DATA SHEET       <====
*
* connections:   AMPIN+(3)
*                |  AMPIN-(2) COMPIN+(5)
*                |  |         |   IN-(6) +V(8) -V(4)
*                |  |         |    |     |   REF(6)
*                |  |         |    |     |   |    AMPOUT(1)
*                |  |         |    |     |   |    |   COMPOUT(7)
.subckt max954_MX   1  2         101  102   300 400  97  197
*
**** ******************* MAX954 AMPLIFIER
VSENSEP 300 3 0V
VSENSEN 400 4 0V
FSENSEP 300 0 VSENSEP -1
FSENSEN 400 0 VSENSEN -1
ISUPPLY 300 400 5U
****************INPUT STAGE**********************
I1 3 41 50U

*45u
M1   5  2 41 3 MOSFET
R3   5 4 5.2696K
M2   6  7 41 3 MOSFET
R4   6 4 5.2696K
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB
************************
GSUP 0 106 POLY(1) 3 4 320 -41 1.2
*THIS POLY VCCS MODELS THE OPEN LOOP GAIN AS
*A FUNCTION OF THE POWER SUPPLY, WHICH WILL BE MULT. NODE 5,6 VOLT.
RVSUP 0 106 1E4
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 1
VS 9 10 0V
R0  98  9 1E5
C3 10 98 3.3UF
D1 9 139 DX
D2 112 9 DX
V11 3 139 1V
V12 112 4 .56V
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-7 1E-7
R13 98 16 40
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3
*C5 98 15 3N
C5 98 15 5N
*** SECOND POLE STAGE *******
G4S 98 20 15 98 1E-3
R12S 98 20 1E3
C6S 98 20 3N
*
CCOMP 97 100 20000nf
RCOMP 100 9 100000
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 20 98 1E-6
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 .2V
V4 36 35 -.2V
*V5,V4 SET ISC
R16 34 97 1K
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 15K
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3)
*VTO ESTABLISHES INPUT VOLT. RANGE
*** ****************** MAX951/2 VOLTAGE REF.
*
VREF 301 4 1.2V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
*
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
***===============================
*
*
.model qin NPN(Is=800.0E-18 Bf=5E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
  dp    4  3 DX
  rp    3  4 2.041E3
.MODEL DP D(N=0.001)
*=======================
  dp100    4  3 DX
  rp100    3  4 2.041E3

  f201    3  109 v101 1
  iee200   107  500 dc 100.0E-6
  q201    109  120  107 qin
  q102    108  121  107 qin
  q103    109  108  499 qmo
  q104    108 108  499 qmi
  VMB100 500 0 0V
  VPB100 499 3 0V
***================
RIN101 102 123 20K
RIN102 101 125 20K
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP
***
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V
***=================
  e101   110  4  3  109  1
  v101   110 111 dc 0
  q105    105 111  144 qoc
  VSHIFT100  144 500 0V
  R155 499 105 10K
  DP105 105 3 DP
  DP106 4 105 DP
***============= Hysterisis section
GH100 0 151 197 98 1E-6
RH101 3 151 1E9
RH102 4 151 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V
***=================
IHYST 155 0 -4E-9
*** GENERATES 4MV OF HYSTERISIS
RREF100 155 0 1E6
*LOGIC OUTPUT, NODE 160 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65
****V104,V105 SET ISC
R116 141 135 107
R117 142 135 245
E111 3 133 3 132 1
VA108 133 134 0V
L100 135 197 10NH
*========================
.ends

* MAX961 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* Ultra-Fast, 7nS Propagation Delay (5mV overdrive)
* Rail-to-Rail Input Voltage Range
* Low Power: 8.5mA Per Comparator (+5V)
* Single 3V/5V Supply Operation
* Available in 8-Pin uMAX/SO (Single MAX961)
*              8-Pin uMAX/SO (Dual MAX962)
*
* PART NUMBER    DESCRIPTION
* ___________    ___________________________________
* MAX961         Single, int HYST, 7nS delay, latch
* MAX962         Dual, int HYST, 7nS delay
*
*
*   ////////////// MAX961 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX961 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |
*                | | | | LE
*                | | | | |   GND  QOUT QOUTCOMP
*                | | | | |   |    |    |
.subckt max961_MX   1 2 3 4 352 300  433  483
*
* NOTE1: QOUTCOMP IS ACTUALLY COMPLIMENTED QOUT.
* NOTE2: INCLUDE
*            .OPTION ITL4=50 RELTOL=0.001
*                                        TO ENHANCE CONVERGENCE.
***
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 8.5ma
INSUP 0 4 8.5ma
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=3.33)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=3.3E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 32 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -1E-9
*GENERATES 1MV OF HYST. TO MIMIC SMOOTH TRANSITION.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
G12 98 32 5 0 7.04E-3
R15 98 32 140
*========================
.model qoc NPN(Is=800.0E-18 Bf=181 Cjc=1E-15 Tf=42e-12 Tr=2E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*** **********************************
*** **********************************
VCONNECT 302 32 0V
* AND1
* 302, 312 is the input, output is 333.
RN1 302 303 1MEG
DA1 305 330 DP
DA2 300 305 DP
RA2 304 305 1MEG
EA1 304 300 POLY(1) 302 303 0 10
***
RN10 312 303 1MEG ;node 303 is 1.4volts.
DA10 315 330 DP
DA12A 300 315 DP
RA12 314 315 1MEG
EA11 314 300 POLY(1) 312 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
GAMULT 300 331 POLY(2) 305 300 315 300  0 0 0 0 1E-6
RAMULT 331 300 1G
DA5 331 330 DP
DA6 300 331 DP
EOA 332 300 331 300 1
ROA 332 333 100
***
* AND2
* 352, 362 is the input, output is 383.
RN12 352 303 1MEG
ILE 352 300 -20UA
DA12 355 380 DP
DA22 300 355 DP
RA22 354 355 1MEG
EA12 354 300 POLY(1) 352 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
RN102 362 303 1MEG ;node 303 is 1.4volts.
DA102 365 380 DP
DA122 300 365 DP
RA122 364 365 1MEG
EA112 364 300 POLY(1) 362 303 0 10
***
GAMULT2 300 381 POLY(2) 355 300 365 300  0 0 0 0 1E-6
RAMULT2 381 300 1G
DA52 381 330 DP
DA62 300 381 DP
EOA2 382 300 381 300 1
ROA2 382 383 100
***
* OR1
* 402,412 are the inputs, output is 433
RO1 402 403 1MEG
VO14 403 300 1.4V
VO1 430 300 5V
DO1 405 430 DP
DO2 300 405 DP
RO2 404 405 1MEG ; WAS 1MEG
EO1 404 300 POLY(1) 402 403 0 10
***
RO10 412 403 1MEG ;node 403 is 1.4volts.
DO10 415 430 DP
DO12 300 415 DP
RO12O 414 415 300 ; WAS 1MEG
EO11 414 300 POLY(1) 412 403 0 10
***
GOADD1 300 431 POLY(2) 405 300 415 300 0 1E-6 1E-6
ROADD 431 300 1G
DO5 431 3 DP
DO6 300 431 DP
EOO 432 300 431 300 1
ROO 432 433 125 ; OUTPUT IS 433
* OR2
* 452,462 are the inputs, output is 488
RO12 452 403 1MEG
VO12 480 300 5V
DO12O 455 480 DP
DO22 300 455 DP
RO22 454 455 1MEG ; WAS 1MEG
EO12 454 300 POLY(1) 452 403 0 10
***
RO102 462 403 1MEG ;node 403 is 1.4volts.
DO102 465 480 DP
DO122 300 465 DP
RO122 464 465 300 ; WAS 1MEG
EO112 464 300 POLY(1) 462 403 0 10
***
GOADD12 300 481 POLY(2) 455 300 465 300 0 1E-6 1E-6
ROADD2 481 300 1G
DO52 481 3 DP
*** was 3 was 480
DO62 300 481 DP
EOO2 482 300 481 300 1
ROO2 482 483 125 ; OUTPUT IS 483
* INVERTER1
*INPUT 602, OUTPUT  605
RIN1 602 303 1MEG
DIA1 605 630 DP
DIA2 300 605 DP
vi1 630 300 5v
RIA2 604 605 10k
EIA1 604 300 POLY(1) 602 303 0 -10
* INVERTER2
*INPUT 612, OUTPUT 615
RIN12 612 303 1MEG
DIA12 615 640 DP
DIA22 300 615 DP
vi12 640 300 5v
RIA22 614 615 10k
EIA12 614 300 POLY(1) 612 303 0 -10
* INVERTER3
*INPUT 622, OUTPUT 625
RIN13 622 303 1MEG
DIA13 625 650 DP
DIA23 300 625 DP
vi13 650 300 5v
RIA23 624 625 10k
EIA13 624 300 POLY(1) 622 303 0 -10
*** ********BIASING****************
*** *******************************
VA14 303 300 1.4V
VA1 330 300 5V
*VDGND 300 0 0V ;           **** Will be brought out in subckt.
***
* CONNECTIONS *********************
VSH1 605 362 0V
VSH2 312 352 0V
VSH3 333 402 0V
VSH4 383 462 0V
VSH5 433 622 0V
VSH6 625 452 0V
VSH7 483 612 0V
VSH8 615 412 0V
VSH9 302 602 0V
.ENDS
*   ////////////// MAX962 MACROMODEL //////////////////
*
*   ====>      REFER TO MAX962 DATA SHEET       <====
*
* connections:   +IN
*                | -IN
*                | | V+
*                | | | V-
*                | | | |
*                | | | |
*                | | | |    GND  QOUT QOUTCOMP
*                | | | |    |    |    |
.subckt max962_MX   1 2 3 4    300  433  483
*
* NOTE1: QOUTCOMP IS ACTUALLY COMPLIMENTED QOUT.
* NOTE2: INCLUDE
*            .OPTION ITL4=50 RELTOL=0.001
*                                        TO ENHANCE CONVERGENCE.
***
vshortle 352 300 0v
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 11ma
INSUP 0 4 11ma
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=3.33)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=3.3E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 32 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -1E-9
*GENERATES 1MV OF HYST. TO MIMIC SMOOTH TRANSITION.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
G12 98 32 5 0 7.04E-3
R15 98 32 140
*========================
.model qoc NPN(Is=800.0E-18 Bf=181 Cjc=1E-15 Tf=42e-12 Tr=2E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*** **********************************
*** **********************************
VCONNECT 302 32 0V
* AND1
* 302, 312 is the input, output is 333.
RN1 302 303 1MEG
DA1 305 330 DP
DA2 300 305 DP
RA2 304 305 1MEG
EA1 304 300 POLY(1) 302 303 0 10
***
RN10 312 303 1MEG ;node 303 is 1.4volts.
DA10 315 330 DP
DA12A 300 315 DP
RA12 314 315 1MEG
EA11 314 300 POLY(1) 312 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
GAMULT 300 331 POLY(2) 305 300 315 300  0 0 0 0 1E-6
RAMULT 331 300 1G
DA5 331 330 DP
DA6 300 331 DP
EOA 332 300 331 300 1
ROA 332 333 100
***
* AND2
* 352, 362 is the input, output is 383.
RN12 352 303 1MEG
ILE 352 300 -20UA
DA12 355 380 DP
DA22 300 355 DP
RA22 354 355 1MEG
EA12 354 300 POLY(1) 352 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
RN102 362 303 1MEG ;node 303 is 1.4volts.
DA102 365 380 DP
DA122 300 365 DP
RA122 364 365 1MEG
EA112 364 300 POLY(1) 362 303 0 10
***
GAMULT2 300 381 POLY(2) 355 300 365 300  0 0 0 0 1E-6
RAMULT2 381 300 1G
DA52 381 330 DP
DA62 300 381 DP
EOA2 382 300 381 300 1
ROA2 382 383 100
***
* OR1
* 402,412 are the inputs, output is 433
RO1 402 403 1MEG
VO14 403 300 1.4V
VO1 430 300 5V
DO1 405 430 DP
DO2 300 405 DP
RO2 404 405 1MEG ; WAS 1MEG
EO1 404 300 POLY(1) 402 403 0 10
***
RO10 412 403 1MEG ;node 403 is 1.4volts.
DO10 415 430 DP
DO12 300 415 DP
RO12O 414 415 300 ; WAS 1MEG
EO11 414 300 POLY(1) 412 403 0 10
***
GOADD1 300 431 POLY(2) 405 300 415 300 0 1E-6 1E-6
ROADD 431 300 1G
DO5 431 3 DP
DO6 300 431 DP
EOO 432 300 431 300 1
ROO 432 433 125 ; OUTPUT IS 433
* OR2
* 452,462 are the inputs, output is 488
RO12 452 403 1MEG
VO12 480 300 5V
DO12O 455 480 DP
DO22 300 455 DP
RO22 454 455 1MEG ; WAS 1MEG
EO12 454 300 POLY(1) 452 403 0 10
***
RO102 462 403 1MEG ;node 403 is 1.4volts.
DO102 465 480 DP
DO122 300 465 DP
RO122 464 465 300 ; WAS 1MEG
EO112 464 300 POLY(1) 462 403 0 10
***
GOADD12 300 481 POLY(2) 455 300 465 300 0 1E-6 1E-6
ROADD2 481 300 1G
DO52 481 3 DP
DO62 300 481 DP
EOO2 482 300 481 300 1
ROO2 482 483 125 ; OUTPUT IS 483
* INVERTER1
*INPUT 602, OUTPUT  605
RIN1 602 303 1MEG
DIA1 605 630 DP
DIA2 300 605 DP
vi1 630 300 5v
RIA2 604 605 10k
EIA1 604 300 POLY(1) 602 303 0 -10
* INVERTER2
*INPUT 612, OUTPUT 615
RIN12 612 303 1MEG
DIA12 615 640 DP
DIA22 300 615 DP
vi12 640 300 5v
RIA22 614 615 10k
EIA12 614 300 POLY(1) 612 303 0 -10
* INVERTER3
*INPUT 622, OUTPUT 625
RIN13 622 303 1MEG
DIA13 625 650 DP
DIA23 300 625 DP
vi13 650 300 5v
RIA23 624 625 10k
EIA13 624 300 POLY(1) 622 303 0 -10
*** ********BIASING****************
*** *******************************
VA14 303 300 1.4V
VA1 330 300 5V
*VDGND 300 0 0V ;           **** Will be brought out in subckt.
***
* CONNECTIONS *********************
VSH1 605 362 0V
VSH2 312 352 0V
VSH3 333 402 0V
VSH4 383 462 0V
VSH5 433 622 0V
VSH6 625 452 0V
VSH7 483 612 0V
VSH8 615 412 0V
VSH9 302 602 0V
.ENDS
* MAX975 FAMILY MACROMODELS
* -------------------------
* FEATURES:
* High Speed Mode, 28nS Propagation Delay (5mV overdrive)
* Low Power Mode, 5uA Supply Current
* Rail-to-Rail Outputs
* Single +3/+5V Supply Operation
* Available in 8-Pin SO/uMAX (Single MAX975)
*             16-Pin QSOP (Dual MAX977)
*             14-Pin SO (Dual MAX977)
*
* Note:
* There are two different SPICE models for the MAX975. Low-Power
* model MAX975LP and High-Speed model MAX975HS.
*
*
* PART NUMBER    DESCRIPTION
* ___________    _____________________________________
* MAX975LP       Single, Low-Power, 5uA Supply Current
* MAX975HS       Single, High Speed, 28nS delay
* MAX977LP       Dual, Low-Power, 5uA Supply Current
* MAX977HS       Dual, High Speed, 28nS delay
*
*   ////////////// MAX975 LOW-POWER MACROMODEL //////////////////
*
*   ====>      REFER TO MAX975 DATA SHEET       <====
*
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   ground
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max975lp_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 -100ua
INSUP 0 4 -100ua
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=10000)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=298.1E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -2E-9
*GENERATES 2MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 0
V5 34 36 0
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 25
*was 150
R17 42 35 45
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=48.1e-12 Tr=201.2E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*
*   ////////////// MAX975 HIGH-SPEED MACROMODEL //////////////////
*
*   ====>      REFER TO MAX975 DATA SHEET       <====
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   ground
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max975hs_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 .2ma
INSUP 0 4 .2ma
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=500)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=17.39E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -2E-9
*GENERATES 2MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 0
V5 34 36 0
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 25
*was 150
R17 42 35 45
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=48.1e-12 Tr=10.68E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*   ////////////// MAX977 LOW-POWER MACROMODEL //////////////////
*
*   ====>      REFER TO MAX977 DATA SHEET       <====
*
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   ground
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max977lp_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 -100ua
INSUP 0 4 -100ua
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=10000)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=298.1E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -2E-9
*GENERATES 2MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 0
V5 34 36 0
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 25
*was 150
R17 42 35 45
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=48.1e-12 Tr=201.2E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends
*
*   ////////////// MAX977 HIGH-SPEED MACROMODEL //////////////////
*
*   ====>      REFER TO MAX975 DATA SHEET       <====
*
* connections:        non-inverting input, +IN
*                     |   inverting input, -IN
*                     |   |   positive power-supply, V+
*                     |   |   |   ground
*                     |   |   |   |   output, OUT
*                     |   |   |   |   |
* NODE CONNECTIONS:   1   2   3   4   97
*
.subckt max977hs_MX   1 2 3 4 97
*
  f101    3  9 v1 1
  Iee100   7  400 dc 100.0E-6
  q101    9  20  7 qin
  Q2    8  21  7 qin
  Q3    9  8  399 qmo
  Q4    8  8  399 qmi
  VMB 400 4 0V
  VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 .2ma
INSUP 0 4 .2ma
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=500)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=17.39E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
  e1   10  4  3  9  2
  v1   10 11 dc 0
  q5    5 11  44 qoc
  vshift 44 4 0v
  *clamps output, Q5 collector load.
  R55 3 5 1meg
  DP5 5 3 DP
  DP6 4 5 DP
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -2E-9
*GENERATES 2MV OF HYST.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 0
V5 34 36 0
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 25
*was 150
R17 42 35 45
E11 3 33 3 32 1
VA8 33 34 0V
L 35 97 10NH
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=48.1e-12 Tr=10.68E-9)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)
*.MODEL DX D(IS=1E-15)
.ends


* MAX4104 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* 625MHz Bandwidth (MAX4104) 
* 730MHz Bandwidth (MAX4304) 
* 410MHz Bandwidth (MAX4105) 
* 340MHz Bandwidth (MAX4305) 
* 
* Low-Noise and Low-Distortion 
* 100MHz 0.1dB Gain Flatness 
* 
* Available in  5-Pin SOT23 
*               8-Pin SO 
* 
* PART NUMBER    DESCRIPTION 
* ___________    ________________________________ 
* MAX4104        Single Op Amp (Minimum Stable Gain  of 1) 
* MAX4304        Single Op Amp (Minimum Stable Gain  of 2) 
* MAX4105        Single Op Amp (Minimum Stable Gain  of 5) 
* MAX4305        Single Op Amp (Minimum Stable Gain  of 10) 
* 
* 
* 
* 
*   ////////////// MAX4104 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4104 DATA SHEET       <==== 
* 
* connections:          non-inverting input 
*                       |       inverting input 
*                       |       |       positive power-supply 
*                       |       |       |       negative power-supply 
*                       |       |       |       |       output 
*                       |       |       |       |       | 
* OUTPUT CONNECTS:      1       2       99      50      97 
*
.SUBCKT MAX4104_MX 1 2 99 50 97 
****************INPUT STAGE**********************
Isy 99 50 -19MA 
*fixes supply current
IOS 2 1 .5ua
IB1 0 2 30ua
IB2 0 1 30ua
I1 4 50 1MA
GIN 2 1 2 1 50E-9 
*CIN 1 2 .5PF
R1 5 99 52 
*3.7
R2 6  99 52
VOS 1 9 0V 
*EOS 1 9 POLY(1) 98 30 0 1 
*               ^       OFFSET VOLTAGE
Q1 5 2 400 QX
Q2 6 9 401 QX
RD1 400 4 52
RD2 401 4 52
Dsub 50 99 DX 
****OUTPUT VOLTAGE LIMITING****
V2 99 11 2.03
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93 
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5 
****GAIN, 1ST POLE**** 
*G3 98 12 5 6 0.0352
G3 98 12 5 6 0.0102
R4 12 98 174K 
*40K
C3 98 12 .125E-11 
*   5PF 
**************FREQUENCY SHAPING STAGES******** 
* 
****POLE STAGE****
G5 98 15 12 98 1E-3  
*D13 50 15 DX
R5 98 15 1E3 
*                  ^ POLE AT 130MEGHZ 
*c5 98 15 .15E-13 
*c5 98 15 .15E-12 
* 
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0 
****************
G12 98 32 15 98 1E-3 
*************  ******************************
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0v
V4 36 35 0V
R16 34 35 8
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P 
* 
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=15e3)
.ends 
* 
* 
* 
* 
*   ////////////// MAX4304 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4104 DATA SHEET       <==== 
* 
* connections:          non-inverting input 
*                       |       inverting input 
*                       |       |       positive power-supply 
*                       |       |       |       negative power-supply 
*                       |       |       |       |       output 
*                       |       |       |       |       | 
* OUTPUT CONNECTS:      1       2       99      50      97 
*
.SUBCKT MAX4304_MX 1 2 99 50 97 
****************INPUT STAGE**********************
Isy 99 50 -19MA 
*fixes supply current
IOS 2 1 .5ua
IB1 0 2 30ua
IB2 0 1 30ua
I1 4 50 1MA
GIN 2 1 2 1 50E-9 
*CIN 1 2 .5PF
R1 5 99 52 
*3.7
R2 6  99 52
VOS 1 9 0V 
*EOS 1 9 POLY(1) 98 30 0 1 
*               ^       OFFSET VOLTAGE
Q1 5 2 400 QX
Q2 6 9 401 QX 
*Csecondp 5 6 20p 
*** ************
RD1 400 4 52
RD2 401 4 52
Dsub 50 99 DX 
****OUTPUT VOLTAGE LIMITING****
V2 99 11 2.03
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93 
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5 
****GAIN, 1ST POLE**** 
*G3 98 12 5 6 0.0352
G3 98 12 5 6 0.0102
R4 12 98 174K 
*40K
C3 98 12 .052E-11 
*    
**************FREQUENCY SHAPING STAGES******** 
* 
****POLE STAGE****
G5 98 15 12 98 1E-3  
*D13 50 15 DX
R5 98 15 1E3 
*c5 98 15 .05E-12 
* 
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0 
****************
G12 98 32 15 98 1E-3 
*************  ******************************
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0v
V4 36 35 0V
R16 34 35 8
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P 
* 
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=15e3)
.ends 
* 
* 
* 
* 
*   ////////////// MAX4105 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4104 DATA SHEET       <==== 
* 
* connections:          non-inverting input 
*                       |       inverting input 
*                       |       |       positive power-supply 
*                       |       |       |       negative power-supply 
*                       |       |       |       |       output 
*                       |       |       |       |       | 
* OUTPUT CONNECTS:      1       2       99      50      97 
*
.SUBCKT MAX4105_MX 1 2 99 50 97 
****************INPUT STAGE**********************
Isy 99 50 -19MA 
*fixes supply current
IOS 2 1 .5ua
IB1 0 2 30ua
IB2 0 1 30ua
I1 4 50 1MA
GIN 2 1 2 1 50E-9 
*CIN 1 2 .5PF
R1 5 99 52 
*3.7
R2 6  99 52
VOS 1 9 0V 
*EOS 1 9 POLY(1) 98 30 0 1 
*               ^       OFFSET VOLTAGE
Q1 5 2 400 QX
Q2 6 9 401 QX 
*Csecondp 5 6 20p 
*** ************
RD1 400 4 52
RD2 401 4 52
Dsub 50 99 DX 
****OUTPUT VOLTAGE LIMITING****
V2 99 11 2.03
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93 
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5 
****GAIN, 1ST POLE**** 
*G3 98 12 5 6 0.0352
G3 98 12 5 6 0.0102
R4 12 98 174K 
*40K
C3 98 12 .036E-11 
*    
**************FREQUENCY SHAPING STAGES******** 
* 
****POLE STAGE****
G5 98 15 12 98 1E-3  
*D13 50 15 DX
R5 98 15 1E3 
*c5 98 15 .05E-12 
* 
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0 
****************
G12 98 32 15 98 1E-3 
*************  ******************************
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0v
V4 36 35 0V
R16 34 35 8
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P 
* 
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=15e3)
.ends 
* 
* 
* 
* 
*   ////////////// MAX4305 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4104 DATA SHEET       <==== 
* 
* connections:          non-inverting input 
*                       |       inverting input 
*                       |       |       positive power-supply 
*                       |       |       |       negative power-supply 
*                       |       |       |       |       output 
*                       |       |       |       |       | 
* OUTPUT CONNECTS:      1       2       99      50      97 
*
.SUBCKT MAX4305_MX 1 2 99 50 97 
****************INPUT STAGE**********************
Isy 99 50 -19MA 
*fixes supply current
IOS 2 1 .5ua
IB1 0 2 30ua
IB2 0 1 30ua
I1 4 50 1MA
GIN 2 1 2 1 50E-9 
*CIN 1 2 .5PF
R1 5 99 52 
*3.7
R2 6  99 52
VOS 1 9 0V 
*EOS 1 9 POLY(1) 98 30 0 1 
*               ^       OFFSET VOLTAGE
Q1 5 2 400 QX
Q2 6 9 401 QX 
*Csecondp 5 6 20p 
*** ************
RD1 400 4 52
RD2 401 4 52
Dsub 50 99 DX 
****OUTPUT VOLTAGE LIMITING****
V2 99 11 2.03
D1 12 11 DX
D2 10 12 DX
V3 10 50 1.93 
****LEVEL TRANSLATION ****
EH 99 98 99 50 0.5 
****GAIN, 1ST POLE**** 
*G3 98 12 5 6 0.0352
G3 98 12 5 6 0.0102
R4 12 98 174K 
*40K
C3 198 98 .024E-11 
*** slew limit stage 
*** **************
VB 12 198 0V  
*D107 198 99 DR  
*D103 198 100 DR 
*D104 100 99 DR 
*F100 100 99 POLY(1) VB -363E-6  1 
*F2 50 101 POLY(1) VB 363E-6 -1 
**** 
*D108 50 198 DR 
*D105 101 198 DR 
*D106 50 101 DR 
**************FREQUENCY SHAPING STAGES******** 
* 
****POLE STAGE****
G5 98 15 12 98 1E-3  
*D13 50 15 DX
R5 98 15 1E3 
*c5 98 15 .05E-12 
* 
*******************OUTPUT STAGE****************
F6 99 50 VA7 1
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0 
****************
G12 98 32 15 98 1E-3 
*************  ******************************
R15 98 32 1E3
D3 32 36 DX
D4 37 32 DX
V5 35 37 0v
V4 36 35 0V
R16 34 35 8
E1 99 33 99 32 1
VA8 33 34 0V
L 35 97 200P 
* 
***** MODELS USED ******
.MODEL DX D(IS=1E-15)
.MODEL DR D(IS=1E-15 RS=1K)
.MODEL QX NPN(BF=15e3)
.ends 
 
* MAX4200 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* Ultra-High-Speed 
* Low-Noise 
* low-Power 
* Available in 5-Pin SOT23-5/8-Pin SO  (MAX4200/MAX4201/MAX4202) 
*              8-Pin uMAX/SO           (MAX4203/MAX4204/MAX4205) 
* 
* PART NUMBER    DESCRIPTION 
* ___________    _____________________________________ 
* MAX4200        Single Buffer, w/o internal termination resistor, BW=660MHz 
* MAX4201        Single Buffer, with 50 ohm termination resistor, BW=780MHz 
* MAX4202        Single Buffer, w/o 75 ohm termination resistor, BW=780MHz 
* MAX4203        Dual Buffer, w/o internal termination resistor, BW=530MHz 
* MAX4204        Dual Buffer, with 50 ohm termination resistor, BW=720MHz 
* MAX4205        Dual Buffer, with 75 ohm termination resistor, BW=720MHz 
* 
* 
* 
*   ////////////// MAX4200 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4200 DATA SHEET       <==== 
* 
* connections:      input 
*                   |    
*                   |    positive power supply 
*                   |    |   negative power supply 
*                   |    |   |   output 
*                   |    |   |   | 
*                   |    |   |   |
.SUBCKT  MAX4200_MX    201  99  50 40
vground 1000 0 0v
ISUPP 99 0 -2.45ma
ISUPN 50 0 2.45ma
rfeedback 40 1 500
rground 1000 0 .00001 
*** INPUT STAGE
I101 99  205 1190U
I202  204 50 1190U 
*** was 430ua
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .316p 
*was .3
R202  204  207 633
C202   207 50 .284P 
*was .3
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V 
*CIN201 201  0 1.5P 
*CIN202 202  0 1.5P 
*
RGM 2 220 380
VGM 202 220 0V 
*** VGM SENSES THE CURRENT THROUGH VGM 
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .316P 
*was .63
R2  4  7 633
C2   7 50 .3P 
*was .63
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 .8UA
IB2 99  2 .8UA
VOS 3 1 0V 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.63 
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.63 
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3
C3 98 15 .249P 
***was .22 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 .5P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10 
*r35 was 12
V5  33 40 .9V
D5  23 33 DX
V6  40 34 .9V
D6  34 23 DX 
*CF1 40  2 5P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3) 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX4201 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4200 DATA SHEET       <==== 
* 
* connections:      input 
*                   |    
*                   |    positive power supply 
*                   |    |   negative power supply 
*                   |    |   |   output 
*                   |    |   |   | 
*                   |    |   |   |
.SUBCKT  MAX4201_MX    201  99  50 40
vground 1000 0 0v
ISUPP 99 0 -2.45ma
ISUPN 50 0 2.45ma
rfeedback 40 1 500
rground 1000 0 .00001 
*** INPUT STAGE
I101 99  205 1150U
I202  204 50 1150U 
*** was 430ua
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .316p 
*was .3
R202  204  207 633
C202   207 50 .284P 
*was .3
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V 
*CIN201 201  0 1.5P 
*CIN202 202  0 1.5P 
*
RGM 2 220 380
VGM 202 220 0V 
*** VGM SENSES THE CURRENT THROUGH VGM 
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .216P 
*was .316
R2  4  7 633
C2   7 50 .216P 
*was .3
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 .8UA
IB2 99  2 .8UA
VOS 3 1 0V 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 3.2 
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 3.2 
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3
C3 98 15 .190P 
*** was .22 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 .5P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10 
*r35 was 12
V5  33 40 .38V
D5  23 33 DX
V6  40 34 .38V
D6  34 23 DX 
*CF1 40  2 5P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3) 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX4202 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4200 DATA SHEET       <==== 
* 
* connections:      input 
*                   |    
*                   |    positive power supply 
*                   |    |   negative power supply 
*                   |    |   |   output 
*                   |    |   |   | 
*                   |    |   |   |
.SUBCKT  MAX4202_MX    201  99  50 40
vground 1000 0 0v
ISUPP 99 0 -2.45ma
ISUPN 50 0 2.45ma
rfeedback 40 1 500
rground 1000 0 .00001 
*** INPUT STAGE
I101 99  205 1150U
I202  204 50 1150U 
*** was 430ua
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .316p 
*was .3
R202  204  207 633
C202   207 50 .284P 
*was .3
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V 
*CIN201 201  0 1.5P 
*CIN202 202  0 1.5P 
*
RGM 2 220 380
VGM 202 220 0V 
*** VGM SENSES THE CURRENT THROUGH VGM 
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .216P 
*was .316
R2  4  7 633
C2   7 50 .216P 
*was .3
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 .8UA
IB2 99  2 .8UA
VOS 3 1 0V 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 3 
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 3 
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3
C3 98 15 .190P 
*** was .22 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 .5P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10 
*r35 was 12
V5  33 40 .27V
D5  23 33 DX
V6  40 34 .27V
D6  34 23 DX 
*CF1 40  2 5P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3) 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX4203 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4200 DATA SHEET       <==== 
* 
* connections:      input 
*                   |    
*                   |    positive power supply 
*                   |    |   negative power supply 
*                   |    |   |   output 
*                   |    |   |   | 
*                   |    |   |   |
.SUBCKT  MAX4203_MX    201  99  50 40
vground 1000 0 0v
ISUPP 99 0 -2.45ma
ISUPN 50 0 2.45ma
rfeedback 40 1 500
rground 1000 0 .00001 
*** INPUT STAGE
I101 99  205 1990U
I202  204 50 1990U 
*** was 430ua
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .404p 
*was .3
R202  204  207 633
C202   207 50 .363P 
*was .3
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V 
*CIN201 201  0 1.5P 
*CIN202 202  0 1.5P 
*
RGM 2 220 380
VGM 202 220 0V 
*** VGM SENSES THE CURRENT THROUGH VGM 
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .346P 
*was .316
R2  4  7 633
C2   7 50 .33P 
*was .31
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 .8UA
IB2 99  2 .8UA
VOS 3 1 0V 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 1.63 
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 1.63 
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3
C3 98 15 .318P 
***was .22 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 .5P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 10 
*r35 was 12
V5  33 40 .9V
D5  23 33 DX
V6  40 34 .9V
D6  34 23 DX 
*CF1 40  2 5P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3) 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX4204 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4200 DATA SHEET       <==== 
* 
* connections:      input 
*                   |    
*                   |    positive power supply 
*                   |    |   negative power supply 
*                   |    |   |   output 
*                   |    |   |   | 
*                   |    |   |   |
.SUBCKT  MAX4204_MX    201  99  50 40
vground 1000 0 0v
ISUPP 99 0 -2.45ma
ISUPN 50 0 2.45ma
rfeedback 40 1 500
rground 1000 0 .00001 
*** INPUT STAGE
I101 99  205 1150U
I202  204 50 1150U 
*** was 430ua
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .316p 
*was .3
R202  204  207 633
C202   207 50 .284P 
*was .3
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V 
*CIN201 201  0 1.5P 
*CIN202 202  0 1.5P 
*
RGM 2 220 380
VGM 202 220 0V 
*** VGM SENSES THE CURRENT THROUGH VGM 
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .216P 
*was .316
R2  4  7 633
C2   7 50 .216P 
*was .3
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 .8UA
IB2 99  2 .8UA
VOS 3 1 0V 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.8 
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.8 
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3
C3 98 15 .190P 
*** was .22 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 .5P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 18 
*r35 was 12
V5  33 40 .98V
D5  23 33 DX
V6  40 34 .98V
D6  34 23 DX 
*CF1 40  2 5P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3) 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX4205 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4200 DATA SHEET       <==== 
* 
* connections:      input 
*                   |    
*                   |    positive power supply 
*                   |    |   negative power supply 
*                   |    |   |   output 
*                   |    |   |   | 
*                   |    |   |   |
.SUBCKT  MAX4205_MX   201  99  50 40
vground 1000 0 0v
ISUPP 99 0 -2.45ma
ISUPN 50 0 2.45ma
rfeedback 40 1 500
rground 1000 0 .00001 
*** INPUT STAGE
I101 99  205 1150U
I202  204 50 1150U 
*** was 430ua
Q201  50  203 205 QPN
Q202  99  203 204 QNN
R201   205 206 633
C201   206 99 .316p 
*was .3
R202  204  207 633
C202   207 50 .284P 
*was .3
R203 99  208 633
V201  99 210 .3
RE201 210 230 130
D201  230  208 DX
R204 50  209 633
V202  211 50 .3
RE202 211 231 150
D202  209 231 DX
Q203   208  206 202 QNI
Q204   209  207 202 QPI
R206  201 99 20meg
R207  201 50 20meg
IB201 201 99 1UA
IB202 99  202 1UA
VOS200 203 201 0V 
*CIN201 201  0 1.5P 
*CIN202 202  0 1.5P 
*
RGM 2 220 380
VGM 202 220 0V 
*** VGM SENSES THE CURRENT THROUGH VGM 
*** INPUT STAGE
I1 99  5 430U
I2  4 50 430U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .216P 
*was .316
R2  4  7 633
C2   7 50 .216P 
*was .3
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 DX
R4 50  9 633
V2  11 50 .3
RE2 11 31 150
D2   9 31 DX
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 .8UA
IB2 99  2 .8UA
VOS 3 1 0V 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 2.8 
*pos swig
D3  15 16 DX
D4  17 15 DX
V4  17 50 2.8 
*neg swing
EH  99 98 99 49 1
F1 98 15 VGM .35
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3
C3 98 15 .190P 
*** was .22 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 .5P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-5
R17 98 23 100K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0
R35 38 40 18 
*r35 was 12
V5  33 40 .78V
D5  23 33 DX
V6  40 34 .78V
D6  34 23 DX 
*CF1 40  2 5P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3) 
*
.ENDS 
 
* MAX4214 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* 230MHz Gain Bandwidth Product 
* 5.5mA Typical Supply Current 
* Rail-to-Rail I/O 
 
* Available in  5-Pin SOT23          (MAX4214) 
*               8-Pin uMAX/SO        (MAX4217) 
*              14-Pin SO/16-Pin QSOP (MAX4222) 
* 
* PART NUMBER    DESCRIPTION 
* ___________    ________________________________ 
* MAX4214        Single Amp, Without Enable 
* MAX4217        Dual Amp, Without Enable 
* MAX4222        Quad Amp, Without Enable 
* 
*       The ENABLE function is not modeled (MAX4215 and MAX4219) 
* 
*   ////////////// MAX4214 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4214 DATA SHEET       <==== 
* 
* connections:      non-inverting input(IN+) 
*                   |   minus input(IN-) 
*                   |   |   positive power supply 
*                   |   |   |   negative power supply 
*                   |   |   |   |   output 
*                   |   |   |   |   | 
*                   |   |   |   |   |
.SUBCKT  MAX4214_MX    1   201 198  51 40
rf 40 2 200
rf2 2 201 200
ISUPP 99 0 5MA
ISUPPN 50 0 -5MA
VNEGREF 51 50 100MV
VPOSREF 198 99 0 
*** INPUT STAGE
I1 99  5 287U
I2  4 50 287U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .85P 
***.95
R2  4  7 633
C2   7 50 .85P 
*** .95
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 Dp
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 Dp
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 5.4UA
IB2 99  2 5.4UA
VOS 3 1 0V
CIN1 1  0 1P
CIN2 2  0 1P 
* 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 0 
*pos swig
D3  15 16 DP
D4  17 15 DP
V4  17 50 0 
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3 
*C3 98 15 .25
C3 98 15 .153P 
*** was .153 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 1P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0 
* NEG ISC
R35 38 405 20
R36 38 406 20
D35 405 40 DP
D36 40 407 DP
VNEGOFFSET 406 407 0MV 
*** was 12ohms
V5  33 40 3
D5  23 33 DP
V6  40 34 3V
D6  34 23 DP
CF1 40  2 1.8P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
.MODEL DP D(N=0.001) 
*** FOR CONVERGENCE PROBLEMS CHANGE N, IN DP TO N=0.1 
*** MAKING N=0.001 A PERFECT DIODE, CONVERGENCE MAY BE PROBLEM OVER TEMP. 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX4217 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4214 DATA SHEET       <==== 
* 
* connections:      non-inverting input(IN+) 
*                   |   minus input(IN-) 
*                   |   |   positive power supply 
*                   |   |   |   negative power supply 
*                   |   |   |   |   output 
*                   |   |   |   |   | 
*                   |   |   |   |   |
.SUBCKT  MAX4217_MX    1   201 198  51 40
rf 40 2 200
rf2 2 201 200
ISUPP 99 0 5MA
ISUPPN 50 0 -5MA
VNEGREF 51 50 100MV
VPOSREF 198 99 0 
*** INPUT STAGE
I1 99  5 287U
I2  4 50 287U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .85P 
***.95
R2  4  7 633
C2   7 50 .85P 
*** .95
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 Dp
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 Dp
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 5.4UA
IB2 99  2 5.4UA
VOS 3 1 0V
CIN1 1  0 1P
CIN2 2  0 1P 
* 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 0 
*pos swig
D3  15 16 DP
D4  17 15 DP
V4  17 50 0 
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3 
*C3 98 15 .25
C3 98 15 .153P 
*** was .153 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 1P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0 
* NEG ISC
R35 38 405 20
R36 38 406 20
D35 405 40 DP
D36 40 407 DP
VNEGOFFSET 406 407 0MV 
*** was 12ohms
V5  33 40 3
D5  23 33 DP
V6  40 34 3V
D6  34 23 DP
CF1 40  2 1.8P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
.MODEL DP D(N=0.001) 
*** FOR CONVERGENCE PROBLEMS CHANGE N, IN DP TO N=0.1 
*** MAKING N=0.001 A PERFECT DIODE, CONVERGENCE MAY BE PROBLEM OVER TEMP. 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX4222 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4214 DATA SHEET       <==== 
* 
* connections:      non-inverting input(IN+) 
*                   |   minus input(IN-) 
*                   |   |   positive power supply 
*                   |   |   |   negative power supply 
*                   |   |   |   |   output 
*                   |   |   |   |   | 
*                   |   |   |   |   |
.SUBCKT  MAX4222_MX    1   201 198  51 40
rf 40 2 200
rf2 2 201 200
ISUPP 99 0 5MA
ISUPPN 50 0 -5MA
VNEGREF 51 50 100MV
VPOSREF 198 99 0 
*** INPUT STAGE
I1 99  5 287U
I2  4 50 287U
Q1  50  3 5 QPN
Q2  99  3 4 QNN
R1   5 6 633
C1   6 99 .85P 
***.95
R2  4  7 633
C2   7 50 .85P 
*** .95
R3 99  8 633
V1  99 10 .3
RE1 10 30 130
D1  30  8 Dp
R4 50  9 633
V2  11 50 .3
RE2 11 31 130
D2   9 31 Dp
Q3   8  6 2 QNI
Q4   9  7 2 QPI
R6  1 99 20meg
R7  1 50 20meg
IB1 1 99 5.4UA
IB2 99  2 5.4UA
VOS 3 1 0V
CIN1 1  0 1P
CIN2 2  0 1P 
* 
**************SECOND STAGE************** 
* 
********************Isup  99 50 4.47M
R8  99 49 1meg
R9  49 50 1meg
V3  99 16 0 
*pos swig
D3  15 16 DP
D4  17 15 DP
V4  17 50 0 
*neg swing
EH  99 98 99 49 1
G1  98 15 POLY(2) 99 8 50 9 0 1.58E-3 1.58E-3
R5  98 15 2.372MEG 
*** ***********************  1st pole here with r5, and c3 
*C3 98 15 .25
C3 98 15 .153P 
*** was .153 
***************POLE STAGE***************  
* 
*Fp=250MHz
G2  98 20 15 49 1E-3
R14 98 20 1K 
*C4  98 20 .692P 
*C4 98 20 1P 
* 
***************POLE STAGE***************  
* 
*Fp=500 MHz
G3  98 21 20 49 1E-3
R15 98 21 1K 
*C5  98 21 .03P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G4  98 22 21 49 1E-3
R16 98 22 1K 
*C6  98 22 .346P 
* 
***************POLE STAGE***************  
* 
*Fp=250 MHz
G5  98 23 22 49 1E-3
R17 98 23 1K 
*C7  98 23 .246P 
* 
**************OUTPUT STAGE************** 
*
F6  99 50 VA7 1
F5  99 35 VA8 1
D7  36 35 DX
VA7 99 36 0
D8  35 99 DX
E1  99 37 99 23 1
VA8 37 38 0 
* NEG ISC
R35 38 405 20
R36 38 406 20
D35 405 40 DP
D36 40 407 DP
VNEGOFFSET 406 407 0MV 
*** was 12ohms
V5  33 40 3
D5  23 33 DP
V6  40 34 3V
D6  34 23 DP
CF1 40  2 1.8P 
*** was 2.1pf 
* 
***************MODELS USED************** 
*
.MODEL QNI NPN(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QPI PNP(IS=1E-14 BF=10E4 VAF=15 KF=6.7E-14)
.MODEL QNN NPN(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL QPN PNP(IS=1E-14 BF=10E4 VAF=15 KF=4.13E-13)
.MODEL DX  D(IS=1E-15)
.MODEL DY  D(IS=1E-17)
.MODEL DN  D(KF=1.667E-9 AF=1 XTI=0 EG=.3)
.MODEL DP D(N=0.001) 
*** FOR CONVERGENCE PROBLEMS CHANGE N, IN DP TO N=0.1 
*** MAKING N=0.001 A PERFECT DIODE, CONVERGENCE MAY BE PROBLEM OVER TEMP. 
*
.ENDS 
* MAX4240 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* Rail-to-Rail Output 
* Ultra-Low-Voltage 
* Available in 5-Pin SOT23-5  (MAX4240) 
*              8-Pin uMAX/SO  (MAX4242) 
*             14-Pin SO       (MAX4244) 
* 
* 
* PART NUMBER    DESCRIPTION 
* ___________    _____________________________________ 
* MAX4240        Single, +1.8V/10uA, SOT23, Op Amp 
* MAX4242        Dual, +1.8V/10uA, Op Amp 
* MAX4244        Quad, +1.8V/10uA, Op Amp 
* 
* Notes:  The shutdown feature is not modeled (MAX4241/MAX4243). 
*         Output swing optimized for 10K load only 
*         slew rate 36v/usec, gbw=87K, Vos=0v, Ib=0 with rload from data sheet 
*         Input common mode range and output swing drops 
*         when operating at 1.8V single supply.    
* 
*   ////////////// MAX4240 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4240 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  250  97 
* 
*
.SUBCKT MAX4240_MX 1 2 99 250 97 
****************INPUT STAGE********************** 
*vnegative 250 50 190mv
vneg 250 50 0v 
*** 190mv
I1 99 4 5e-6
M1   5  2 4 99 MOSFET
R3   5 50 12000
M2   6  7 4 99 MOSFET
R4   6 50 12000
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 0na 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 149E-9
R0  98  9 40.07E9
C3 10 98 .25p
VB 9 10 0v 
*** *********** 
*D107 10 99 Dx  
*D103 10 100 Dx 
*D104 100 99 Dx 
*F100 100 99 POLY(1) VB -1.6E-1 1 
**** 
*D108 50 10 Dx 
*D105 101 10 Dx 
*D106 50 101 Dx 
*F2 50 101 POLY(1) VB -1.6E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .15V
V12 112 50 .15V 
*** was.28v 
************
Isupply 99 50 5ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole
C5 98 15 1.3nf 
*   
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-4 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E4
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.2V
V4 36 97 0V 
*** -.2, 0 
*V5,V4 SET ISC
R16 34 97 130 
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14 RS=0)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.25 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was .25 
*
.Ends 
* 
* 
* 
* 
*   ////////////// MAX4242 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4240 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  250  97 
* 
*
.SUBCKT MAX4242_MX 1 2 99 250 97 
****************INPUT STAGE********************** 
*vnegative 250 50 190mv
vneg 250 50 0v 
*** 190mv
I1 99 4 5e-6
M1   5  2 4 99 MOSFET
R3   5 50 12000
M2   6  7 4 99 MOSFET
R4   6 50 12000
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 0na 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 149E-9
R0  98  9 40.07E9
C3 10 98 .25p
VB 9 10 0v 
*** *********** 
*D107 10 99 Dx  
*D103 10 100 Dx 
*D104 100 99 Dx 
*F100 100 99 POLY(1) VB -1.6E-1 1 
**** 
*D108 50 10 Dx 
*D105 101 10 Dx 
*D106 50 101 Dx 
*F2 50 101 POLY(1) VB -1.6E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .15V
V12 112 50 .15V 
*** was.28v 
************
Isupply 99 50 5ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole
C5 98 15 1.3nf 
*   
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-4 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E4
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.2V
V4 36 97 0V 
*** -.2, 0 
*V5,V4 SET ISC
R16 34 97 130 
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14 RS=0)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.25 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was .25 
*
.Ends 
* 
* 
* 
* 
*   ////////////// MAX4244 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4240 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  250  97 
* 
*
.SUBCKT MAX4244_MX 1 2 99 250 97 
****************INPUT STAGE********************** 
*vnegative 250 50 190mv
vneg 250 50 0v 
*** 190mv
I1 99 4 5e-6
M1   5  2 4 99 MOSFET
R3   5 50 12000
M2   6  7 4 99 MOSFET
R4   6 50 12000
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 0na 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 149E-9
R0  98  9 40.07E9
C3 10 98 .25p
VB 9 10 0v 
*** *********** 
*D107 10 99 Dx  
*D103 10 100 Dx 
*D104 100 99 Dx 
*F100 100 99 POLY(1) VB -1.6E-1 1 
**** 
*D108 50 10 Dx 
*D105 101 10 Dx 
*D106 50 101 Dx 
*F2 50 101 POLY(1) VB -1.6E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .15V
V12 112 50 .15V 
*** was.28v 
************
Isupply 99 50 5ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole
C5 98 15 1.3nf 
*   
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-4 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E4
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 -.2V
V4 36 97 0V 
*** -.2, 0 
*V5,V4 SET ISC
R16 34 97 130 
*LOUT 197 97 .4nh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14 RS=0)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.25 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was .25 
*
.Ends 
 
* MAX4249 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* 22MHz Gain Bandwidth Product (MAX4255, MAX4257) 
* 3MHz Gain Bandwidth Product (MAX4250, MAX4252, MAX4254) 
* 400uA Typical Supply Current 
* Rail-to-Rail I/O 
* Available in  5-Pin SOT23          (MAX4250) 
*               8-Pin uMAX/SO        (MAX4252) 
*              14-Pin SO             (MAX4254) 
*               5-Pin SOT23          (MAX4255) 
*               8-Pin uMAX/SO        (MAX4257) 
* 
* PART NUMBER    DESCRIPTION 
* ___________    ________________________________ 
* MAX4250        Single 3MHz, Minimum Stable Gain = 1 
* MAX4252        Dual 3MHz, Minimum Stable Gain = 1 
* MAX4254        Quad 3MHz, Minimum Stable Gain = 1 
* MAX4255        Single 22MHz, Minimum Stable Gain = 10 
* MAX4257        Dual 22MHz, Minimum Stable Gain = 10 
* 
* The Shutdown feature is not modeled (MAX4249, MAX4251, MAX4253, MAX4256). 
* 
* 
* 
* 
*   ////////////// MAX4250 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4249 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  50  97 
* 
*
.SUBCKT MAX4250_MX 1 2 99 50 97 
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 1.112e-7 
*C3 10 98 1.3E-10 
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -.32E-1 1 
* was -1.6E-1 
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -.32E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .68V
V12 112 50 .58V 
************
I2 99 50 -.5ma
Isupply 99 50 400ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole 
*C5 98 15 8p 
*   
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 1V
V4 36 97 1v 
*V5,V4 SET ISC
R16 34 197 20
LOUT 197 97 8.0uh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7 
*
.Ends 
* 
* 
* 
* 
*   ////////////// MAX4252 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4249 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  50  97 
* 
*
.SUBCKT MAX4252_MX 1 2 99 50 97 
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 1.112e-7 
*C3 10 98 1.3E-10 
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -.32E-1 1 
* was -1.6E-1 
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -.32E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .68V
V12 112 50 .58V 
************
I2 99 50 -.5ma
Isupply 99 50 400ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole 
*C5 98 15 8p 
*   
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 1V
V4 36 97 1v 
*V5,V4 SET ISC
R16 34 197 20
LOUT 197 97 8.0uh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7 
*
.Ends 
* 
* 
* 
* 
*   ////////////// MAX4254 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4249 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  50  97 
* 
*
.SUBCKT MAX4254_MX 1 2 99 50 97 
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 1.112e-7 
*C3 10 98 1.3E-10 
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -.32E-1 1 
* was -1.6E-1 
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -.32E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .68V
V12 112 50 .58V 
************
I2 99 50 -.5ma
Isupply 99 50 400ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole 
*C5 98 15 8p 
*   
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 1V
V4 36 97 1v 
*V5,V4 SET ISC
R16 34 197 20
LOUT 197 97 8.0uh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7 
*
.Ends 
* 
* 
* 
* 
*   ////////////// MAX4255 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4249 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  50  97 
* 
*
.SUBCKT MAX4255_MX 1 2 99 50 97 
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 1.5e-8 
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -.32E-1 1 
* was -1.6E-1 
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -.32E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .68V
V12 112 50 .58V 
************
I2 99 50 -.5ma
Isupply 99 50 400ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole
C5 98 15 35p 
*  was 25u 
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 13V
V4 36 97 13v 
*V5,V4 SET ISC
R16 34 197 150
LOUT 197 97 4uh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7 
*
.Ends 
* 
* 
* 
* 
*   ////////////// MAX4257 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX4249 DATA SHEET       <==== 
* 
* connections:        non-inverting input 
*                     |   inverting input 
*                     |   |   positive power-supply 
*                     |   |   |   negative power-supply 
*                     |   |   |   |   output 
*                     |   |   |   |   | 
* OUTPUT CONNECTS:    1   2   99  50  97 
* 
*
.SUBCKT MAX4257_MX 1 2 99 50 97 
****************INPUT STAGE**********************
I1 99 4 .5e-3
M1   5  2 4 99 MOSFET
R3   5 50 2828
M2   6  7 4 99 MOSFET
R4   6 50 2828
DP1  1 99 DA
DP2 50  1 DA
DP3  2 99 DB
DP4 50  2 DB
Ibiase 7 4 1pa 
************************ 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 99 98 99 50 0.5
G0  98  9 5 6 7.87e-1
VB 9 10 0V
R0  98  9 127E4
C3 10 98 1.5e-8 
*** ***********
D107 10 99 Dx
D103 10 100 Dx
D104 100 99 Dx
F100 100 99 POLY(1) VB -.32E-1 1 
* was -1.6E-1 
****
D108 50 10 Dx
D105 101 10 Dx
D106 50 101 Dx
F2 50 101 POLY(1) VB -.32E-1 -1 
*** **********
D1 9 111 DX
D2 112 9 DX
V11 99 111 .68V
V12 112 50 .58V 
************
I2 99 50 -.5ma
Isupply 99 50 400ua
VOS 7 1 0v 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE******** 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*************************** 
*********** change for second pole
C5 98 15 35p 
*  was 25u 
*************OUTPUT STAGE****************
F5 99 38 VA8 1
D9 40 38 DX
D10 38 99 DX
VA7 99 40 0
G12 98 32 15 98 1E-6 
***                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 Dx
D4 37 32 Dx
V5 97 37 13V
V4 36 97 13v 
*V5,V4 SET ISC
R16 34 197 150
LOUT 197 97 4uh
E1 99 33 99 32 1
VA8 33 34 0V 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL Dp D(N=0.001)
.MODEL MOSFET PMOS(VTO=.250 KP=1.8E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE  , was -1.7 
*
.Ends 
 
* MAX9000 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* Op Amp + Comparator + Reference 
* Single +2.5V to +5.5V Supply Operation 
* Available in 8-Pin SO/uMAX (MAX9000) 
*              8-Pin SO/uMAX (MAX9002) 
*              8-Pin SO/uMAX (MAX9003) 
*              8-Pin SO/uMAX (MAX9005) 
* 
* 
* PART NUMBER    DESCRIPTION 
* ___________    _____________________________________ 
* MAX9000         Op Amp + Comparator + Reference (Op Amp Gain Stability = 1V/V) 
* MAX9002         Op Amp + Comparator (Op Amp Gain Stability = 1V/V) 
* MAX9003         Op Amp + Comparator + Reference (Op Amp Gain Stability = 10V/V) 
* MAX9005         Op Amp + Comparator (Op Amp Gain Stability = 10V/V) 
* 
*       The ShutDown feature is not modeled (MAX9001/MAX9004) 
* 
*   ////////////// MAX9000 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX9000 DATA SHEET       <==== 
* 
* 
* connections:   AMPIN+(3) 
*                |  AMPIN-(2) COMPIN+(5)     
*                |  |         |   +V(8) -V(4)         
*                |  |         |    |    |    REF&COMPIN-(6)   
*                |  |         |    |    |    |    AMPOUT(1) 
*                |  |         |    |    |    |    |   COMPOUT(7)
.subckt max9000_MX  1  2         101  300  400  235  97  197 
* 
*=======================
VREFCOMP 235 102 0V
VSENSEP 300 3 0V
VSENSEN 400 4 0V
FSENSEP 300 0 VSENSEP -1
FSENSEN 400 0 VSENSEN -1
ISUPPLY 300 400 7UA 
*** ********************* MAX951 AMPLIFIER 
****************INPUT STAGE**********************
I1 3 41 50U
M1   5  2 41 3 MOSFET
R3   5 4  2.6k 
***   was 5.269k 
*
M2   6  7 41 3 MOSFET
R4   6 4 2.6k
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 4.566e-6
VS 9 10 0V
R0  98  9 219E9
C3 10 98 .711pf
D1 9 139 DX
D2 112 9 DX
V11 3 139 .149V
V12 112 4 .060V 
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-9 1E-9
R13 98 16 40 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*C5 98 15 14.5N  
*C5 98 15 3N 
*   
*CCOMP 97 100 20000nf 
*RCOMP 100 9 100000 
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 15 98 1E-6 
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 1V
V4 36 35 1V 
*V5,V4 SET ISC
R16 34 97 300
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 300 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE 
*** ****************** MAX951/2 VOLTAGE REF.  
*
VREF 301 4 1.23V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0 
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)  
***=============================== 
*       COMPARATOR 
*
.model qin NPN(Is=800.0E-18 Bf=6.25E3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=249.8E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=10.3E3 Cjc=1E-15 Tf=708E-12 Tr=166.7E-9)
.MODEL DP D(N=0.001) 
*=======================
dp100    4  3 DX
f201    3  109 v101 1
iee200   107  500 dc 100.0E-6
q201    109  120  107 qin
q102    108  121  107 qin
q103    109  108  499 qmo
q104    108 108  499 qmi
VMB100 500 0 0V
VPB100 499 3 0V 
***================
RIN101 102 123 20K
RIN102 101 125 20K 
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP 
*** 
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V 
***=================
e101   110  4  3  109  1
v101   110 111 dc 0
q105    105 111  144 qoc
VSHIFT100  144 500 0V
R155 499 105 1K
DP105 105 3 DP
DP106 4 105 DP 
***============= Hysterisis section
GH100 0 151 197 0 .5E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V 
***=================
GHYST100 155 0 4 0 1E-6
GREF100 0 155 235 4 1E-6  
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6 
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65 
****V104,V105 SET ISC
R116 141 197 300
R117 142 197 300
E111 3 133 3 132 1
VA108 133 134 0V 
*========================
.ends 
* 
* 
* 
* 
*   ////////////// MAX9002 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX9000 DATA SHEET       <==== 
* 
* 
* connections:   AMPIN+(3) 
*                |  AMPIN-(2) COMPIN+(5)     
*                |  |         |   +V(8) -V(4)         
*                |  |         |    |    |    REF&COMPIN-(6)   
*                |  |         |    |    |    |    AMPOUT(1) 
*                |  |         |    |    |    |    |   COMPOUT(7)
.subckt max9002_MX  1  2         101  300  400  235  97  197 
* 
*=======================
VREFCOMP 235 102 0V
VSENSEP 300 3 0V
VSENSEN 400 4 0V
FSENSEP 300 0 VSENSEP -1
FSENSEN 400 0 VSENSEN -1
ISUPPLY 300 400 7UA 
*** ********************* MAX951 AMPLIFIER 
****************INPUT STAGE**********************
I1 3 41 50U
M1   5  2 41 3 MOSFET
R3   5 4  2.6k 
***   was 5.269k 
*
M2   6  7 41 3 MOSFET
R4   6 4 2.6k
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 4.566e-6
VS 9 10 0V
R0  98  9 219E9
C3 10 98 .711pf
D1 9 139 DX
D2 112 9 DX
V11 3 139 .149V
V12 112 4 .060V 
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-9 1E-9
R13 98 16 40 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*C5 98 15 14.5N  
*C5 98 15 3N 
*   
*CCOMP 97 100 20000nf 
*RCOMP 100 9 100000 
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 15 98 1E-6 
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 1V
V4 36 35 1V 
*V5,V4 SET ISC
R16 34 97 300
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 300 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE 
*** ****************** MAX951/2 VOLTAGE REF.  
*
VREF 301 4 1.23V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0 
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)  
***=============================== 
*       COMPARATOR 
*
.model qin NPN(Is=800.0E-18 Bf=6.25E3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=249.8E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=10.3E3 Cjc=1E-15 Tf=708E-12 Tr=166.7E-9)
.MODEL DP D(N=0.001) 
*=======================
dp100    4  3 DX
f201    3  109 v101 1
iee200   107  500 dc 100.0E-6
q201    109  120  107 qin
q102    108  121  107 qin
q103    109  108  499 qmo
q104    108 108  499 qmi
VMB100 500 0 0V
VPB100 499 3 0V 
***================
RIN101 102 123 20K
RIN102 101 125 20K 
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP 
*** 
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V 
***=================
e101   110  4  3  109  1
v101   110 111 dc 0
q105    105 111  144 qoc
VSHIFT100  144 500 0V
R155 499 105 1K
DP105 105 3 DP
DP106 4 105 DP 
***============= Hysterisis section
GH100 0 151 197 0 .5E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V 
***=================
GHYST100 155 0 4 0 1E-6
GREF100 0 155 235 4 1E-6  
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6 
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65 
****V104,V105 SET ISC
R116 141 197 300
R117 142 197 300
E111 3 133 3 132 1
VA108 133 134 0V 
*========================
.ends 
* 
* 
* 
* 
*   ////////////// MAX9003 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX9000 DATA SHEET       <==== 
* 
* 
* connections:   AMPIN+(3) 
*                |  AMPIN-(2) COMPIN+(5)     
*                |  |         |   +V(8) -V(4)         
*                |  |         |    |    |    REF&COMPIN-(6)   
*                |  |         |    |    |    |    AMPOUT(1) 
*                |  |         |    |    |    |    |   COMPOUT(7)
.subckt max9003_MX  1  2         101  300  400  235  97  197 
* 
*=======================
VREFCOMP 235 102 0V
VSENSEP 300 3 0V
VSENSEN 400 4 0V
FSENSEP 300 0 VSENSEP -1
FSENSEN 400 0 VSENSEN -1
ISUPPLY 300 400 7UA 
*** *********************  AMPLIFIER 
****************INPUT STAGE**********************
I1 3 41 50U
M1   5  2 41 3 MOSFET
R3   5 4  2.6k 
***   was 5.269k 
*
M2   6  7 41 3 MOSFET
R4   6 4 2.6k
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 4.566e-6
VS 9 10 0V
R0  98  9 219E9
C3 10 98 .114pf
D1 9 139 DX
D2 112 9 DX
V11 3 139 .149V
V12 112 4 .060V 
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-9 1E-9
R13 98 16 40 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*C5 98 15 14.5N  
*C5 98 15 3N 
*   
*CCOMP 97 100 20000nf 
*RCOMP 100 9 100000 
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 15 98 1E-6 
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 1V
V4 36 35 1V 
*V5,V4 SET ISC
R16 34 97 300
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 300 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE 
*** ****************** MAX951/2 VOLTAGE REF.  
*
VREF 301 4 1.23V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0 
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)  
***=============================== 
*       COMPARATOR 
*
.model qin NPN(Is=800.0E-18 Bf=6.25E3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=249.8E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=10.3E3 Cjc=1E-15 Tf=708E-12 Tr=166.7E-9)
.MODEL DP D(N=0.001) 
*=======================
dp100    4  3 DX
f201    3  109 v101 1
iee200   107  500 dc 100.0E-6
q201    109  120  107 qin
q102    108  121  107 qin
q103    109  108  499 qmo
q104    108 108  499 qmi
VMB100 500 0 0V
VPB100 499 3 0V 
***================
RIN101 102 123 20K
RIN102 101 125 20K 
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP 
*** 
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V 
***=================
e101   110  4  3  109  1
v101   110 111 dc 0
q105    105 111  144 qoc
VSHIFT100  144 500 0V
R155 499 105 1K
DP105 105 3 DP
DP106 4 105 DP 
***============= Hysterisis section
GH100 0 151 197 0 .5E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V 
***=================
GHYST100 155 0 4 0 1E-6
GREF100 0 155 235 4 1E-6  
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6 
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65 
****V104,V105 SET ISC
R116 141 197 300
R117 142 197 300
E111 3 133 3 132 1
VA108 133 134 0V 
*========================
.ends 
* 
* 
* 
* 
*   ////////////// MAX9005 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX9000 DATA SHEET       <==== 
* 
* 
* connections:   AMPIN+(3) 
*                |  AMPIN-(2) COMPIN+(5)     
*                |  |         |   +V(8) -V(4)         
*                |  |         |    |    |    REF&COMPIN-(6)   
*                |  |         |    |    |    |    AMPOUT(1) 
*                |  |         |    |    |    |    |   COMPOUT(7)
.subckt max9005_MX  1  2         101  300  400  235  97  197 
* 
*=======================
VREFCOMP 235 102 0V
VSENSEP 300 3 0V
VSENSEN 400 4 0V
FSENSEP 300 0 VSENSEP -1
FSENSEN 400 0 VSENSEN -1
ISUPPLY 300 400 7UA 
*** *********************  AMPLIFIER 
****************INPUT STAGE**********************
I1 3 41 50U
M1   5  2 41 3 MOSFET
R3   5 4  2.6k 
***   was 5.269k 
*
M2   6  7 41 3 MOSFET
R4   6 4 2.6k
CI1  1  0 2P
CI2  2  0 2P
DP1  1 3 DA
DP2 4  1 DA
DP3  2 3 DB
DP4 4  2 DB 
************ GAIN, 1ST POLE, SLEW STAGE************
EH 3 98 3 4 0.5
G0  98  9 5 6 4.566e-6
VS 9 10 0V
R0  98  9 219E9
C3 10 98 .114pf
D1 9 139 DX
D2 112 9 DX
V11 3 139 .149V
V12 112 4 .060V 
************      I2 3 4 -19U
EOS 7 1 POLY(1) 16 98 0 1 
*CHANGE OFFSET VOLTAGE TO 0V FOR OPEN-LOOP, OTHERWISE VOS 
*********COMMON-MODE ZERO STAGE********
G4 98 16 POLY(2) 1 98 2 98 0 1E-9 1E-9
R13 98 16 40 
******* POLE STAGE **********
G3 98 15 10 98 1E-3
R12 98 15 1E3 
*C5 98 15 14.5N  
*C5 98 15 3N 
*   
*CCOMP 97 100 20000nf 
*RCOMP 100 9 100000 
*************OUTPUT STAGE****************
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
G12 98 32 15 98 1E-6 
*                ^ INSERT NODE FROM LAST STAGE HERE
R15 98 32 1E6
D3 32 36 DX
D4 37 32 DX
V5 35 37 1V
V4 36 35 1V 
*V5,V4 SET ISC
R16 34 97 300
E1 3 33 3 32 1
VA8 33 34 0V
RCON 35 97 300 
******************************************
.MODEL DA D(IS=100E-14 RS=.5K)
.MODEL DB D(IS=100E-14 RS=.5K)
.MODEL DX D(IS=100E-14)
.MODEL MOSFET PMOS(VTO=-1.7 KP=5E-3) 
*VTO ESTABLISHES INPUT VOLT. RANGE 
*** ****************** MAX951/2 VOLTAGE REF.  
*
VREF 301 4 1.23V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 300 400 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0 
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)  
***=============================== 
*       COMPARATOR 
*
.model qin NPN(Is=800.0E-18 Bf=6.25E3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=249.8E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
.model qoc NPN(Is=800.0E-18 Bf=10.3E3 Cjc=1E-15 Tf=708E-12 Tr=166.7E-9)
.MODEL DP D(N=0.001) 
*=======================
dp100    4  3 DX
f201    3  109 v101 1
iee200   107  500 dc 100.0E-6
q201    109  120  107 qin
q102    108  121  107 qin
q103    109  108  499 qmo
q104    108 108  499 qmi
VMB100 500 0 0V
VPB100 499 3 0V 
***================
RIN101 102 123 20K
RIN102 101 125 20K 
***
DCM102 170 3 DP
DCM101 4 124 DP
VCM101 170 124 1.3V
DCM103 4 126 DP
VCM102 171 126 1.3V
DCM104 171 3 DP 
*** 
***=================
EHYST100 123 120 POLY(1) 0 160 0 1
VS102 121 125 0V 
***=================
e101   110  4  3  109  1
v101   110 111 dc 0
q105    105 111  144 qoc
VSHIFT100  144 500 0V
R155 499 105 1K
DP105 105 3 DP
DP106 4 105 DP 
***============= Hysterisis section
GH100 0 151 197 0 .5E-6
RH101 3 51 1E9
RH102 4 51 1E9
DP101 151 152 DP
DP102 153 151 DP
VP100 152 0 1V
VP102 153 0 -1V 
***=================
GHYST100 155 0 4 0 1E-6
GREF100 0 155 235 4 1E-6  
*NODE 235 STAYS SAME FOR BOTH AMPLIFIERS.
RREF100 155 0 1E6
DP110 155 156 DP
DP120 157 155 DP
VP110 156 0 50MV
VP120 157 0 0MV 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT100 160 0 POLY(2) 151 0 155 0 0 0  0 0 1E-6
RMULT100 160 0 1E6 
*================
VVIRTUAL100 198 0 0V
F105 3 138 VA108 1
D109 140 138 DX
D110 138 3 DX
VA107 3 140 0
F106 300  400 VA107 1
G112 198 132 105 0 7.04E-3
R115 198 132 142
D103 136 141 DX
D104 142 137 DX
V105 134 136 -.63
V104 137 134 -.65 
****V104,V105 SET ISC
R116 141 197 300
R117 142 197 300
E111 3 133 3 132 1
VA108 133 134 0V 
*========================
.ends 
 
* MAX965 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* Rail-to-Rail Outputs 
* Ultra-Low-Voltage 
* Available in 8-Pin SO/uMAX          (MAX965/MAX966) 
*             16-Pin Narrow-SO/QSOP   (MAX969) 
*             14-Pin SO/16-Pin QSOP   (MAX970) 
* 
* 
* PART NUMBER    DESCRIPTION 
* ___________    _____________________________________ 
* MAX965         Single, With (1.235V) Internal Reference and Programmable Hysteresis 
* MAX966         Dual, Without Internal Reference and Programmable Hysteresis 
* MAX969         Quad, With (1.235V) Internal Reference and Programmable Hysteresis 
* MAX970         Quad, Without Internal Reference and Programmable Hysteresis 
* 
* Note: MAX967 and MAX968 are not modeled 
* 
* 
*   ////////////// MAX965 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX965 DATA SHEET       <==== 
* 
* connections:   +IN 
*                | -IN 
*                | | V+  
*                | | | V- 
*                | | | | HYST.       
*                | | | | |  REF.   
*                | | | | |  |   OUT. 
*                | | | | |  |   |
.subckt max965_MX   1 2 3 4 49 235 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
RIN1 2 23 2K
RIN2 1 25 2K 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP 
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V 
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  2
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
RINH 49 50 200
I50 50 0 12ua
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65 
****V4,V5 SET ISC
R16 41 35 300
R17 42 35 300
E11 3 33 3 32 1
VA8 33 34 0V
VL 35 97 0 
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001 rs=100) 
*======================= 
*======================= 
* MAX921-924 VOLTAGE REF.  
*
VREF 301 4 1.235V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0 
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends 
* 
* 
* 
* 
*   ////////////// MAX966 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX965 DATA SHEET       <==== 
* 
* connections:   +IN 
*                | -IN 
*                | | V+  
*                | | | V- 
*                | | | |        
*                | | | |    
*                | | | |  OUT. 
*                | | | |  |
.subckt max966_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
RIN1 2 23 2K
RIN2 1 25 2K 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP 
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA 
***
vzero 23 20 0v
VS2 21 25 0V 
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=16.662E-6)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  2
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65 
****V4,V5 SET ISC
R16 41 35 300
R17 42 35 300
E11 3 33 3 32 1
VA8 33 34 0V
VL 35 97 0 
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001 rs=100) 
*======================= 
*======================= 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends 
* 
* 
* 
* 
*   ////////////// MAX969 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX965 DATA SHEET       <==== 
* 
* connections:   +IN 
*                | -IN 
*                | | V+  
*                | | | V- 
*                | | | | HYST.       
*                | | | | |  REF.   
*                | | | | |  |   OUT. 
*                | | | | |  |   |
.subckt max969_MX   1 2 3 4 49 235 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
RIN1 2 23 2K
RIN2 1 25 2K 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP 
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V 
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=6.662E-6)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  2
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
RINH 49 50 200
I50 50 0 12ua
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65 
****V4,V5 SET ISC
R16 41 35 300
R17 42 35 300
E11 3 33 3 32 1
VA8 33 34 0V
VL 35 97 0 
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001 rs=100) 
*======================= 
*======================= 
* MAX921-924 VOLTAGE REF.  
*
VREF 301 4 1.235V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0 
***=====================
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends 
* 
* 
* 
* 
*   ////////////// MAX970 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX965 DATA SHEET       <==== 
* 
* connections:   +IN 
*                | -IN 
*                | | V+  
*                | | | V- 
*                | | | |        
*                | | | |    
*                | | | |  OUT. 
*                | | | |  |
.subckt max970_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
RIN1 2 23 2K
RIN2 1 25 2K 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP 
***
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA 
***
vzero 23 20 0v
VS2 21 25 0V 
*.model qin NPN(Is=800.0E-18 Bf=2.000E3)
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=16.662E-6)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  2
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65 
****V4,V5 SET ISC
R16 41 35 300
R17 42 35 300
E11 3 33 3 32 1
VA8 33 34 0V
VL 35 97 0 
*========================
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1E-15 Tf=25.53E-9 Tr=6.983E-6)
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001 rs=100) 
*======================= 
*======================= 
* 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends 
 
* MAX976 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* High Speed Mode, 20nS Propagation Delay (50mV overdrive) 
* Rail-to-Rail Outputs 
* Single +3/+5V Supply Operation 
* Available in 8-Pin SO/6-PIN SOT23-6 (Single MAX998) 
*              8-Pin SO/uMAX (Dual MAX976) 
*             16-Pin SO/QSOP (Quad MAX978) 
* 
* 
* PART NUMBER    DESCRIPTION 
* ___________    _____________________________________ 
* MAX976         Dual, High Speed, 20nS delay 
* MAX978         Quad, High Speed, 20nS delay 
* MAX998         Single, High Speed, 20nS delay 
* 
*       The Shutdown feature is not modeled on the MAX998 
* 
*   ////////////// MAX976 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX976 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max976_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .95
VIN2 1 25 .95 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 -.1V
DCM3 4 26 DP
VCM2 71 26 -.1V
DCM4 71 3 DP 
***
IPSUP 3 0 -2.3MA
INSUP 0 4 0UA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=666.3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=17.4E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  2
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 1MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=30E-12 Tr=11.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends 
* 
* 
* 
* 
*   ////////////// MAX978 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX976 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max978_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .95
VIN2 1 25 .95 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 -.1V
DCM3 4 26 DP
VCM2 71 26 -.1V
DCM4 71 3 DP 
***
IPSUP 3 0 -2.3MA
INSUP 0 4 0UA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=666.3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=17.4E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  2
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 1MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=30E-12 Tr=11.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends 
* 
* 
* 
* 
*   ////////////// MAX998 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX976 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max998_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .95
VIN2 1 25 .95 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 -.1V
DCM3 4 26 DP
VCM2 71 26 -.1V
DCM4 71 3 DP 
***
IPSUP 3 0 -2.3MA
INSUP 0 4 0UA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=666.3)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=17.4E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  2
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 1MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=10.35E3 Cjc=1E-15 Tf=30E-12 Tr=11.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends 
 
* MAX985 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* Rail-to-Rail Outputs 
* +2.5V to +5.5V Single-Supply Operation 
* Available in 8-Pin SO/5-PIN SOT23-5 (MAX985/MAX986) 
*              8-Pin SO/uMAX          (MAX989/MAX990) 
*             14-Pin SO               (MAX993/MAX994) 
* 
* 
* PART NUMBER    DESCRIPTION 
* ___________    _____________________________________ 
* MAX985         Single, Push/Pull 
* MAX986         Single, Open-Drain 
* MAX989         Dual, Push/Pull 
* MAX990         Dual, Open-Drain 
* MAX993         Quad, Push/Pull 
* MAX994         Quad, Open-Drain 
* 
* 
*   ////////////// MAX985 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX985 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max985_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .75
VIN2 1 25 .75 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 0V
DCM3 4 26 DP
VCM2 71 26 0V
DCM4 71 3 DP 
***
IPSUP 3 0 -.606ma
INSUP 0 4 -.585ma 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=50e6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=374.7E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  1 
***** last was 1
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 3MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=748E-12 Tr=251.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends      
* 
* 
* 
* 
*   ////////////// MAX986 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX985 DATA SHEET       <==== 
* 
* 
* connections:   Non-Inverting input 
*                | Inverting input 
*                | | Positive power supply 
*                | | | Negative power supply 
*                | | | | Open-Drain output 
*                | | | | |
.subckt max986_MX   1 2 3 4 5 
*
F1    3  9 v1 1
Iee   7  4 dc 100.0E-6 
*** vi1 and vi2 help with input common mode
Vi1   1 21 dc .75
Vi2   2 22 dc .75
q1    9 22  7 qin
q2    8 21  7 qin
q3    9  8  3 qmo
q4    8  8  3 qmi
.model qin NPN(Is=800.0E-18 Bf=50.00E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=374.7E-9)
E1   10  4  3  9  1
V1   10 11 dc 0 
*** open drain output transistor
Q5    5 11  4 qoc
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=748.1E-12 Tr=251.7E-9)
dp    4  3 dx
.model dx  D(Is=800.0E-18)
Id 4 0 1.057ma
Is 3 0 -1.057ma 
*
.ends 
* 
* 
* 
* 
*   ////////////// MAX989 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX985 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max989_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .75
VIN2 1 25 .75 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 0V
DCM3 4 26 DP
VCM2 71 26 0V
DCM4 71 3 DP 
***
IPSUP 3 0 -.606ma
INSUP 0 4 -.585ma 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=50e6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=374.7E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  1 
***** last was 1
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 3MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=748E-12 Tr=251.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends      
* 
* 
* 
* 
*   ////////////// MAX990 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX985 DATA SHEET       <==== 
* 
* 
* connections:   Non-Inverting input 
*                | Inverting input 
*                | | Positive power supply 
*                | | | Negative power supply 
*                | | | | Open-Drain output 
*                | | | | |
.subckt max990_MX   1 2 3 4 5 
*
F1    3  9 v1 1
Iee   7  4 dc 100.0E-6 
*** vi1 and vi2 help with input common mode
Vi1   1 21 dc .75
Vi2   2 22 dc .75
q1    9 22  7 qin
q2    8 21  7 qin
q3    9  8  3 qmo
q4    8  8  3 qmi
.model qin NPN(Is=800.0E-18 Bf=50.00E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=374.7E-9)
E1   10  4  3  9  1
V1   10 11 dc 0 
*** open drain output transistor
Q5    5 11  4 qoc
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=748.1E-12 Tr=251.7E-9)
dp    4  3 dx
.model dx  D(Is=800.0E-18)
Id 4 0 1.057ma
Is 3 0 -1.057ma 
*
.ends 
* 
* 
* 
* 
*   ////////////// MAX993 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX985 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max993_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .75
VIN2 1 25 .75 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 0V
DCM3 4 26 DP
VCM2 71 26 0V
DCM4 71 3 DP 
***
IPSUP 3 0 -.606ma
INSUP 0 4 -.585ma 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=50e6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=374.7E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  1 
***** last was 1
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 3MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=748E-12 Tr=251.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ends      
* 
* 
* 
* 
*   ////////////// MAX994 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX985 DATA SHEET       <==== 
* 
* 
* connections:   Non-Inverting input 
*                | Inverting input 
*                | | Positive power supply 
*                | | | Negative power supply 
*                | | | | Open-Drain output 
*                | | | | |
.subckt max994_MX   1 2 3 4 5 
*
F1    3  9 v1 1
Iee   7  4 dc 100.0E-6 
*** vi1 and vi2 help with input common mode
Vi1   1 21 dc .75
Vi2   2 22 dc .75
q1    9 22  7 qin
q2    8 21  7 qin
q3    9  8  3 qmo
q4    8  8  3 qmi
.model qin NPN(Is=800.0E-18 Bf=50.00E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=374.7E-9)
E1   10  4  3  9  1
V1   10 11 dc 0 
*** open drain output transistor
Q5    5 11  4 qoc
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=748.1E-12 Tr=251.7E-9)
dp    4  3 dx
.model dx  D(Is=800.0E-18)
Id 4 0 1.057ma
Is 3 0 -1.057ma 
*
.ends 
 
* MAX987 FAMILY MACROMODELS 
* ------------------------- 
* FEATURES: 
* High-Speed 
* Rail-to-Rail Outputs 
* +2.5V to +5.5V Single-Supply Operation 
* Available in 8-Pin SO/5-PIN SOT23-5 (MAX987/MAX988) 
*              8-Pin SO/uMAX          (MAX991/MAX992) 
*             14-Pin SO               (MAX995/MAX996) 
* 
* 
* PART NUMBER    DESCRIPTION 
* ___________    _____________________________________ 
* MAX987         Single, Push/Pull 
* MAX988         Single, Open-Drain 
* MAX991         Dual, Push/Pull 
* MAX992         Dual, Open-Drain 
* MAX995         Quad, Push/Pull 
* MAX996         Quad, Open-Drain 
* 
* 
*   ////////////// MAX987 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX987 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max987_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .75
VIN2 1 25 .75 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 0V
DCM3 4 26 DP
VCM2 71 26 0V
DCM4 71 3 DP 
***
IPSUP 3 0 -1.497MA
INSUP 0 4 -1.496mA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=50e6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=174.9E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  1 
***** last was 1
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 3MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=187E-12 Tr=117.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX988 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX987 DATA SHEET       <==== 
*  
* 
*Connections :   non-inverting input 
*                | inverting input 
*                | | positive power supply 
*                | | | negative power supply 
*                | | | | open drain output 
*                | | | | |
.subckt max988_MX   1 2 3 4 5 
*
F1    3  9 v1 1
Iee   7  4 dc 100.0E-6
vi1   1 21 dc .75
vi2   2 22 dc .75 
  ****
q1    9 22  7 qin
q2    8 21  7 qin
q3    9  8  3 qmo
q4    8  8  3 qmi
.model qin NPN(Is=800.0E-18 Bf=50.00E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=174.9E-9)
E1   10  4  3  9  1
v1   10 11 dc 0
q5    5 11  4 qoc 
  ***
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=187.0E-12 Tr=117.7E-9)
dp    4  3 dx
.model dx  D(Is=800.0E-18) 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX991 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX987 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max991_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .75
VIN2 1 25 .75 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 0V
DCM3 4 26 DP
VCM2 71 26 0V
DCM4 71 3 DP 
***
IPSUP 3 0 -1.497MA
INSUP 0 4 -1.496mA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=50e6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=174.9E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  1 
***** last was 1
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 3MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=187E-12 Tr=117.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX992 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX987 DATA SHEET       <==== 
*  
* 
*Connections :   non-inverting input 
*                | inverting input 
*                | | positive power supply 
*                | | | negative power supply 
*                | | | | open drain output 
*                | | | | |
.subckt max992_MX   1 2 3 4 5 
*
F1    3  9 v1 1
Iee   7  4 dc 100.0E-6
vi1   1 21 dc .75
vi2   2 22 dc .75 
  ****
q1    9 22  7 qin
q2    8 21  7 qin
q3    9  8  3 qmo
q4    8  8  3 qmi
.model qin NPN(Is=800.0E-18 Bf=50.00E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=174.9E-9)
E1   10  4  3  9  1
v1   10 11 dc 0
q5    5 11  4 qoc 
  ***
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=187.0E-12 Tr=117.7E-9)
dp    4  3 dx
.model dx  D(Is=800.0E-18) 
*
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX995 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX987 DATA SHEET       <==== 
* 
* 
* connections:        non-inverting input, +IN 
*                     |   inverting input, -IN 
*                     |   |   positive power-supply, V+ 
*                     |   |   |   negative power-supply, V- 
*                     |   |   |   |   output, OUT 
*                     |   |   |   |   | 
* NODE CONNECTIONS:   1   2   3   4   97 
*
.subckt max995_MX   1 2 3 4 97 
*
f101    3  9 v1 1
iee100   7  400 dc 100.0E-6
q101    9  20  7 qin
q2    8  21  7 qin
q3    9  8  399 qmo
q4    8  8  399 qmi
VMB 400 4 0V
VPB 399 3 0V 
***================
VIN1 2 23 .75
VIN2 1 25 .75 
***
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 0V
DCM3 4 26 DP
VCM2 71 26 0V
DCM4 71 3 DP 
***
IPSUP 3 0 -1.497MA
INSUP 0 4 -1.496mA 
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=50e6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=174.9E-9)
.MODEL PMOS PMOS  
*(VTO=-1.7 KP=1.8E-3)
e1   10  4  3  9  1 
***** last was 1
v1   10 11 dc 0
q5    5 11  44 qoc
vshift 44 4 0v
R55 3 5 10K
DP5 5 3 DP
DP6 4 5 DP 
***============= Hysterisis section
GH 0 51 97 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG 
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V 
***=================
IHYST 55 0 -1.5E-9 
*GENERATES 3MV OF HYST.
RREF 55 0 1E6 
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0  0 0 1E-6
RMULT 60 0 1E6 
*================ 
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3  4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 140
D3 36 41 DP
D4 42 37 DP
V4 37 34 .05
V5 34 36 .05 
***V4,V5 SET ISC, V4 VOL, V5 VOH.
R16 41 35 10
R17 42 35 10
E11 3 33 3 32 1
VA8 33 34 0V
RL 35 97 25 
*========================
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=187E-12 Tr=117.7E-9)
dp    4  3 DX
.MODEL DX  D(Is=800.0E-18)
.MODEL DP D(N=0.001) 
*======================= 
***== MODELS USED ==***
.MODEL DX2 D(IS=1E-15 n=0.001)  
*.MODEL DX D(IS=1E-15)
.ENDS 
* 
* 
* 
* 
*   ////////////// MAX996 MACROMODEL ////////////////// 
* 
*   ====>      REFER TO MAX987 DATA SHEET       <==== 
*  
* 
*Connections :   non-inverting input 
*                | inverting input 
*                | | positive power supply 
*                | | | negative power supply 
*                | | | | open drain output 
*                | | | | |
.subckt max996_MX   1 2 3 4 5 
*
F1    3  9 v1 1
Iee   7  4 dc 100.0E-6
vi1   1 21 dc .75
vi2   2 22 dc .75 
  ****
q1    9 22  7 qin
q2    8 21  7 qin
q3    9  8  3 qmo
q4    8  8  3 qmi
.model qin NPN(Is=800.0E-18 Bf=50.00E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1E-15 Tr=174.9E-9)
E1   10  4  3  9  1
v1   10 11 dc 0
q5    5 11  4 qoc 
  ***
.model qoc NPN(Is=800.0E-18 Bf=20.29E3 Cjc=1E-15 Tf=187.0E-12 Tr=117.7E-9)
dp    4  3 dx
.model dx  D(Is=800.0E-18) 
*
.ENDS
